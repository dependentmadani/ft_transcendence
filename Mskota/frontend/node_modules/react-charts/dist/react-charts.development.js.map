{"version":3,"file":"react-charts.development.js","sources":["../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelperLoose.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/number.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/extent.js","../node_modules/internmap/src/index.js","../node_modules/d3-array/src/identity.js","../node_modules/d3-array/src/group.js","../node_modules/d3-array/src/permute.js","../node_modules/d3-array/src/sort.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/quickselect.js","../node_modules/d3-array/src/quantile.js","../node_modules/d3-array/src/median.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/sum.js","../src/hooks/useGetLatest.ts","../src/hooks/useIsomorphicLayoutEffect.ts","../src/utils/Utils.ts","../src/utils/chartContext.tsx","../src/seriesTypes/Bar.tsx","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/area.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","../src/utils/curveMonotone.ts","../src/seriesTypes/Line.tsx","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time/src/ticks.js","../node_modules/d3-scale/node_modules/d3-time-format/src/locale.js","../node_modules/d3-scale/node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-scale/src/utcTime.js","../node_modules/d3-time-format/node_modules/d3-time/src/interval.js","../node_modules/d3-time-format/node_modules/d3-time/src/duration.js","../node_modules/d3-time-format/node_modules/d3-time/src/day.js","../node_modules/d3-time-format/node_modules/d3-time/src/week.js","../node_modules/d3-time-format/node_modules/d3-time/src/year.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcDay.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../src/utils/buildAxis.linear.ts","../src/components/AxisLinear.useMeasure.ts","../src/components/AxisLinear.tsx","../src/hooks/usePrevious.ts","../src/hooks/useLatestWhen.ts","../src/hooks/usePortalElement.ts","../src/hooks/useRect.ts","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/construct.js","../src/utils/spring.ts","../src/hooks/useSpring.ts","../src/components/Cursors.tsx","../src/hooks/useAnchor.tsx","../src/components/TooltipRenderer.tsx","../src/components/Tooltip.tsx","../node_modules/delaunator/index.js","../node_modules/d3-delaunay/src/path.js","../node_modules/d3-delaunay/src/polygon.js","../node_modules/d3-delaunay/src/voronoi.js","../node_modules/d3-delaunay/src/delaunay.js","../src/components/Voronoi.tsx","../src/components/Chart.tsx"],"sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(value);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export default function(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","export default function(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f = ascending] = F;\n  if (f.length === 1 || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascending(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascending(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(f);\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","import quantile from \"./quantile.js\";\n\nexport default function(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import React from 'react'\n\nexport default function useGetLatest<T>(obj: T) {\n  const ref = React.useRef<T>(obj)\n  const getterRef = React.useRef<() => T>()\n\n  ref.current = obj\n  if (!getterRef.current) {\n    getterRef.current = () => ref.current\n  }\n\n  return getterRef.current\n}\n","import React from 'react'\n\nexport default typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : React.useEffect\n","import {\n  Datum,\n  DatumFocusStatus,\n  DatumStyles,\n  Series,\n  SeriesFocusStatus,\n  SeriesStyles,\n} from '../types'\n\nexport function getSeriesStatus<TDatum>(\n  series: Series<TDatum>,\n  focusedDatum: Datum<TDatum> | null\n): SeriesFocusStatus {\n  if (focusedDatum?.seriesId === series.id) {\n    return 'focused'\n  }\n\n  return 'none'\n}\n\nexport function getDatumStatus<TDatum>(\n  datum: Datum<TDatum>,\n  focusedDatum: Datum<TDatum> | null\n): DatumFocusStatus {\n  if (datum === focusedDatum) {\n    return 'focused'\n  }\n\n  if (\n    datum.tooltipGroup?.some(groupDatum => {\n      groupDatum.seriesId === focusedDatum?.seriesId &&\n        groupDatum.index === focusedDatum?.index\n    })\n  ) {\n    return 'groupFocused'\n  }\n\n  return 'none'\n}\n\nconst elementTypes = ['area', 'line', 'rectangle', 'circle'] as const\n\nexport function materializeStyles(\n  style: SeriesStyles | DatumStyles = {},\n  defaults: SeriesStyles | DatumStyles = {}\n) {\n  style = normalizeColor(style, defaults)\n  for (let i = 0; i < elementTypes.length; i++) {\n    const type = elementTypes[i]\n    if (style[type] && defaults[type]) {\n      style[type] = materializeStyles(style[type], defaults)\n    }\n  }\n  return style\n}\n\nexport function translate(x: number, y: number) {\n  return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`\n}\n\n//\n\nfunction normalizeColor(\n  style: SeriesStyles | DatumStyles,\n  defaults: SeriesStyles | DatumStyles\n): SeriesStyles | DatumStyles {\n  return {\n    ...style,\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color,\n  }\n}\n\nexport function isDefined(num: number) {\n  return typeof num === 'number' && !Number.isNaN(num)\n}\n","import * as React from 'react'\n\nimport { ChartContextValue } from '../types'\n\nconst chartContext = React.createContext<any>(null!)\n\nexport function ChartContextProvider<TDatum>({\n  value,\n  children,\n}: {\n  value: () => ChartContextValue<TDatum>\n  children: React.ReactNode\n}) {\n  return <chartContext.Provider value={value} children={children} />\n}\n\nexport default function useChartContext<TDatum>() {\n  return React.useContext(chartContext)() as ChartContextValue<TDatum>\n}\n","import React from 'react'\n\nimport { Axis, AxisBand, Datum, Series } from '../types'\nimport { translate } from '../utils/Utils'\nimport useChartContext from '../utils/chartContext'\n\n//\n\nexport default function BarComponent<TDatum>({\n  primaryAxis,\n  secondaryAxis,\n  series: allSeries,\n}: {\n  primaryAxis: Axis<TDatum>\n  secondaryAxis: Axis<TDatum>\n  series: Series<TDatum>[]\n}) {\n  const {\n    getSeriesStatusStyle,\n    getDatumStatusStyle,\n    focusedDatumState,\n    gridDimensions,\n  } = useChartContext<TDatum>()\n\n  const [focusedDatum] = focusedDatumState\n\n  const xAxis = primaryAxis.isVertical ? secondaryAxis : primaryAxis\n  const yAxis = primaryAxis.isVertical ? primaryAxis : secondaryAxis\n\n  return (\n    <g\n      style={{\n        transform: translate(gridDimensions.left, gridDimensions.top),\n      }}\n    >\n      {allSeries.map((series, i) => {\n        const style = getSeriesStatusStyle(series, focusedDatum)\n\n        return (\n          <g key={`lines-${i}`}>\n            {series.datums.map((datum, i) => {\n              const dataStyle = getDatumStatusStyle(datum, focusedDatum)\n\n              const [x, width] = clampPxToAxis(\n                getRectX(datum, primaryAxis, secondaryAxis) ?? NaN,\n                getWidth(datum, primaryAxis, secondaryAxis) ?? NaN,\n                xAxis\n              )\n              const [y, height] = clampPxToAxis(\n                getRectY(datum, primaryAxis, secondaryAxis) ?? NaN,\n                getHeight(datum, primaryAxis, secondaryAxis) ?? NaN,\n                yAxis\n              )\n\n              return (\n                <rect\n                  {...{\n                    ref: el => {\n                      datum.element = el\n                    },\n                    key: i,\n                    x,\n                    y,\n                    width,\n                    height,\n                    style: {\n                      strokeWidth: 0,\n                      ...style,\n                      ...style.rectangle,\n                      ...dataStyle,\n                      ...dataStyle.rectangle,\n                    },\n                  }}\n                />\n              )\n            })}\n          </g>\n        )\n      })}\n    </g>\n  )\n}\n\nfunction getWidth<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getSecondaryLength(datum, secondaryAxis)\n    : getPrimaryLength(datum, primaryAxis, secondaryAxis)\n}\n\nfunction getHeight<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getPrimaryLength(datum, primaryAxis, secondaryAxis)\n    : getSecondaryLength(datum, secondaryAxis)\n}\n\nexport function getPrimaryGroupLength<TDatum>(\n  _datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>\n) {\n  return Math.max(primaryAxis.primaryBandScale!.bandwidth(), 1)\n}\n\nexport function getPrimaryLength<TDatum>(\n  _datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n) {\n  if (primaryAxis.axisFamily === 'band') {\n    const bandWidth = secondaryAxis.stacked\n      ? primaryAxis.scale.bandwidth()\n      : primaryAxis.seriesBandScale.bandwidth()\n\n    return Math.min(\n      Math.max(bandWidth, primaryAxis.minBandSize ?? 1),\n      primaryAxis.maxBandSize ?? 99999999\n    )\n  }\n\n  return Math.max(\n    secondaryAxis.stacked\n      ? primaryAxis.primaryBandScale!.bandwidth()\n      : primaryAxis.seriesBandScale!.bandwidth(),\n    1\n  )\n}\n\nfunction getSecondaryLength<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  const secondary = [\n    getSecondaryStart(datum, secondaryAxis),\n    getSecondary(datum, secondaryAxis),\n  ]\n\n  return Math.abs(secondary[1] - secondary[0])\n}\n\nfunction getRectX<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getSecondaryStart(datum, secondaryAxis)\n    : getPrimary(datum, primaryAxis, secondaryAxis)\n}\n\nfunction getRectY<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getPrimary(datum, primaryAxis, secondaryAxis)\n    : getSecondary(datum, secondaryAxis)\n}\n\nexport function getPrimary<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  let primary = primaryAxis.scale(datum.primaryValue) ?? NaN\n\n  if (primaryAxis.axisFamily !== 'band') {\n    primary -= getPrimaryGroupLength(datum, primaryAxis) / 2\n  }\n\n  if (!secondaryAxis.stacked) {\n    primary =\n      primary +\n      ((primaryAxis as AxisBand<any>).seriesBandScale(datum.seriesIndex) ?? NaN)\n  }\n\n  return primary\n}\n\nfunction getSecondaryStart<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[0] ?? NaN) ?? NaN\n  }\n\n  return (\n    secondaryAxis.scale(datum.secondaryValue < 0 ? datum.secondaryValue : 0) ??\n    NaN\n  )\n}\n\nfunction getSecondary<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[1] ?? NaN) ?? NaN\n  }\n\n  return (\n    secondaryAxis.scale(datum.secondaryValue < 0 ? 0 : datum.secondaryValue) ??\n    NaN\n  )\n}\n\nfunction clampPxToAxis<TDatum>(\n  startPx: number,\n  lengthPx: number,\n  axis: Axis<TDatum>\n) {\n  const range = axis.scale.range()\n\n  if (axis.isVertical) {\n    range.reverse()\n  }\n\n  const safe = (num: number) => Math.max(range[0], Math.min(num, range[1]))\n\n  const safeStart = safe(startPx)\n  const safeEnd = safe(startPx + lengthPx)\n  const safeLength = safeEnd - safeStart\n\n  return [safeStart, safeLength] as const\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","// @ts-nocheck\nimport { CurveFactory } from 'd3-shape'\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n    h1 = x2 - that._x1,\n    s0 = (that._y1 - that._y0) / (h0 || (h1 < 0 && -0)),\n    s1 = (y2 - that._y1) / (h1 || (h0 < 0 && -0)),\n    p = (s0 * h1 + s1 * h0) / (h0 + h1)\n  return (\n    (sign(s0) + sign(s1)) *\n      Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0\n  )\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0\n  return h ? ((3 * (that._y1 - that._y0)) / h - t) / 2 : t\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n    y0 = that._y0,\n    x1 = that._x1,\n    y1 = that._y1,\n    dx = (x1 - x0) / 3\n  that._context.bezierCurveTo(\n    x0 + dx,\n    y0 + dx * t0,\n    x1 - dx,\n    y1 - dx * t1,\n    x1,\n    y1\n  )\n}\n\nfunction MonotoneX(context) {\n  this._context = context\n}\n\nMonotoneX.prototype = {\n  areaStart: function () {\n    this._line = 0\n  },\n  areaEnd: function () {\n    this._line = NaN\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN\n    this._point = 0\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1)\n        break\n      case 3:\n        point(this, this._t0, slope2(this, this._t0))\n        break\n    }\n    if (this._line || (this._line !== 0 && this._point === 1))\n      this._context.closePath()\n    this._line = 1 - this._line\n  },\n  point: function (x, y) {\n    var t1 = NaN\n\n    ;(x = +x), (y = +y)\n    if (x === this._x1 && y === this._y1) return // Ignore coincident points.\n    switch (this._point) {\n      case 0:\n        this._point = 1\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y)\n        break\n      case 1:\n        this._point = 2\n        break\n      case 2:\n        this._point = 3\n        point(this, slope2(this, (t1 = slope3(this, x, y))), t1)\n        break\n      default:\n        point(this, this._t0, (t1 = slope3(this, x, y)))\n        break\n    }\n\n    ;(this._x0 = this._x1), (this._x1 = x)\n    ;(this._y0 = this._y1), (this._y1 = y)\n    this._t0 = t1\n  },\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context)\n}\n\n;(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (\n  x,\n  y\n) {\n  MonotoneX.prototype.point.call(this, y, x)\n}\n\nfunction ReflectContext(context) {\n  this._context = context\n}\n\nReflectContext.prototype = {\n  moveTo: function (x, y) {\n    this._context.moveTo(y, x)\n  },\n  closePath: function () {\n    this._context.closePath()\n  },\n  lineTo: function (x, y) {\n    this._context.lineTo(y, x)\n  },\n  bezierCurveTo: function (x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x)\n  },\n}\n\nexport const monotoneX: CurveFactory = context => new MonotoneX(context)\n\nexport const monotoneY: CurveFactory = context => new MonotoneY(context)\n","import { area, line } from 'd3-shape'\nimport React from 'react'\n\nimport { Axis, Series, Datum } from '../types'\nimport { isDefined, translate } from '../utils/Utils'\nimport useChartContext from '../utils/chartContext'\n//\nimport { monotoneX } from '../utils/curveMonotone'\n\nexport default function Line<TDatum>({\n  primaryAxis,\n  secondaryAxis,\n  series: allSeries,\n}: {\n  primaryAxis: Axis<TDatum>\n  secondaryAxis: Axis<TDatum>\n  series: Series<TDatum>[]\n}) {\n  const {\n    getSeriesStatusStyle,\n    getDatumStatusStyle,\n    focusedDatumState,\n    gridDimensions,\n  } = useChartContext<TDatum>()\n\n  const curve = secondaryAxis.curve ?? monotoneX\n\n  const [focusedDatum] = focusedDatumState\n\n  return (\n    <g\n      style={{\n        transform: translate(gridDimensions.left, gridDimensions.top),\n      }}\n    >\n      {allSeries.map((series, i) => {\n        const style = getSeriesStatusStyle(series, focusedDatum)\n\n        let areaPath: null | string = null\n\n        if (secondaryAxis.elementType === 'area') {\n          const _x = (datum: Datum<TDatum>) => getPrimary(datum, primaryAxis)\n          const _y1 = (datum: Datum<TDatum>) =>\n            clampPxToAxis(\n              getSecondaryStart(datum, secondaryAxis),\n              secondaryAxis\n            )\n          const _y2 = (datum: Datum<TDatum>) =>\n            clampPxToAxis(getSecondary(datum, secondaryAxis), secondaryAxis)\n          const areaFn = area<Datum<TDatum>>(_x, _y1, _y2).curve(curve)\n\n          areaFn.defined(datum =>\n            [_x(datum), _y1(datum), _y2(datum)].every(isDefined)\n          )\n\n          areaPath = areaFn(series.datums)\n        }\n\n        const _x = (datum: Datum<TDatum>) => getPrimary(datum, primaryAxis)\n        const _y = (datum: Datum<TDatum>) => getSecondary(datum, secondaryAxis)\n        const lineFn = line<Datum<TDatum>>(_x, _y).curve(curve)\n        lineFn.defined(datum => [_x(datum), _y(datum)].every(isDefined))\n\n        const linePath =\n          secondaryAxis.elementType === 'area' ||\n          secondaryAxis.elementType === 'line'\n            ? lineFn(series.datums) ?? undefined\n            : undefined\n\n        const showDatumElements =\n          secondaryAxis.showDatumElements ??\n          (secondaryAxis.elementType === 'bubble' || 'onFocus')\n\n        return (\n          <g key={`lines-${i}`}>\n            {areaPath ? (\n              <path\n                d={areaPath}\n                style={{\n                  strokeWidth: 2,\n                  opacity: 0.5,\n                  ...style,\n                  ...style.area,\n                }}\n              />\n            ) : null}\n            {linePath ? (\n              <path\n                d={linePath}\n                style={{\n                  strokeWidth: 2,\n                  ...style,\n                  ...style.line,\n                  fill: 'none',\n                }}\n              />\n            ) : null}\n            {series.datums.map((datum, i) => {\n              const dataStyle = getDatumStatusStyle(datum, focusedDatum)\n\n              const radius =\n                showDatumElements === 'onFocus'\n                  ? datum === focusedDatum\n                    ? 4\n                    : 0\n                  : 2\n\n              const show =\n                showDatumElements === 'onFocus'\n                  ? datum === focusedDatum\n                  : secondaryAxis.showDatumElements ??\n                    secondaryAxis.elementType === 'bubble'\n\n              return (\n                <circle\n                  key={i}\n                  ref={el => {\n                    datum.element = el\n                  }}\n                  cx={getX(datum, primaryAxis, secondaryAxis) || 0}\n                  cy={getY(datum, primaryAxis, secondaryAxis) || 0}\n                  style={{\n                    // @ts-ignore\n                    r: radius,\n                    transition: 'all .3s ease-out',\n                    ...style,\n                    ...style.circle,\n                    ...dataStyle,\n                    ...dataStyle.circle,\n                    ...(!show ? { opacity: 0 } : {}),\n                  }}\n                />\n              )\n            })}\n          </g>\n        )\n      })}\n    </g>\n  )\n}\n\nfunction getX<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getSecondary(datum, secondaryAxis)\n    : getPrimary(datum, primaryAxis)\n}\n\nfunction getY<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getPrimary(datum, primaryAxis)\n    : getSecondary(datum, secondaryAxis)\n}\n\nfunction getPrimary<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>\n): number {\n  let primary = primaryAxis.scale(datum.primaryValue) ?? NaN\n\n  if (primaryAxis.axisFamily === 'band') {\n    primary += primaryAxis.scale.bandwidth() / 2\n  }\n\n  return primary\n}\n\nfunction getSecondary<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[1] ?? NaN) ?? NaN\n  }\n\n  return secondaryAxis.scale(datum.secondaryValue) ?? NaN\n}\n\nfunction getSecondaryStart<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[0] ?? NaN) ?? NaN\n  }\n\n  return secondaryAxis.scale(0) ?? NaN\n}\n\nfunction clampPxToAxis<TDatum>(px: number, axis: Axis<TDatum>) {\n  const range = axis.scale.range()\n  if (axis.isVertical) {\n    range.reverse()\n  }\n\n  return Math.max(range[0], Math.min(px, range[1]))\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport {sunday as week} from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport {utcSunday as utcWeek} from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, week, day, hour, minute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import { extent, max, median, min, range as d3Range } from 'd3-array'\nimport { stack, stackOffsetNone } from 'd3-shape'\nimport {\n  scaleLinear,\n  scaleLog,\n  scaleTime,\n  scaleUtc,\n  scaleBand,\n  ScaleTime,\n  ScaleLinear,\n  ScaleBand,\n} from 'd3-scale'\n\nimport {\n  timeSecond,\n  timeMinute,\n  timeHour,\n  timeDay,\n  timeMonth,\n  timeYear,\n  utcYear,\n  utcMonth,\n  utcDay,\n  utcHour,\n  utcMinute,\n  utcSecond,\n} from 'd3-time'\n\nimport { timeFormat, utcFormat } from 'd3-time-format'\n\nimport {\n  Axis,\n  AxisBand,\n  AxisBandOptions,\n  AxisLinear,\n  AxisLinearOptions,\n  AxisOptions,\n  AxisTime,\n  AxisTimeOptions,\n  BuildAxisOptions,\n  Datum,\n  GridDimensions,\n  ResolvedAxisOptions,\n  Series,\n  StackDatum,\n} from '../types'\n\nfunction defaultAxisOptions<TDatum>(\n  options: BuildAxisOptions<TDatum>\n): ResolvedAxisOptions<AxisOptions<TDatum>> {\n  return {\n    ...options,\n    elementType: options.elementType ?? 'line',\n    minTickPaddingForRotation: options.minTickPaddingForRotation ?? 10,\n    tickLabelRotationDeg: options.tickLabelRotationDeg ?? 60,\n    innerBandPadding: options.innerBandPadding ?? 0.5,\n    outerBandPadding: options.outerBandPadding ?? 0.2,\n    innerSeriesBandPadding: options.innerSeriesBandPadding ?? 0.2,\n    outerSeriesBandPadding: options.outerSeriesBandPadding ?? 0,\n    show: options.show ?? true,\n    stacked: options.stacked ?? false,\n    shouldNice: options.shouldNice ?? true,\n  }\n}\n\nexport default function buildAxisLinear<TDatum>(\n  isPrimary: boolean,\n  userOptions: BuildAxisOptions<TDatum>,\n  series: Series<TDatum>[],\n  allDatums: Datum<TDatum>[],\n  gridDimensions: GridDimensions,\n  width: number,\n  height: number\n): Axis<TDatum> {\n  const options = defaultAxisOptions(userOptions)\n\n  if (!options.position) {\n    throw new Error(`Chart axes must have a valid 'position' property`)\n  }\n\n  const isVertical = ['left', 'right'].indexOf(options.position) > -1\n\n  // Now we need to figure out the range\n  const range: [number, number] = isVertical\n    ? [gridDimensions.height, 0]\n    : [0, gridDimensions.width]\n\n  const outerRange: [number, number] = isVertical ? [height, 0] : [0, width]\n\n  // Give the scale a home\n  return options.scaleType === 'time' || options.scaleType === 'localTime'\n    ? buildTimeAxis(\n        isPrimary,\n        options,\n        series,\n        allDatums,\n        isVertical,\n        range,\n        outerRange\n      )\n    : options.scaleType === 'linear' || options.scaleType === 'log'\n    ? buildLinearAxis(\n        isPrimary,\n        options,\n        series,\n        allDatums,\n        isVertical,\n        range,\n        outerRange\n      )\n    : options.scaleType === 'band'\n    ? buildBandAxis(isPrimary, options, series, isVertical, range, outerRange)\n    : (() => {\n        throw new Error('Invalid scale type')\n      })()\n}\n\nfunction buildTimeAxis<TDatum>(\n  isPrimary: boolean,\n  options: ResolvedAxisOptions<AxisTimeOptions<TDatum>>,\n  series: Series<TDatum>[],\n  allDatums: Datum<TDatum>[],\n  isVertical: boolean,\n  range: [number, number],\n  outerRange: [number, number]\n): AxisTime<TDatum> {\n  const isLocal = options.scaleType === 'localTime'\n  const scaleFn = isLocal ? scaleTime : scaleUtc\n\n  let isInvalid = false\n\n  series = isPrimary\n    ? series\n    : series.filter(s => s.secondaryAxisId === options.id)\n\n  allDatums = isPrimary\n    ? allDatums\n    : allDatums.filter(d => d.secondaryAxisId === options.id)\n\n  // Now set the range\n  const scale = scaleFn(range)\n\n  let [minValue, maxValue] = extent(allDatums, datum => {\n    const value = options.getValue(datum.originalDatum)\n    datum[isPrimary ? 'primaryValue' : 'secondaryValue'] = value\n    return value\n  })\n\n  // Here, we find the maximum context (in descending order from year\n  // down to millisecond) needed to understand the\n  // dates in this dataset. If the min/max dates span multiples of\n  // any of the time units OR if the max date resides in a different\n  // unit boundary than today's, we use that unit as context.\n\n  let autoFormatStr: string\n\n  const units = isLocal\n    ? {\n        year: timeYear,\n        month: timeMonth,\n        day: timeDay,\n        hour: timeHour,\n        minute: timeMinute,\n        second: timeSecond,\n      }\n    : {\n        year: utcYear,\n        month: utcMonth,\n        day: utcDay,\n        hour: utcHour,\n        minute: utcMinute,\n        second: utcSecond,\n      }\n\n  if (minValue && maxValue) {\n    if (\n      units.year.count(minValue, maxValue) > 0 ||\n      units.year.floor(maxValue) < units.year()\n    ) {\n      autoFormatStr = '%b %-d, %Y %-I:%M:%S.%L %p'\n    } else if (\n      units.month.count(minValue, maxValue) > 0 ||\n      units.month.floor(maxValue) < units.month()\n    ) {\n      autoFormatStr = '%b %-d, %-I:%M:%S.%L %p'\n    } else if (\n      units.day.count(minValue, maxValue) > 0 ||\n      units.day.floor(maxValue) < units.day()\n    ) {\n      autoFormatStr = '%b %-d, %-I:%M:%S.%L %p'\n    } else if (\n      units.hour.count(minValue, maxValue) > 0 ||\n      units.hour.floor(maxValue) < units.hour()\n    ) {\n      autoFormatStr = '%-I:%M:%S.%L %p'\n    } else if (\n      units.minute.count(minValue, maxValue) > 0 ||\n      units.minute.floor(maxValue) < units.minute()\n    ) {\n      autoFormatStr = '%-I:%M:%S.%L'\n    } else if (\n      units.second.count(minValue, maxValue) > 0 ||\n      units.second.floor(maxValue) < units.second()\n    ) {\n      autoFormatStr = '%L'\n    }\n  }\n\n  const resolvedTimeFormat = isLocal ? timeFormat : utcFormat\n  const trimFormat = (str: string) => str.trim().replace(/(,$|^,)/, '')\n\n  const contextFormat = (format: string, date: Date) => {\n    if (units.second(date) < date) {\n      // milliseconds - Do not remove any context\n      return resolvedTimeFormat(format)(date)\n    }\n    if (units.minute(date) < date) {\n      // seconds - remove potential milliseconds\n      return resolvedTimeFormat(\n        trimFormat(format.replace(/\\.%L.*?(\\s|$)/, ''))\n      )(date)\n    }\n    if (units.hour(date) < date) {\n      // minutes - remove potential seconds and milliseconds\n      return resolvedTimeFormat(trimFormat(format.replace(/:%S.*?(\\s|$)/, '')))(\n        date\n      )\n    }\n    if (units.day(date) < date) {\n      // hours - remove potential minutes and seconds and milliseconds\n      return resolvedTimeFormat(trimFormat(format.replace(/:%M.*?(\\s|$)/, '')))(\n        date\n      )\n    }\n    if (units.month(date) < date) {\n      // days  - remove potential hours, minutes, seconds and milliseconds\n      return resolvedTimeFormat(trimFormat(format.replace(/%-I.*/, '')))(date)\n    }\n    if (units.year(date) < date) {\n      // months - remove potential days, hours, minutes, seconds and milliseconds\n      return resolvedTimeFormat(trimFormat(format.replace(/%-d.*/, '')))(date)\n    }\n    // years\n    return resolvedTimeFormat('%Y')(date)\n  }\n\n  let shouldNice = options.shouldNice\n\n  // see https://stackoverflow.com/a/2831422\n  if (Object.prototype.toString.call(options.min) === '[object Date]') {\n    minValue = min([options.min as Date, minValue as Date])\n    shouldNice = false\n  }\n\n  if (Object.prototype.toString.call(options.max) === '[object Date]') {\n    maxValue = max([options.max as Date, maxValue as Date])\n    shouldNice = false\n  }\n\n  if (Object.prototype.toString.call(options.hardMin) === '[object Date]') {\n    minValue = options.hardMin\n    shouldNice = false\n  }\n\n  if (Object.prototype.toString.call(options.hardMax) === '[object Date]') {\n    maxValue = options.hardMax\n    shouldNice = false\n  }\n\n  if (minValue === undefined || maxValue === undefined) {\n    console.info('Invalid scale min/max', {\n      options,\n      series,\n      range,\n      values: allDatums.map(d =>\n        isPrimary ? d.primaryValue : d.secondaryValue\n      ),\n    })\n    isInvalid = true\n  }\n\n  // Set the domain\n  scale.domain([minValue as Date, maxValue as Date])\n\n  if (options.invert) {\n    scale.domain(Array.from(scale.domain()).reverse())\n  }\n\n  if (shouldNice) {\n    scale.nice()\n  }\n\n  const outerScale = scale.copy().range(outerRange)\n\n  // Supplementary band scale\n  const primaryBandScale = isPrimary\n    ? buildPrimaryBandScale(options, scale, series, range)\n    : undefined\n\n  const seriesBandScale = primaryBandScale\n    ? buildSeriesBandScale(options, primaryBandScale, series)\n    : undefined\n\n  const primaryBandWidth = primaryBandScale?.bandwidth()\n\n  if (options.padBandRange && primaryBandWidth) {\n    const bandStart = scale.invert(0)\n    const bandEnd = scale.invert(primaryBandWidth)\n    const diff = bandEnd.valueOf() - bandStart.valueOf()\n\n    scale.domain([\n      new Date(scale.domain()[0].valueOf() - diff / 2),\n      new Date(scale.domain()[1].valueOf() + diff / 2),\n    ])\n  }\n\n  const formatters = {} as AxisTime<TDatum>['formatters']\n\n  const defaultFormat = scale.tickFormat()\n\n  const scaleFormat = (value: Date) =>\n    options.formatters?.scale?.(value, { ...formatters, scale: undefined }) ??\n    contextFormat(autoFormatStr, value)\n\n  const tooltipFormat = (value: Date) =>\n    options.formatters?.tooltip?.(value, {\n      ...formatters,\n      tooltip: undefined,\n    }) ?? scaleFormat(value)\n\n  const cursorFormat = (value: Date) =>\n    options.formatters?.cursor?.(value, { ...formatters, cursor: undefined }) ??\n    scaleFormat(value)\n\n  Object.assign(formatters, {\n    default: defaultFormat,\n    scale: scaleFormat,\n    tooltip: tooltipFormat,\n    cursor: cursorFormat,\n  })\n\n  return {\n    ...options,\n    isInvalid,\n    axisFamily: 'time',\n    isVertical,\n    scale,\n    range,\n    outerScale,\n    primaryBandScale,\n    seriesBandScale,\n    formatters: formatters,\n  }\n}\n\nfunction buildLinearAxis<TDatum>(\n  isPrimary: boolean,\n  options: ResolvedAxisOptions<AxisLinearOptions<TDatum>>,\n  series: Series<TDatum>[],\n  allDatums: Datum<TDatum>[],\n  isVertical: boolean,\n  range: [number, number],\n  outerRange: [number, number]\n): AxisLinear<TDatum> {\n  const scale = options.scaleType === 'log' ? scaleLog() : scaleLinear()\n\n  let isInvalid = false\n\n  series = isPrimary\n    ? series\n    : series.filter(s => s.secondaryAxisId === options.id)\n\n  allDatums = isPrimary\n    ? allDatums\n    : allDatums.filter(d => d.secondaryAxisId === options.id)\n\n  if (options.stacked) {\n    stackSeries(series, options)\n  }\n\n  let [minValue, maxValue] = options.stacked\n    ? extent(\n        series\n          .map(s =>\n            s.datums.map(datum => {\n              const value = options.getValue(datum.originalDatum)\n              datum[isPrimary ? 'primaryValue' : 'secondaryValue'] = value\n              return datum.stackData ?? []\n            })\n          )\n          .flat(2) as unknown as number[]\n      )\n    : extent(allDatums, datum => {\n        const value = options.getValue(datum.originalDatum)\n        datum[isPrimary ? 'primaryValue' : 'secondaryValue'] = value\n        return value\n      })\n\n  let shouldNice = options.shouldNice\n\n  if (typeof options.min === 'number') {\n    minValue = min([options.min, minValue as number])\n    shouldNice = false\n  }\n\n  if (typeof options.max === 'number') {\n    maxValue = max([options.max, maxValue as number])\n    shouldNice = false\n  }\n\n  if (\n    typeof options.minDomainLength === 'number' &&\n    !(minValue === undefined || maxValue === undefined)\n  ) {\n    const mid = median([minValue, maxValue])!\n    const top = mid + options.minDomainLength / 2\n    const bottom = mid - options.minDomainLength / 2\n    maxValue = Math.max(top, maxValue)\n    minValue = Math.min(bottom, minValue)\n  }\n\n  if (typeof options.hardMin === 'number') {\n    minValue = options.hardMin\n    shouldNice = false\n  }\n\n  if (typeof options.hardMax === 'number') {\n    maxValue = options.hardMax\n    shouldNice = false\n  }\n\n  if (minValue === undefined || maxValue === undefined) {\n    isInvalid = true\n    console.info('Invalid scale min/max', {\n      options,\n      series,\n      range,\n      values: allDatums.map(d =>\n        isPrimary ? d.primaryValue : d.secondaryValue\n      ),\n    })\n    minValue = minValue ?? 0\n    maxValue = maxValue ?? 0\n    // throw new Error('Invalid scale min/max'\n  }\n\n  // Set the domain\n  scale.domain([minValue, maxValue])\n\n  if (options.invert) {\n    scale.domain(Array.from(scale.domain()).reverse())\n  }\n\n  scale.range(range)\n\n  if (shouldNice) {\n    scale.nice()\n  }\n\n  const outerScale = scale.copy().range(outerRange)\n\n  const primaryBandScale = isPrimary\n    ? buildPrimaryBandScale(options, scale, series, range)\n    : undefined\n\n  const seriesBandScale = primaryBandScale\n    ? buildSeriesBandScale(options, primaryBandScale, series)\n    : undefined\n\n  const defaultFormat = scale.tickFormat()\n\n  const formatters = {} as AxisLinear<TDatum>['formatters']\n\n  const scaleFormat = (value: number) =>\n    options.formatters?.scale?.(value, { ...formatters, scale: undefined }) ??\n    defaultFormat(value)\n\n  const tooltipFormat = (value: number) =>\n    options.formatters?.tooltip?.(value, {\n      ...formatters,\n      tooltip: undefined,\n    }) ?? scaleFormat(value)\n\n  const cursorFormat = (value: number) =>\n    options.formatters?.cursor?.(value, { ...formatters, cursor: undefined }) ??\n    tooltipFormat(value)\n\n  Object.assign(formatters, {\n    default: defaultFormat,\n    scale: scaleFormat,\n    tooltip: tooltipFormat,\n    cursor: cursorFormat,\n  })\n\n  return {\n    ...options,\n    isInvalid,\n    axisFamily: 'linear',\n    isVertical,\n    scale,\n    range,\n    outerScale,\n    primaryBandScale,\n    seriesBandScale,\n    formatters,\n  }\n}\n\nfunction buildBandAxis<TDatum>(\n  isPrimary: boolean,\n  options: ResolvedAxisOptions<AxisBandOptions<TDatum>>,\n  series: Series<TDatum>[],\n  isVertical: boolean,\n  range: [number, number],\n  outerRange: [number, number]\n): AxisBand<TDatum> {\n  series = series.filter(d => d.secondaryAxisId === options.id)\n\n  let isInvalid = false\n\n  const domain = Array.from(\n    new Set(\n      series\n        .map(d => d.datums)\n        .flat()\n        .map(datum => {\n          const value = options.getValue(datum.originalDatum)\n          datum[isPrimary ? 'primaryValue' : 'secondaryValue'] = value\n          return value\n        })\n    )\n  )\n\n  const scale = scaleBand(domain, range)\n    .round(false)\n    .paddingOuter(options.outerBandPadding ?? 0)\n    .paddingInner(options.innerBandPadding ?? 0)\n\n  // Invert if necessary\n  if (options.invert) {\n    scale.domain(Array.from(scale.domain()).reverse())\n  }\n\n  const outerScale = scale.copy().range(outerRange)\n\n  const primaryBandScale = scale\n\n  const seriesBandScale = buildSeriesBandScale(\n    options,\n    primaryBandScale,\n    series\n  )\n\n  const defaultFormat = (d: { toString: () => string }) => d\n\n  const formatters = {} as AxisBand<TDatum>['formatters']\n\n  const scaleFormat = (value: number) =>\n    options.formatters?.scale?.(value, { ...formatters, scale: undefined }) ??\n    defaultFormat(value)\n\n  const tooltipFormat = (value: number) =>\n    options.formatters?.tooltip?.(value, {\n      ...formatters,\n      tooltip: undefined,\n    }) ?? scaleFormat(value)\n\n  const cursorFormat = (value: number) =>\n    options.formatters?.cursor?.(value, { ...formatters, cursor: undefined }) ??\n    tooltipFormat(value)\n\n  Object.assign(formatters, {\n    default: defaultFormat,\n    scale: scaleFormat,\n    tooltip: tooltipFormat,\n    cursor: cursorFormat,\n  })\n\n  return {\n    ...options,\n    isInvalid,\n    axisFamily: 'band',\n    isVertical,\n    scale,\n    range,\n    outerScale,\n    formatters,\n    primaryBandScale,\n    seriesBandScale,\n  }\n}\n\n//\n\nfunction stackSeries<TDatum>(\n  series: Series<TDatum>[],\n  axisOptions: AxisOptions<TDatum>\n) {\n  const seriesIndices = Object.keys(series)\n  const stacker = stack()\n    .keys(seriesIndices)\n    .value((_, seriesIndex, index) => {\n      const originalDatum =\n        series[Number(seriesIndex)]?.datums[index]?.originalDatum\n\n      const val =\n        typeof originalDatum !== 'undefined'\n          ? axisOptions.getValue(originalDatum)\n          : 0\n\n      if (typeof val === 'undefined' || val === null) {\n        return 0\n      }\n\n      return val\n    })\n    .offset(axisOptions.stackOffset ?? stackOffsetNone)\n\n  const stacked = stacker(\n    Array.from({\n      length: series.sort((a, b) => b.datums.length - a.datums.length)[0].datums\n        .length,\n    })\n  )\n\n  for (let sIndex = 0; sIndex < stacked.length; sIndex++) {\n    const s = stacked[sIndex]\n\n    for (let i = 0; i < s.length; i++) {\n      const datum = s[i]\n\n      if (series[sIndex].datums[i]) {\n        // @ts-ignore\n        datum.data = series[sIndex].datums[i]\n\n        series[sIndex].datums[i].stackData =\n          datum as unknown as StackDatum<TDatum>\n      }\n    }\n  }\n}\n\nfunction buildPrimaryBandScale<TDatum>(\n  options: ResolvedAxisOptions<AxisOptions<TDatum>>,\n  scale: ScaleTime<number, number, never> | ScaleLinear<number, number, never>,\n  series: Series<TDatum>[],\n  range: [number, number]\n) {\n  // Find the two closest points along axis\n\n  let impliedBandWidth: number = Math.max(...range)\n\n  for (let i = 0; i < series.length; i++) {\n    const serie = series[i]\n\n    for (let j = 0; j < serie.datums.length; j++) {\n      const d1 = serie.datums[j]\n      const one = scale(d1.primaryValue ?? NaN)\n\n      for (let k = 0; k < serie.datums.length; k++) {\n        const d2 = serie.datums[k]\n        const two = scale(d2.primaryValue ?? NaN)\n\n        if (one === two) {\n          continue\n        }\n\n        const diff = Math.abs(Math.max(one, two) - Math.min(one, two))\n\n        if (diff < impliedBandWidth) {\n          impliedBandWidth = diff\n        }\n      }\n    }\n  }\n\n  const bandRange = Math.max(...range)\n\n  const bandDomain = d3Range(bandRange / impliedBandWidth)\n\n  const primaryBandScale = scaleBand(bandDomain, range)\n    .round(false)\n    .paddingOuter(options.outerBandPadding ?? 0)\n    .paddingInner(options.innerBandPadding ?? 0)\n\n  return primaryBandScale\n}\n\nfunction buildSeriesBandScale<TDatum>(\n  options: ResolvedAxisOptions<AxisOptions<TDatum>>,\n  primaryBandScale: ScaleBand<number>,\n  series: Series<TDatum>[]\n) {\n  const bandDomain = d3Range(series.length)\n\n  const seriesBandScale = scaleBand(bandDomain, [\n    0,\n    primaryBandScale.bandwidth(),\n  ])\n    .round(false)\n    .paddingOuter(\n      options.outerSeriesBandPadding ??\n        (options.outerBandPadding ? options.outerBandPadding / 2 : 0)\n    )\n    .paddingInner(\n      options.innerSeriesBandPadding ??\n        (options.innerBandPadding ? options.innerBandPadding / 2 : 0)\n    )\n\n  const scale = (seriesIndex: number) =>\n    seriesBandScale(series.find(d => d.index === seriesIndex)!?.indexPerAxis)\n\n  return Object.assign(scale, seriesBandScale)\n}\n","import React, { MutableRefObject } from 'react'\n\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect'\nimport { Axis, AxisDimension, GridDimensions, Position } from '../types'\nimport useChartContext from '../utils/chartContext'\n\nconst getElBox = (el: Element) => {\n  var rect = el.getBoundingClientRect()\n  return {\n    top: Math.round(rect.top),\n    right: Math.round(rect.right),\n    bottom: Math.round(rect.bottom),\n    left: Math.round(rect.left),\n    width: Math.round(rect.width),\n    height: Math.round(rect.height),\n    x: Math.round(rect.x),\n    y: Math.round(rect.y),\n  }\n}\n\nexport default function useMeasure<TDatum>({\n  axis,\n  elRef,\n  gridDimensions,\n  setShowRotated,\n}: {\n  axis: Axis<TDatum>\n  elRef: MutableRefObject<SVGGElement | null>\n  gridDimensions: GridDimensions\n  showRotated: boolean\n  setShowRotated: (value: boolean) => void\n}) {\n  const { axisDimensionsState } = useChartContext<TDatum>()\n\n  const [axisDimensions, setAxisDimensions] = axisDimensionsState\n\n  const axisDimension = React.useMemo(() => {\n    return axisDimensions[axis.position as Position]?.[axis.id!]\n  }, [axisDimensions, axis.position, axis.id])\n\n  // const isLooping = useIsLooping()\n\n  const measureRotation = React.useCallback(() => {\n    if (!elRef.current) {\n      return\n    }\n\n    let gridSize = !axis.isVertical\n      ? gridDimensions.width\n      : gridDimensions.height\n\n    const staticLabelDims = Array.from(\n      elRef.current.querySelectorAll('.Axis-Group.outer .tickLabel')\n    ).map(el => getElBox(el))\n\n    // Determine the largest labels on the axis\n    let widestLabel: typeof staticLabelDims[number] | undefined\n\n    staticLabelDims.forEach(label => {\n      let resolvedLabel = widestLabel ?? { width: 0 }\n      if (label.width > 0 && label.width > resolvedLabel.width) {\n        widestLabel = label\n      }\n    })\n\n    let smallestTickGap = gridSize\n\n    if (staticLabelDims.length > 1) {\n      staticLabelDims.forEach((current, i) => {\n        const prev = staticLabelDims[i - 1]\n\n        if (prev) {\n          smallestTickGap = Math.min(\n            smallestTickGap,\n            axis.isVertical ? current.top - prev.top : current.left - prev.left\n          )\n        }\n      })\n    }\n\n    const shouldRotate =\n      (widestLabel?.width || 0) + axis.minTickPaddingForRotation >\n      smallestTickGap\n\n    // if (!isLooping) {\n    // Rotate ticks for non-time horizontal axes\n    if (!axis.isVertical) {\n      setShowRotated(shouldRotate)\n    }\n    // }\n  }, [\n    elRef,\n    axis.isVertical,\n    axis.minTickPaddingForRotation,\n    gridDimensions.width,\n    gridDimensions.height,\n    setShowRotated,\n  ])\n\n  const measureDimensions = React.useCallback(() => {\n    if (!elRef.current) {\n      if (axisDimension) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setAxisDimensions(old => {\n          const newAxes = { ...(old[axis.position] ?? {}) }\n\n          delete newAxes[axis.id!]\n\n          return {\n            ...old,\n            [axis.position]: newAxes,\n          }\n        })\n      }\n      return\n    }\n\n    const newDimensions: AxisDimension = {\n      width: 0,\n      height: 0,\n      paddingTop: 0,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n    }\n\n    const currentEl = elRef.current\n\n    const axisEl = currentEl.querySelector(`.Axis-Group.inner .domainAndTicks`)\n    const domainEl = currentEl.querySelector(`.Axis-Group.inner .domain`)\n\n    if (!axisEl || !domainEl) {\n      return\n    }\n\n    const axisDims = getElBox(axisEl)\n    const domainDims = getElBox(domainEl)\n\n    if (!axisDims || !domainDims) {\n      return\n    }\n\n    // Axis overflow measurements\n    if (!axis.isVertical) {\n      newDimensions.paddingLeft = Math.round(\n        Math.max(0, domainDims.left - axisDims?.left)\n      )\n\n      newDimensions.paddingRight = Math.round(\n        Math.max(0, axisDims?.right - domainDims.right)\n      )\n\n      newDimensions.height = axisDims?.height\n    } else {\n      newDimensions.paddingTop = Math.round(\n        Math.max(0, domainDims.top - axisDims?.top)\n      )\n\n      newDimensions.paddingBottom = Math.round(\n        Math.max(0, axisDims?.bottom - domainDims.bottom)\n      )\n\n      newDimensions.width = axisDims?.width\n    }\n\n    // Only update the axisDimensions if something has changed\n    if (\n      // !isLooping &&\n      !axisDimensions ||\n      !axisDimension ||\n      Object.keys(newDimensions).some(key => {\n        // @ts-ignore\n        return newDimensions[key] !== axisDimension[key]\n      })\n    ) {\n      setAxisDimensions(old => ({\n        ...old,\n        [axis.position]: {\n          ...(old[axis.position] ?? {}),\n          [axis.id!]: newDimensions,\n        },\n      }))\n    }\n  }, [\n    axis.id,\n    axis.isVertical,\n    axis.position,\n    axisDimension,\n    axisDimensions,\n    elRef,\n    setAxisDimensions,\n  ])\n\n  // Measure after if needed\n  useIsomorphicLayoutEffect(() => {\n    // setTimeout(() => {\n    window.requestAnimationFrame(() => {\n      measureRotation()\n      measureDimensions()\n    })\n  }, [measureRotation])\n\n  // useIsomorphicLayoutEffect(() => {\n  //   // setTimeout(() => {\n  //   window.requestAnimationFrame(() => {\n  //   })\n  // }, [measureRotation])\n}\n","import React from 'react'\n\nimport { Axis, AxisLinear } from '../types'\nimport { translate } from '../utils/Utils'\nimport useChartContext from '../utils/chartContext'\n//\nimport useMeasure from './AxisLinear.useMeasure'\n\nexport default function AxisLinearComp<TDatum>(axis: Axis<TDatum>) {\n  const [showRotated, setShowRotated] = React.useState(false)\n  const { getOptions, gridDimensions, width, height } =\n    useChartContext<TDatum>()\n\n  const { dark, showDebugAxes } = getOptions()\n\n  const elRef = React.useRef<SVGGElement>(null)\n\n  useMeasure({\n    axis,\n    elRef,\n    gridDimensions,\n    showRotated,\n    setShowRotated,\n  })\n\n  const renderAxis = (isOuter: boolean) => {\n    const isRotated = !isOuter && showRotated\n\n    const scale = isOuter ? axis.outerScale : axis.scale\n    const [rangeStart, rangeEnd] = scale.range()\n\n    const getTicks = () => {\n      const anyAxis = axis as AxisLinear<TDatum>\n\n      if ((anyAxis as AxisLinear<TDatum>).outerScale.ticks!) {\n        if (typeof anyAxis.tickCount === 'number') {\n          return anyAxis.outerScale.ticks(anyAxis.tickCount)\n        }\n\n        const autoSpacing = anyAxis.isVertical ? 40 : 80\n        const range = anyAxis.outerScale.range()\n        const num = Math.abs(range[1] - range[0]) / autoSpacing\n\n        return anyAxis.outerScale.ticks(num)\n      }\n\n      return anyAxis.outerScale.domain()\n    }\n\n    const resolvedHeight = isOuter ? height : gridDimensions.height\n    const resolvedWidth = isOuter ? width : gridDimensions.width\n\n    const [lineFrom, lineTo] =\n      axis.position === 'left'\n        ? [\n            { x: 0, y: rangeStart },\n            { x: 0, y: rangeEnd },\n          ]\n        : axis.position === 'right'\n        ? [\n            { x: resolvedWidth, y: rangeStart },\n            { x: resolvedWidth, y: rangeEnd },\n          ]\n        : axis.position === 'top'\n        ? [\n            { x: rangeStart, y: 0 },\n            { x: rangeEnd, y: 0 },\n          ]\n        : [\n            { x: rangeStart, y: resolvedHeight },\n            { x: rangeEnd, y: resolvedHeight },\n          ]\n\n    const ticks = getTicks().map(tick => {\n      const px = getTickPx(scale, tick)\n\n      const [from, to, gridTo] =\n        axis.position === 'left'\n          ? [\n              { x: 0, y: px },\n              { x: -8, y: px },\n              { x: resolvedWidth, y: px },\n            ]\n          : axis.position === 'right'\n          ? [\n              { x: resolvedWidth, y: px },\n              { x: resolvedWidth + 8, y: px },\n              { x: 0, y: px },\n            ]\n          : axis.position === 'top'\n          ? [\n              { x: px, y: 0 },\n              { x: px, y: -8 },\n              { x: px, y: resolvedHeight },\n            ]\n          : [\n              { x: px, y: resolvedHeight },\n              { x: px, y: resolvedHeight + 8 },\n              { x: px, y: 0 },\n            ]\n\n      return {\n        value: tick,\n        from,\n        to,\n        gridTo,\n      }\n    })\n\n    return (\n      <g\n        key={`Axis-Group ${isOuter ? 'outer' : 'inner'}`}\n        className={`Axis-Group ${isOuter ? 'outer' : 'inner'}`}\n        style={{\n          transform: isOuter\n            ? undefined\n            : translate(gridDimensions.left, gridDimensions.top),\n        }}\n      >\n        <g\n          className={`Axis`}\n          style={{\n            ...(isOuter\n              ? {\n                  opacity: showDebugAxes ? 0.5 : 0,\n                  pointerEvents: 'none',\n                }\n              : {\n                  opacity: 1,\n                  pointerEvents: 'all',\n                }),\n          }}\n        >\n          <g className=\"domainAndTicks\">\n            <line\n              className=\"domain\"\n              x1={lineFrom.x}\n              y1={lineFrom.y}\n              x2={lineTo.x}\n              y2={lineTo.y}\n              stroke={dark ? 'rgba(255,255,255, .2)' : 'rgba(0,0,0, .2)'}\n            />\n            {ticks.map((tick, i) => {\n              let { x: tickLabelX, y: tickLabelY } = tick.to\n\n              if (axis.position === 'top') {\n                tickLabelY -= 5\n              } else if (axis.position === 'bottom') {\n                tickLabelY += 5\n              } else if (axis.position === 'left') {\n                tickLabelX -= 5\n              } else if (axis.position === 'right') {\n                tickLabelX += 5\n              }\n\n              return (\n                <g key={`vx-tick-${tick}-${i}`} className={'tick'}>\n                  {!isOuter ? (\n                    <line\n                      x1={tick.from.x}\n                      y1={tick.from.y}\n                      x2={tick.to.x}\n                      y2={tick.to.y}\n                      stroke={\n                        dark ? 'rgba(255,255,255, .2)' : 'rgba(0,0,0, .2)'\n                      }\n                    />\n                  ) : null}\n                  <text\n                    className=\"tickLabel\"\n                    style={{\n                      fontSize: 10,\n                      fill: dark ? 'rgba(255,255,255, .7)' : 'rgba(0,0,0, .7)',\n                      dominantBaseline: isRotated\n                        ? 'central'\n                        : axis.position === 'bottom'\n                        ? 'hanging'\n                        : axis.position === 'top'\n                        ? 'alphabetic'\n                        : 'central',\n                      textAnchor: isRotated\n                        ? 'end'\n                        : axis.position === 'right'\n                        ? 'start'\n                        : axis.position === 'left'\n                        ? 'end'\n                        : 'middle',\n                    }}\n                    transform={`translate(${tickLabelX}, ${tickLabelY}) rotate(${\n                      isRotated ? (axis.position === 'top' ? 60 : -60) : 0\n                    })`}\n                  >\n                    {(axis as AxisLinear<any>).formatters.scale(\n                      tick.value as number\n                    )}\n                  </text>\n                </g>\n              )\n            })}\n          </g>\n          <g className=\"grid\">\n            {ticks.map((tick, i) => {\n              return (\n                <g key={`vx-tick-${tick}-${i}`} className={'tick'}>\n                  {(axis.showGrid ?? true) && !isOuter ? (\n                    <line\n                      x1={tick.from.x}\n                      y1={tick.from.y}\n                      x2={tick.gridTo.x}\n                      y2={tick.gridTo.y}\n                      stroke={\n                        dark ? 'rgba(255,255,255, .05)' : 'rgba(0,0,0, .05)'\n                      }\n                    />\n                  ) : null}\n                </g>\n              )\n            })}\n          </g>\n        </g>\n      </g>\n    )\n  }\n\n  return axis.show ? (\n    <g ref={elRef}>\n      {renderAxis(false)}\n      {renderAxis(true)}\n    </g>\n  ) : null\n}\n\nfunction getTickPx<TDatum>(scale: Axis<TDatum>['scale'], value: any) {\n  let px = scale(value) ?? NaN\n\n  // @ts-ignore\n  if (scale.bandwidth) {\n    // @ts-ignore\n    return px + scale.bandwidth() / 2\n  }\n\n  return px\n}\n","import React from 'react'\n\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function usePrevious<T>(val: T) {\n  const ref = React.useRef<T>()\n\n  useIsomorphicLayoutEffect(() => {\n    ref.current = val\n  }, [val])\n\n  return ref.current\n}\n","import React from 'react'\n\nexport default function useLatestWhen<T>(obj: T, when: boolean = true) {\n  const ref = React.useRef<T | null>(when ? obj : null)\n\n  if (when) {\n    ref.current = obj\n  }\n\n  return ref.current\n}\n","import * as React from 'react'\n\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function usePortalElement() {\n  const [portalEl, setPortalEl] = React.useState<HTMLDivElement | null>()\n\n  useIsomorphicLayoutEffect(() => {\n    if (!portalEl) {\n      let element = document.getElementById(\n        'react-charts-portal'\n      ) as HTMLDivElement\n\n      if (!element) {\n        element = document.createElement('div')\n\n        element.setAttribute('id', 'react-charts-portal')\n\n        Object.assign(element.style, {\n          pointerEvents: 'none',\n          position: 'fixed',\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0,\n          'z-index': 99999999999,\n        })\n\n        document.body.append(element)\n      }\n\n      setPortalEl(element)\n    }\n  })\n\n  return portalEl\n}\n","import React from 'react'\n\nexport default function useRect(\n  element: Element | null | undefined,\n  enabled: boolean\n): DOMRect {\n  const rerender = React.useReducer(() => ({}), [])[1]\n\n  const rectRef = React.useRef<DOMRect>({\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n  } as DOMRect)\n\n  const measure = React.useCallback(() => {\n    if (element) {\n      rectRef.current = element.getBoundingClientRect()\n    }\n  }, [element])\n\n  if (!rectRef.current) {\n    measure()\n  }\n\n  React.useEffect(() => {\n    if (!element || !enabled) {\n      return\n    }\n\n    const cb = () => {\n      measure()\n      rerender()\n    }\n\n    document.addEventListener('scroll', cb, true)\n\n    return () => {\n      document.removeEventListener('scroll', cb, true)\n    }\n  }, [element, enabled, measure, rerender])\n\n  React.useEffect(() => {\n    if (!element || !enabled) {\n      return\n    }\n\n    measure()\n    rerender()\n\n    const observer = new ResizeObserver(() => {\n      measure()\n      rerender()\n    })\n\n    observer.observe(element as Element)\n\n    return () => {\n      observer.unobserve(element as Element)\n    }\n  }, [element, enabled, measure, rerender])\n\n  return rectRef.current\n}\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","// Super fast physics simulations for JavaScript\n// Copyright 2014 Ralph Thomas\n// Licensed under the Apache License, Version 2.0\n// https://github.com/iamralpht/gravitas.js\n\n// Adapted to TypeScript and customized by Tanner Linsley (@tannerlinsley)\n\ntype Solution = {\n  x: (num: number) => number\n  dx: (num: number) => number\n}\n\nconst epsilon = 0.001\n\nfunction almostEqual(a: number, b: number) {\n  if (Number.isNaN(a) && Number.isNaN(b)) {\n    return true\n  }\n  return a > b - epsilon && a < b + epsilon\n}\n\nfunction almostZero(a: number) {\n  return almostEqual(a, 0)\n}\n\nexport class Spring {\n  private _m: number\n  private _k: number\n  private _c: number\n  private _solution: null | Solution\n  private _startTime: number\n  endPosition: number\n\n  constructor(\n    init: number,\n    mass: number,\n    springConstant: number,\n    damping: number\n  ) {\n    this._m = mass\n    this._k = springConstant\n    this._c = damping\n    this._solution = null\n    this.endPosition = init\n    this._startTime = 0\n  }\n\n  x(dt?: number) {\n    if (dt === undefined) {\n      dt = (new Date().getTime() - this._startTime) / 1000.0\n    }\n    return this._solution\n      ? this.endPosition + this._solution.x(dt)\n      : this.endPosition\n  }\n\n  private dx(dt?: number) {\n    if (dt === undefined) {\n      dt = (new Date().getTime() - this._startTime) / 1000.0\n    }\n    return this._solution ? this._solution.dx(dt) : 0\n  }\n\n  setEnd(x: number) {\n    const t = new Date().getTime()\n\n    let velocity = 0\n    let position = this.endPosition\n    if (this._solution) {\n      // Don't whack incoming velocity.\n      if (almostZero(velocity))\n        velocity = this._solution.dx((t - this._startTime) / 1000.0)\n      position = this._solution.x((t - this._startTime) / 1000.0)\n      if (almostZero(velocity)) velocity = 0\n      if (almostZero(position)) position = 0\n      position += this.endPosition\n    }\n    if (this._solution && almostZero(position - x) && almostZero(velocity)) {\n      return\n    }\n    this.endPosition = x\n    this._solution = this._solve(position - this.endPosition, velocity)\n    this._startTime = t\n  }\n\n  snap(x: number) {\n    this._startTime = new Date().getTime()\n    this.endPosition = x\n    this._solution = {\n      x() {\n        return 0\n      },\n      dx() {\n        return 0\n      },\n    }\n  }\n\n  done() {\n    return almostEqual(this.x(), this.endPosition) && almostZero(this.dx())\n  }\n\n  // reconfigure(mass: number, springConstant: number, damping: number) {\n  //   this._m = mass\n  //   this._k = springConstant\n  //   this._c = damping\n\n  //   if (this.done()) {\n  //     return\n  //   }\n  //   this._solution = this._solve(this.x() - this.endPosition, this.dx())\n  //   this._startTime = new Date().getTime()\n  // }\n\n  // springConstant() {\n  //   return this._k\n  // }\n\n  // damping() {\n  //   return this._c\n  // }\n\n  private _solve(initial: number, velocity: number): Solution {\n    const c = this._c\n    const m = this._m\n    const k = this._k\n    // Solve the quadratic equation; root = (-c +/- sqrt(c^2 - 4mk)) / 2m.\n    const cmk = c * c - 4 * m * k\n    if (cmk === 0) {\n      // The spring is critically damped.\n      // x = (c1 + c2*t) * e ^(-c/2m)*t\n      const r = -c / (2 * m)\n      const c1 = initial\n      const c2 = velocity / (r * initial)\n      return {\n        x(t) {\n          return (c1 + c2 * t) * Math.pow(Math.E, r * t)\n        },\n        dx(t) {\n          const pow = Math.pow(Math.E, r * t)\n          return r * (c1 + c2 * t) * pow + c2 * pow\n        },\n      }\n    } else if (cmk > 0) {\n      // The spring is overdamped; no bounces.\n      // x = c1*e^(r1*t) + c2*e^(r2t)\n      // Need to find r1 and r2, the roots, then solve c1 and c2.\n      const r1 = (-c - Math.sqrt(cmk)) / (2 * m)\n      const r2 = (-c + Math.sqrt(cmk)) / (2 * m)\n      const c2 = (velocity - r1 * initial) / (r2 - r1)\n      const c1 = initial - c2\n\n      return {\n        x(t) {\n          return c1 * Math.pow(Math.E, r1 * t) + c2 * Math.pow(Math.E, r2 * t)\n        },\n        dx(t) {\n          return (\n            c1 * r1 * Math.pow(Math.E, r1 * t) +\n            c2 * r2 * Math.pow(Math.E, r2 * t)\n          )\n        },\n      }\n    } else {\n      // The spring is underdamped, it has imaginary roots.\n      // r = -(c / 2*m) +- w*i\n      // w = sqrt(4mk - c^2) / 2m\n      // x = (e^-(c/2m)t) * (c1 * cos(wt) + c2 * sin(wt))\n      const w = Math.sqrt(4 * m * k - c * c) / (2 * m)\n      const r = -((c / 2) * m)\n      const c1 = initial\n      const c2 = (velocity - r * initial) / w\n\n      return {\n        x(t) {\n          return (\n            Math.pow(Math.E, r * t) *\n            (c1 * Math.cos(w * t) + c2 * Math.sin(w * t))\n          )\n        },\n        dx(t) {\n          const power = Math.pow(Math.E, r * t)\n          const cos = Math.cos(w * t)\n          const sin = Math.sin(w * t)\n          return (\n            power * (c2 * w * cos - c1 * w * sin) +\n            r * power * (c2 * sin + c1 * cos)\n          )\n        },\n      }\n    }\n  }\n}\n","import React from 'react'\nimport { Spring } from '../utils/spring'\nimport useGetLatest from './useGetLatest'\n\nexport function useSpring(\n  value: number,\n  config: [number, number, number],\n  cb: (x: number) => void,\n  immediate?: boolean,\n  _debug?: boolean\n) {\n  const springRef = React.useRef(new Spring(value, ...config))\n  const getValue = useGetLatest(value)\n\n  const [startRaf, stopRaf] = useRaf(() => {\n    cb(springRef.current.x())\n    return springRef.current.done()\n  })\n\n  const prevRef = React.useRef<any>()\n  const changed = prevRef.current !== value\n\n  React.useEffect(() => {\n    if (changed) {\n      if (immediate) {\n        springRef.current.snap(getValue())\n        startRaf()\n        return\n      }\n      springRef.current.setEnd(value)\n      startRaf()\n    }\n\n    prevRef.current = value\n  })\n\n  React.useEffect(() => {\n    return () => {\n      stopRaf()\n    }\n  }, [stopRaf])\n\n  return springRef.current\n}\n\nexport function useRaf(callback: () => any) {\n  const raf = React.useRef<number | null>(null)\n  const rafCallback = React.useRef(callback)\n  rafCallback.current = callback\n  const tick = React.useCallback(() => {\n    if (rafCallback.current()) return\n    raf.current = requestAnimationFrame(tick)\n  }, [])\n\n  return [\n    React.useMemo(() => tick, [tick]),\n    React.useMemo(\n      () => () => raf.current && cancelAnimationFrame(raf.current),\n      []\n    ),\n  ]\n}\n\n// Test\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport * as TSTB from 'ts-toolbelt'\n\nimport usePrevious from '../hooks/usePrevious'\nimport useLatestWhen from '../hooks/useLatestWhen'\nimport usePortalElement from '../hooks/usePortalElement'\nimport { AxisTime, CursorOptions, Datum } from '../types'\nimport { translate } from '../utils/Utils'\n//\nimport useChartContext from '../utils/chartContext'\nimport useRect from '../hooks/useRect'\nimport { useSpring } from '../hooks/useSpring'\nimport useGetLatest from '../hooks/useGetLatest'\n\ntype ResolvedCursorOptions = TSTB.Object.Required<\n  CursorOptions,\n  'show' | 'showLine' | 'showLabel'\n>\n\n//\n\nconst getLineBackgroundColor = (dark: boolean, bandWidth: number) =>\n  dark\n    ? `rgba(255,255,255,${bandWidth > 4 ? 0.15 : 0.3})`\n    : `rgba(0, 26, 39, ${bandWidth > 4 ? 0.15 : 0.3})`\n\nconst getBackgroundColor = (dark?: boolean) =>\n  dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)'\n\nfunction defaultCursor(options: CursorOptions): ResolvedCursorOptions {\n  return {\n    ...options,\n    show: options.show ?? true,\n    showLine: options.showLine ?? true,\n    showLabel: options.showLabel ?? true,\n  }\n}\n\nexport default function Cursors<TDatum>() {\n  const { getOptions } = useChartContext<TDatum>()\n\n  let primaryOptions = getOptions().primaryCursor ?? true\n  let secondaryOptions = getOptions().secondaryCursor ?? true\n\n  const resolvedPrimaryOptions = React.useMemo(\n    () =>\n      defaultCursor(\n        !primaryOptions\n          ? { show: false }\n          : typeof primaryOptions === 'boolean'\n          ? {}\n          : primaryOptions\n      ),\n    [primaryOptions]\n  )\n\n  const resolvedSecondaryOptions = React.useMemo(\n    () =>\n      defaultCursor(\n        !secondaryOptions\n          ? { show: false }\n          : typeof secondaryOptions === 'boolean'\n          ? {}\n          : secondaryOptions\n      ),\n    [secondaryOptions]\n  )\n\n  return (\n    <>\n      {resolvedPrimaryOptions.show && (\n        <Cursor primary options={resolvedPrimaryOptions} />\n      )}\n      {resolvedSecondaryOptions.show && (\n        <Cursor options={resolvedSecondaryOptions} />\n      )}\n    </>\n  )\n}\n\nfunction Cursor<TDatum>(props: {\n  primary?: boolean\n  options: ResolvedCursorOptions\n}) {\n  const {\n    getOptions,\n    svgRef,\n    gridDimensions,\n    focusedDatumState,\n    primaryAxis,\n    secondaryAxes,\n  } = useChartContext<TDatum>()\n\n  const getTooltipOptions = useGetLatest(props.options)\n\n  const [focusedDatum] = focusedDatumState\n  const latestFocusedDatum = useLatestWhen(focusedDatum, !!focusedDatum)\n\n  const secondaryAxis =\n    secondaryAxes.find(d => d.id === latestFocusedDatum?.secondaryAxisId) ??\n    secondaryAxes[0]\n\n  const axis = props.primary ? primaryAxis : secondaryAxis\n\n  const siblingAxis = props.primary ? secondaryAxis : primaryAxis\n\n  const resolveValue = (d: Datum<TDatum> | null) =>\n    d\n      ? axis.stacked\n        ? d.stackData?.[1]\n        : props.primary\n        ? d.primaryValue\n        : d.secondaryValue\n      : undefined\n\n  const datumValue = resolveValue(focusedDatum)\n\n  React.useEffect(() => {\n    getTooltipOptions()?.onChange?.(datumValue)\n  }, [getTooltipOptions, datumValue])\n\n  const value = props.options.value ?? datumValue\n\n  const latestPropsValue = useLatestWhen(\n    props.options.value,\n    props.options.value != null\n  )\n\n  const latestDatumValue = useLatestWhen(\n    resolveValue(latestFocusedDatum),\n    resolveValue(latestFocusedDatum) != null\n  )\n\n  const latestValue = latestPropsValue ?? latestDatumValue\n\n  // Get the sibling range\n  const siblingRange = siblingAxis.scale.range()\n\n  let x\n  let y\n  let x1\n  let x2\n  let y1\n  let y2\n  let alignPctX\n  let alignPctY\n\n  const bandWidth = axis.axisFamily === 'band' ? axis.scale.bandwidth() : 1\n\n  const show = typeof value !== 'undefined' && !Number.isNaN(value)\n\n  let px = axis.scale(value)\n\n  // Vertical alignment\n  if (axis.isVertical) {\n    y = px\n    y1 = (y ?? 0) - 1\n    y2 = (y ?? 0) + bandWidth\n    if (axis.position === 'left') {\n      x1 = siblingRange[0]\n      x2 = siblingRange[1]\n    } else {\n      x1 = siblingRange[1]\n      x2 = siblingRange[0]\n    }\n  } else {\n    x = px\n    x1 = (x ?? 0) - 1\n    x2 = (x ?? 0) + bandWidth\n    if (axis.position === 'top') {\n      y1 = siblingRange[0]\n      y2 = siblingRange[1]\n    } else {\n      y1 = siblingRange[1]\n      y2 = siblingRange[0]\n    }\n  }\n\n  let lineStartX = Math.min(x1, x2)\n  let lineStartY = Math.min(y1, y2)\n  let lineEndX = Math.max(x1, x2)\n  let lineEndY = Math.max(y1, y2)\n  let lineHeight = Math.max(lineEndY - lineStartY, 0)\n  let lineWidth = Math.max(lineEndX - lineStartX, 0)\n\n  let bubbleX\n  let bubbleY\n\n  // Bubble placement\n  if (axis.isVertical) {\n    if (axis.position === 'left') {\n      bubbleX = lineStartX\n    } else {\n      bubbleX = lineEndX\n    }\n\n    bubbleY = lineStartY + lineHeight / 2\n  } else {\n    if (axis.position === 'top') {\n      bubbleY = lineStartY\n    } else {\n      bubbleY = lineEndY\n    }\n\n    bubbleX = lineStartX + lineWidth / 2\n  }\n\n  // Bubble anchoring\n  if (axis.isVertical) {\n    alignPctY = -50\n    if (axis.position === 'left') {\n      alignPctX = -100\n    } else {\n      alignPctX = 0\n    }\n  } else {\n    alignPctX = -50\n    if (axis.position === 'top') {\n      alignPctY = -100\n    } else {\n      alignPctY = 0\n    }\n  }\n\n  const formattedValue = (axis as AxisTime<any>).formatters.cursor(latestValue)\n\n  const svgRect = useRect(svgRef.current, show)\n\n  const lineRef = React.useRef<HTMLDivElement | null>(null)\n  const bubbleRef = React.useRef<HTMLDivElement | null>(null)\n\n  const latestLineStartX = useLatestWhen(lineStartX, px != null)\n  const latestLineStartY = useLatestWhen(lineStartY, px != null)\n  const latestBubbleX = useLatestWhen(bubbleX, px != null)\n  const latestBubbleY = useLatestWhen(bubbleY, px != null)\n\n  const previousTruePx = usePrevious(px)\n  const immediate = previousTruePx == null && px !== null\n\n  lineStartX = (px != null ? lineStartX : latestLineStartX) ?? NaN\n  lineStartY = (px != null ? lineStartY : latestLineStartY) ?? NaN\n  bubbleX = (px != null ? bubbleX : latestBubbleX) ?? NaN\n  bubbleY = (px != null ? bubbleY : latestBubbleY) ?? NaN\n\n  const lineXSpring = useSpring(\n    lineStartX,\n    [1, 210, 20],\n    () => {\n      if (lineRef.current) {\n        lineRef.current.style.transform = `translate(${lineXSpring.x()}px, ${lineYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const lineYSpring = useSpring(\n    lineStartY,\n    [1, 210, 20],\n    () => {\n      if (lineRef.current) {\n        lineRef.current.style.transform = `translate(${lineXSpring.x()}px, ${lineYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const bubbleXSpring = useSpring(\n    bubbleX,\n    [1, 210, 20],\n    () => {\n      if (bubbleRef.current) {\n        bubbleRef.current.style.transform = `translate(${bubbleXSpring.x()}px, ${bubbleYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const bubbleYSpring = useSpring(\n    bubbleY,\n    [1, 210, 20],\n    () => {\n      if (bubbleRef.current) {\n        bubbleRef.current.style.transform = `translate(${bubbleXSpring.x()}px, ${bubbleYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const portalEl = usePortalElement()\n\n  return portalEl\n    ? ReactDOM.createPortal(\n        <div\n          style={{\n            fontFamily: 'sans-serif',\n            pointerEvents: 'none',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            transform: translate(\n              svgRect.left + gridDimensions.left,\n              svgRect.top + gridDimensions.top\n            ),\n            opacity: show ? 1 : 0,\n            transition: 'opacity .3s ease',\n          }}\n          className=\"Cursor\"\n        >\n          {/* Render the cursor line */}\n          {props.options.showLine ? (\n            <div\n              ref={lineRef}\n              style={{\n                width: `${lineWidth}px`,\n                height: `${lineHeight}px`,\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                background: getLineBackgroundColor(\n                  getOptions().dark ?? false,\n                  bandWidth\n                ),\n              }}\n            />\n          ) : null}\n          {/* Render the cursor bubble */}\n          {props.options.showLabel ? (\n            <div\n              ref={bubbleRef}\n              style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n              }}\n            >\n              {/* Render the cursor label */}\n              <div\n                style={{\n                  padding: '5px',\n                  fontSize: '10px',\n                  background: getBackgroundColor(getOptions().dark),\n                  color: getBackgroundColor(!getOptions().dark),\n                  borderRadius: '3px',\n                  position: 'relative',\n                  transform: `translate3d(${alignPctX}%, ${alignPctY}%, 0)`,\n                  whiteSpace: 'nowrap',\n                }}\n              >\n                {formattedValue}\n              </div>\n            </div>\n          ) : null}\n        </div>,\n        portalEl\n      )\n    : null\n}\n","import React from 'react'\n\nimport useRect from './useRect'\n\n//\n\n//\n\ntype AlignMode =\n  | 'center'\n  | 'start'\n  | 'end'\n  | 'top'\n  | 'right'\n  | 'bottom'\n  | 'left'\n\ntype Side = 'left' | 'right' | 'top' | 'bottom'\ntype SideOption = Side | `${Side} ${AlignMode}`\ntype SideAlign = [Side, AlignMode]\n\ntype StartKey = 'left' | 'top'\ntype LengthKey = 'width' | 'height'\n\ntype Dims = {\n  left: number\n  top: number\n  right: number\n  bottom: number\n  width: number\n  height: number\n}\n\n// These are the keys used internally to look up and measure\n// different sides of a bounding box within another\nconst sideSchemas = {\n  left: {\n    side: 'left',\n    startKey: 'left',\n    lengthKey: 'width',\n    crossStartKey: 'top',\n    crossLengthKey: 'height',\n    fromEnd: false,\n  },\n  right: {\n    side: 'right',\n    startKey: 'left',\n    lengthKey: 'width',\n    crossStartKey: 'top',\n    crossLengthKey: 'height',\n    fromEnd: true,\n  },\n  top: {\n    side: 'top',\n    startKey: 'top',\n    lengthKey: 'height',\n    crossStartKey: 'left',\n    crossLengthKey: 'width',\n    fromEnd: false,\n  },\n  bottom: {\n    side: 'bottom',\n    startKey: 'top',\n    lengthKey: 'height',\n    crossStartKey: 'left',\n    crossLengthKey: 'width',\n    fromEnd: true,\n  },\n} as const\n\n// This is the final Tootlip component. It's a render prop\n// that lets you attach handlers to elements, and render a tooltip\n// anchored to them in relation to the parent portal container (either the only\n// one defined or the one referenced by Id).\nexport function useAnchor(options: {\n  show: boolean\n  useLargest?: boolean\n  side: SideOption | SideOption[]\n  portalEl: Element | null | undefined\n  anchorEl: Element | null | undefined\n  tooltipEl: Element | null | undefined\n}) {\n  const portalDims = useRect(options.portalEl, options.show)\n  const anchorDims = useRect(options.anchorEl, options.show)\n  const tooltipDims = useRect(options.tooltipEl, options.show)\n\n  const sides = React.useMemo(() => {\n    const preSides = Array.isArray(options.side) ? options.side : [options.side]\n    return preSides.map(alignStr => {\n      const [side, align = 'center'] = alignStr.split(' ') as [Side, AlignMode]\n      const incompatibleSide = !['top', 'right', 'bottom', 'left'].find(\n        d => side === d\n      )\n\n      if (incompatibleSide) {\n        throw new Error(\n          `react-sticker: \"${side}\" is not a valid side! Must be one of ['top', 'right', 'bottom', 'left'].`\n        )\n      }\n\n      const incompatibleAlign = ![\n        'center',\n        'start',\n        'end',\n        'top',\n        'right',\n        'bottom',\n        'left',\n      ].find(d => align === d)\n\n      if (incompatibleAlign) {\n        throw new Error(\n          `react-sticker: \"${align}\" is not a valid side-alignment! Must be one of ['center', 'start', 'end', 'top', 'right', 'bottom', 'left'].`\n        )\n      }\n\n      return [side, align] as [Side, AlignMode]\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify(options.side)])\n\n  // IF we have all of the dimensions needed to calculate\n  // fits, then calculate the fit\n  const ready = portalDims && tooltipDims && anchorDims\n\n  const fit = React.useMemo(\n    () =>\n      ready && options.show\n        ? fitOnBestSide({\n            portalDims,\n            tooltipDims,\n            anchorDims,\n            sides,\n            useLargest: options.useLargest,\n          })\n        : null,\n    [\n      anchorDims,\n      options.show,\n      options.useLargest,\n      portalDims,\n      ready,\n      sides,\n      tooltipDims,\n    ]\n  )\n\n  return {\n    fit,\n    style: {\n      position: 'absolute' as const,\n      visibility: ready ? ('visible' as const) : ('hidden' as const),\n      // The fit styles are applied here from the best fit\n      ...fit?.style,\n    },\n  }\n}\n\n// This function selects the best side for the tooltip by using\n// the ranked fits.\nfunction fitOnBestSide({\n  portalDims,\n  tooltipDims,\n  anchorDims,\n  sides,\n  useLargest,\n}: {\n  portalDims: Dims\n  tooltipDims: Dims\n  anchorDims: Dims\n  sides: SideAlign[]\n  useLargest?: boolean\n}) {\n  const fits = sides.map(([side, align]) =>\n    measureFit({\n      ...sideSchemas[side],\n      align,\n      portalDims,\n      tooltipDims,\n      anchorDims,\n    })\n  )\n\n  if (useLargest) {\n    fits.sort((a, b) => b.fitRatio - a.fitRatio)\n    return fits[0]\n  }\n\n  return fits.find(fit => fit.fitRatio >= 1) || fits[0]\n}\n\n// This function takes a side and bunch of calculated dimensions from\n// the portal, tooltip and target. Then it returns\n// the percentage fit and the style to achieve this specific fit\nfunction measureFit({\n  side,\n  align,\n  startKey,\n  lengthKey,\n  crossStartKey,\n  crossLengthKey,\n  fromEnd,\n  portalDims,\n  tooltipDims,\n  anchorDims,\n}: {\n  side: Side\n  align: AlignMode\n  startKey: StartKey\n  lengthKey: LengthKey\n  crossStartKey: StartKey\n  crossLengthKey: LengthKey\n  fromEnd: boolean\n  portalDims: Dims\n  tooltipDims: Dims\n  anchorDims: Dims\n}) {\n  const parentStart = portalDims[startKey]\n  const parentLength = portalDims[lengthKey]\n  const crossParentStart = portalDims[crossStartKey]\n  const crossParentLength = portalDims[crossLengthKey]\n  const anchorStart = anchorDims[startKey] - portalDims[startKey]\n  const anchorLength = anchorDims[lengthKey]\n  const crossAnchorStart = anchorDims[crossStartKey]\n  const crossAnchorLength = anchorDims[crossLengthKey]\n  const crossAnchorWidth = anchorDims[crossLengthKey]\n  const targetLength = tooltipDims[lengthKey]\n  const crossTargetLength = tooltipDims[crossLengthKey]\n\n  let targetStart: number\n  let fitRatio: number\n\n  if (!fromEnd) {\n    targetStart = anchorStart - targetLength\n    fitRatio = Math.min(anchorStart / targetLength)\n  } else {\n    targetStart = anchorStart + anchorLength\n    fitRatio = (parentLength - (anchorStart + anchorLength)) / targetLength\n  }\n\n  targetStart = Math.max(parentStart, Math.min(targetStart, parentLength))\n\n  let crossTargetStart: number\n\n  if (startKey === 'left') {\n    if (align === 'top') {\n      align = 'start'\n    } else if (align === 'bottom') {\n      align = 'end'\n    }\n  } else {\n    if (align === 'left') {\n      align = 'start'\n    } else if (align === 'right') {\n      align = 'end'\n    }\n  }\n\n  if (!['start', 'center', 'end'].includes(align)) {\n    align = 'center'\n  }\n\n  if (align === 'start') {\n    crossTargetStart = crossAnchorStart\n  } else if (align === 'end') {\n    crossTargetStart = crossAnchorStart + crossAnchorWidth - crossTargetLength\n  } else {\n    crossTargetStart =\n      crossAnchorStart + crossAnchorLength / 2 - crossTargetLength / 2\n  }\n\n  crossTargetStart = Math.max(\n    crossParentStart,\n    Math.min(crossTargetStart, crossParentLength - crossTargetLength)\n  )\n\n  return {\n    side,\n    align,\n    startKey,\n    lengthKey,\n    crossStartKey,\n    crossLengthKey,\n    fromEnd,\n    portalDims,\n    tooltipDims,\n    anchorDims,\n    fitRatio,\n    style: {\n      [startKey]: targetStart,\n      [crossStartKey]: crossTargetStart,\n    } as Record<StartKey, number>,\n  }\n}\n","import { sum } from 'd3-array'\nimport React, { CSSProperties } from 'react'\n\nimport { useAnchor } from '../hooks/useAnchor'\nimport useLatestWhen from '../hooks/useLatestWhen'\nimport {\n  Axis,\n  AxisLinear,\n  AxisTime,\n  Datum,\n  ResolvedChartOptions,\n} from '../types'\n\n//\n//\n\nconst showCount = 10\n\nconst triangleSize = 7\n\nconst getBackgroundColor = (dark?: boolean) =>\n  dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)'\n\nexport type TooltipRendererProps<TDatum> = {\n  focusedDatum: Datum<TDatum> | null\n  getOptions: () => ResolvedChartOptions<TDatum>\n  primaryAxis: Axis<TDatum>\n  secondaryAxes: Axis<TDatum>[]\n  secondaryAxis: Axis<TDatum>\n  getDatumStyle: (datum: Datum<TDatum>) => CSSProperties\n  anchor: ReturnType<typeof useAnchor>\n}\n\nexport default function tooltipRenderer<TDatum>(\n  props: TooltipRendererProps<TDatum>\n) {\n  return <TooltipRenderer {...props} />\n}\n\nfunction TooltipRenderer<TDatum>(props: TooltipRendererProps<TDatum>) {\n  const latestFit = useLatestWhen(props.anchor.fit, !!props.anchor.fit)\n\n  if (!props.focusedDatum) {\n    return null\n  }\n\n  const {\n    primaryAxis,\n    secondaryAxis,\n    getDatumStyle,\n    focusedDatum,\n    secondaryAxes,\n  } = props\n\n  const { tooltip, dark } = props.getOptions()\n\n  const groupDatums = props.focusedDatum?.tooltipGroup ?? []\n\n  const resolvedShowCount = showCount % 2 === 0 ? showCount : showCount + 1\n  const length = groupDatums.length\n\n  // Get the focused series' index\n  const activeIndex = groupDatums.findIndex(d => d === focusedDatum)\n  // Get the start by going back half of the showCount\n  let start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0\n  // Make sure it's at least 0\n  start = Math.max(start, 0)\n  // Use the start and add the showCount to get the end\n  let end = activeIndex > -1 ? start + resolvedShowCount : length\n  // Don't let the end go passed the length\n  end = Math.min(end, length)\n  // Double check we aren't clipping the start\n  start = Math.max(end - resolvedShowCount, 0)\n  // Slice the datums by start and end\n  const visibleSortedGroupDatums = groupDatums.slice(start, end)\n  // Detect if we have previous items\n  const hasPrevious = start > 0\n  // Or next items\n  const hasNext = end < length\n\n  const finalAlign = `${latestFit?.side}-${latestFit?.align}`\n\n  let arrowPosition\n  let triangleStyles\n\n  if (!arrowPosition) {\n    if (finalAlign === 'left-center') {\n      arrowPosition = 'right'\n    } else if (finalAlign === 'right-center') {\n      arrowPosition = 'left'\n    } else if (finalAlign === 'top-center') {\n      arrowPosition = 'bottom'\n    } else if (finalAlign === 'bottom-center') {\n      arrowPosition = 'top'\n    } else if (finalAlign === 'right-start') {\n      arrowPosition = 'bottomLeft'\n    } else if (finalAlign === 'right-end') {\n      arrowPosition = 'topLeft'\n    } else if (finalAlign === 'left-start') {\n      arrowPosition = 'bottomRight'\n    } else if (finalAlign === 'left-end') {\n      arrowPosition = 'topRight'\n    }\n  }\n\n  const backgroundColor = getBackgroundColor(dark)\n\n  if (arrowPosition === 'bottom') {\n    triangleStyles = {\n      top: '100%',\n      left: '50%',\n      transform: 'translate3d(-50%, 0%, 0)',\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderTop: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'top') {\n    triangleStyles = {\n      top: '0%',\n      left: '50%',\n      transform: 'translate3d(-50%, -100%, 0)',\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'right') {\n    triangleStyles = {\n      top: '50%',\n      left: '100%',\n      transform: 'translate3d(0%, -50%, 0)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'left') {\n    triangleStyles = {\n      top: '50%',\n      left: '0%',\n      transform: 'translate3d(-100%, -50%, 0)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'topRight') {\n    triangleStyles = {\n      top: '0%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'bottomRight') {\n    triangleStyles = {\n      top: '100%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'topLeft') {\n    triangleStyles = {\n      top: '0%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'bottomLeft') {\n    triangleStyles = {\n      top: '100%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else {\n    triangleStyles = {\n      opacity: 0,\n    }\n  }\n\n  return (\n    <div\n      style={{\n        position: 'relative',\n        fontSize: '10px',\n        padding: '5px',\n        background: getBackgroundColor(dark),\n        color: dark ? 'black' : 'white',\n        borderRadius: '3px',\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          width: 0,\n          height: 0,\n          ...triangleStyles,\n        }}\n      />\n      <div>\n        <div\n          style={{\n            marginBottom: '3px',\n            textAlign: 'center',\n          }}\n        >\n          {tooltip.groupingMode === 'series' ? (\n            <strong>{focusedDatum.seriesLabel}</strong>\n          ) : tooltip.groupingMode === 'secondary' ? (\n            <strong>\n              {(secondaryAxis as AxisTime<any>).formatters.tooltip(\n                focusedDatum.secondaryValue\n              )}\n            </strong>\n          ) : (\n            <strong>\n              {(primaryAxis as AxisTime<any>).formatters.tooltip(\n                focusedDatum.primaryValue\n              )}\n            </strong>\n          )}\n        </div>\n        <table\n          style={{\n            whiteSpace: 'nowrap',\n          }}\n        >\n          <tbody>\n            {hasPrevious ? (\n              <tr\n                style={{\n                  opacity: 0.8,\n                }}\n              >\n                <td />\n                <td>...</td>\n                <td />\n              </tr>\n            ) : null}\n            {visibleSortedGroupDatums.map((sortedDatum, i) => {\n              const active = sortedDatum === focusedDatum\n\n              const datumSecondaryAxis = secondaryAxes.find(\n                d => d.id === sortedDatum.secondaryAxisId\n              )\n\n              return (\n                <tr\n                  key={i}\n                  style={{\n                    opacity: active ? 1 : 0.8,\n                    fontWeight: active ? 'bold' : undefined,\n                  }}\n                >\n                  <td\n                    style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                    }}\n                  >\n                    <svg width=\"14\" height=\"14\">\n                      <circle\n                        cx=\"7\"\n                        cy=\"7\"\n                        r=\"5\"\n                        style={{\n                          ...getDatumStyle(sortedDatum),\n                          stroke: dark ? 'black' : 'white',\n                          strokeWidth: active ? 2 : 1,\n                        }}\n                      />\n                    </svg>\n                  </td>\n                  {tooltip.groupingMode === 'series' ? (\n                    <React.Fragment>\n                      <td>\n                        {(primaryAxis as AxisTime<any>).formatters.tooltip(\n                          sortedDatum.primaryValue\n                        )}\n                        : &nbsp;\n                      </td>\n                      <td\n                        style={{\n                          textAlign: 'right',\n                        }}\n                      >\n                        {(\n                          datumSecondaryAxis as AxisTime<any>\n                        ).formatters.tooltip(sortedDatum.secondaryValue)}\n                      </td>\n                    </React.Fragment>\n                  ) : tooltip.groupingMode === 'secondary' ? (\n                    <React.Fragment>\n                      <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                      <td\n                        style={{\n                          textAlign: 'right',\n                        }}\n                      >\n                        {(primaryAxis as AxisTime<any>).formatters.tooltip(\n                          sortedDatum.primaryValue\n                        )}\n                      </td>\n                    </React.Fragment>\n                  ) : (\n                    <React.Fragment>\n                      <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                      <td\n                        style={{\n                          textAlign: 'right',\n                        }}\n                      >\n                        {(\n                          datumSecondaryAxis as AxisTime<any>\n                        ).formatters.tooltip(sortedDatum.secondaryValue)}\n                      </td>\n                    </React.Fragment>\n                  )}\n                </tr>\n              )\n            })}\n            {hasNext ? (\n              <tr\n                style={{\n                  opacity: 0.8,\n                }}\n              >\n                <td />\n                <td>...</td>\n                <td />\n              </tr>\n            ) : null}\n            {(focusedDatum.tooltipGroup ?? []).length > 1\n              ? props.secondaryAxes\n                  .filter(d => d.stacked)\n                  .map((secondaryAxis, i) => {\n                    return (\n                      <tr key={`${secondaryAxis.id}_${i}`}>\n                        <td\n                          style={{\n                            paddingTop: '5px',\n                          }}\n                        >\n                          <div\n                            style={{\n                              width: '12px',\n                              height: '12px',\n                              backgroundColor: dark\n                                ? 'rgba(0, 26, 39, 0.3)'\n                                : 'rgba(255,255,255,.2)',\n                              borderRadius: '50px',\n                            }}\n                          />\n                        </td>\n                        <td\n                          style={{\n                            paddingTop: '5px',\n                          }}\n                        >\n                          {props.secondaryAxes.length > 1\n                            ? secondaryAxis.id ?? `Axis ${i + 1} `\n                            : ''}\n                          Total: &nbsp;\n                        </td>\n                        <td\n                          style={{\n                            paddingTop: '5px',\n                          }}\n                        >\n                          {/* {secondaryAxis.format(\n                  [...focusedDatum.group].reverse()[0].totalValue,\n                  -1\n                )} */}\n                          {(secondaryAxis as AxisLinear<any>).formatters.scale(\n                            sum(\n                              focusedDatum.tooltipGroup ?? [],\n                              d => d.secondaryValue\n                            )\n                          )}\n                        </td>\n                      </tr>\n                    )\n                  })\n              : null}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { useAnchor } from '../hooks/useAnchor'\nimport useLatestWhen from '../hooks/useLatestWhen'\nimport usePortalElement from '../hooks/usePortalElement'\nimport usePrevious from '../hooks/usePrevious'\nimport { Datum, ResolvedTooltipOptions, TooltipOptions } from '../types'\n//\nimport useChartContext from '../utils/chartContext'\nimport TooltipRenderer from './TooltipRenderer'\nimport useRect from '../hooks/useRect'\nimport { useSpring } from '../hooks/useSpring'\n\n//\n\nexport function defaultTooltip<TDatum>(\n  options: boolean | TooltipOptions<TDatum> = {}\n): ResolvedTooltipOptions<TDatum> {\n  if (options === true) {\n    options = { show: true }\n  } else if (options === false) {\n    options = { show: false }\n  }\n\n  return {\n    show: true,\n    ...options,\n    align: options.align ?? 'auto',\n    alignPriority: options.alignPriority ?? [\n      'right',\n      'topRight',\n      'bottomRight',\n      'left',\n      'topLeft',\n      'bottomLeft',\n      'top',\n      'bottom',\n    ],\n    padding: options.padding ?? 5,\n    arrowPadding: options.arrowPadding ?? 7,\n    // anchor: options.anchor ?? 'closest',\n    render: options.render ?? TooltipRenderer,\n  }\n}\n\nexport default function Tooltip<TDatum>(): React.ReactPortal | null {\n  const {\n    focusedDatumState,\n    getOptions,\n    primaryAxis,\n    secondaryAxes,\n    getDatumStatusStyle,\n    svgRef,\n  } = useChartContext<TDatum>()\n\n  const [focusedDatum] = focusedDatumState\n  const latestFocusedDatum = useLatestWhen(focusedDatum, !!focusedDatum)\n\n  const secondaryAxis =\n    secondaryAxes.find(d => d.id === latestFocusedDatum?.secondaryAxisId) ??\n    secondaryAxes[0]\n\n  const portalEl = usePortalElement()\n\n  const [tooltipEl, setTooltipEl] = React.useState<HTMLDivElement | null>()\n\n  const svgRect = useRect(svgRef.current, !!focusedDatum?.element)\n\n  const anchorEl = React.useMemo(() => {\n    const anchorRect =\n      latestFocusedDatum?.element?.getBoundingClientRect() ?? null\n\n    if (!anchorRect) {\n      return null\n    }\n\n    if (!svgRect) return\n\n    const translateX = anchorRect.left ?? 0\n    const translateY = anchorRect.top ?? 0\n    const width = anchorRect.width ?? 0\n    const height = anchorRect.height ?? 0\n\n    const el = document.createElement('div')\n\n    el.getBoundingClientRect = () =>\n      ({\n        x: translateX,\n        y: translateY,\n        width: width,\n        height: height,\n        top: translateY,\n        left: translateX,\n        bottom: translateY + width,\n        right: translateX + height,\n      } as any)\n\n    return el\n  }, [latestFocusedDatum?.element, svgRect])\n\n  const anchor = useAnchor({\n    show: !!focusedDatum,\n    portalEl,\n    anchorEl,\n    tooltipEl,\n    side: ['right', 'left', 'top', 'bottom'],\n  })\n\n  const previousAnchor = usePrevious(anchor)\n  const latestStableAnchor = useLatestWhen(anchor, !!anchor.fit) ?? anchor\n\n  const { visibility, ...anchorStyle } = latestStableAnchor.style\n\n  const tooltipRef = React.useRef<HTMLDivElement | null>(null)\n\n  const immediate = Number.isNaN(previousAnchor?.style.left)\n\n  const tooltipXSpring = useSpring(\n    anchorStyle.left || 0,\n    [1, 210, 30],\n    () => {\n      if (tooltipRef.current) {\n        tooltipRef.current.style.transform = `translate(${tooltipXSpring.x()}px, ${tooltipYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const tooltipYSpring = useSpring(\n    anchorStyle.top || 0,\n    [1, 210, 30],\n    () => {\n      if (tooltipRef.current) {\n        tooltipRef.current.style.transform = `translate(${tooltipXSpring.x()}px, ${tooltipYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  // const springProps = useSpring({\n  //   ...anchorStyle,\n  //   left: anchorStyle.left || 0,\n  //   top: anchorStyle.top || 0,\n  //   config: { mass: 1, tension: 210, friction: 30 },\n  //   immediate: key => {\n  //     if (['left', 'top'].includes(key)) {\n  //       return Number.isNaN(previousAnchor?.style.left)\n  //     }\n\n  //     return false\n  //   },\n  // })\n\n  const show = getOptions().tooltip.show\n\n  const latestFit = useLatestWhen(anchor.fit, !!anchor.fit)\n\n  return show && portalEl\n    ? ReactDOM.createPortal(\n        <div\n          ref={tooltipRef}\n          style={{\n            position: anchorStyle.position,\n            opacity: !!focusedDatum ? 1 : 0,\n            transition: 'opacity .3s ease',\n          }}\n        >\n          <div\n            ref={el => setTooltipEl(el)}\n            style={{\n              fontFamily: 'sans-serif',\n              ...(latestFit?.startKey === 'left'\n                ? {\n                    padding: '0 10px',\n                  }\n                : {\n                    padding: '10px 0',\n                  }),\n            }}\n          >\n            {getOptions().tooltip.render({\n              getOptions,\n              focusedDatum: latestFocusedDatum,\n              primaryAxis,\n              secondaryAxes,\n              secondaryAxis,\n              getDatumStyle: (datum: Datum<TDatum>) =>\n                getDatumStatusStyle(datum, focusedDatum),\n              anchor,\n            })}\n          </div>\n        </div>,\n        portalEl\n      )\n    : null\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const bl = dx * dx + dy * dy;\n      const cl = ex * ex + ey * ey;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (!ab) {\n        // degenerate case (collinear diagram)\n        x = (x1 + x3) / 2 - 1e8 * ey;\n        y = (y1 + y3) / 2 + 1e8 * ex;\n      }\n      else if (Math.abs(ab) < 1e-8) {\n        // almost equal points (degenerate triangle)\n        x = (x1 + x3) / 2;\n        y = (y1 + y3) / 2;\n      } else {\n        const d = 1 / ab;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","import React from 'react'\nimport { Delaunay } from 'd3-delaunay'\n\n//\nimport { Axis, Datum } from '../types'\nimport { translate } from '../utils/Utils'\nimport useChartContext from '../utils/chartContext'\nimport { line } from 'd3-shape'\nimport { getPrimaryGroupLength, getPrimaryLength } from '../seriesTypes/Bar'\n\nexport default function Voronoi<TDatum>() {\n  const { getOptions, focusedDatumState, isInteractingState } =\n    useChartContext<TDatum>()\n\n  const [, setFocusedDatum] = focusedDatumState\n  const [isInteracting] = isInteractingState\n\n  const {\n    onFocusDatum,\n    onClickDatum,\n    tooltip,\n    primaryCursor,\n    secondaryCursor,\n    showVoronoi,\n    interactionMode,\n  } = getOptions()\n\n  const handleFocus = React.useCallback(\n    (datum: Datum<TDatum> | null) => {\n      getOptions().onFocusDatum?.(datum)\n      setFocusedDatum(datum)\n    },\n    [getOptions, setFocusedDatum]\n  )\n\n  const needsVoronoi =\n    isInteracting &&\n    (showVoronoi ||\n      onFocusDatum ||\n      onClickDatum ||\n      tooltip ||\n      primaryCursor ||\n      secondaryCursor)\n\n  if (!needsVoronoi) {\n    return null\n  }\n\n  const props = {\n    handleFocus,\n  }\n\n  if (interactionMode === 'closest') {\n    return <SingleVoronoi {...props} />\n  }\n\n  return <PrimaryVoronoi {...props} />\n}\n\nfunction PrimaryVoronoi<TDatum>({\n  handleFocus,\n}: {\n  handleFocus: (datum: Datum<TDatum> | null) => void\n}) {\n  const {\n    primaryAxis,\n    secondaryAxes,\n    getOptions,\n    gridDimensions,\n    datumsByInteractionGroup,\n  } = useChartContext<TDatum>()\n\n  const stackedVoronoi = secondaryAxes.length === 1 && secondaryAxes[0].stacked\n\n  const useBarPx = secondaryAxes.every(\n    d => d.elementType === 'bar' && !d.stacked\n  )\n\n  return React.useMemo(() => {\n    let preColumns = Array.from(datumsByInteractionGroup.entries())\n      .map(([_, datums]) => datums)\n      .filter(datums => {\n        const datum = datums[0]\n\n        if (!datum) {\n          return\n        }\n\n        const primaryValue = datum.primaryValue\n        return primaryValue !== 'undefined' && primaryValue !== null\n      })\n      .sort((a, b) => {\n        const aAxis = secondaryAxes.find(d => d.id === a[0].secondaryAxisId)!\n        const bAxis = secondaryAxes.find(d => d.id === b[0].secondaryAxisId)!\n\n        const aPx = getPrimary(a[0], primaryAxis, aAxis, useBarPx)\n        const bPx = getPrimary(b[0], primaryAxis, bAxis, useBarPx)\n\n        return aPx - bPx\n      })\n\n    if (primaryAxis.isVertical) {\n      preColumns.reverse()\n    }\n\n    const columns = preColumns.map((datums, i, all) => {\n      const datum = datums[0]\n\n      const prev = all[i - 1]\n      const next = all[i + 1]\n\n      const secondaryAxis = secondaryAxes.find(\n        d => d.id === datum.secondaryAxisId\n      )!\n      const primaryPx = getPrimary(datum, primaryAxis, secondaryAxis, useBarPx)\n\n      let range = primaryAxis?.scale.range() ?? [0, 0]\n\n      let [primaryStart, primaryEnd] = range\n\n      if (prev) {\n        const secondaryAxis = secondaryAxes.find(\n          d => d.id === prev[0].secondaryAxisId\n        )!\n        const prevPx = getPrimary(prev[0], primaryAxis, secondaryAxis, useBarPx)\n        primaryStart = primaryPx - (primaryPx - prevPx) / 2\n      }\n\n      if (next) {\n        const secondaryAxis = secondaryAxes.find(\n          d => d.id === next[0].secondaryAxisId\n        )!\n        const nextPx = getPrimary(next[0], primaryAxis, secondaryAxis, useBarPx)\n        primaryEnd = primaryPx + (nextPx - primaryPx) / 2\n      }\n\n      return {\n        primaryStart,\n        primaryEnd,\n        primaryPx,\n        datumBoundaries: datums\n          .filter(datum => {\n            const secondaryValue = datum.secondaryValue\n            return (\n              typeof secondaryValue !== 'undefined' && secondaryValue !== null\n            )\n          })\n          .map((datum, i, all) => {\n            const prev = all[i - 1]\n            const next = all[i + 1]\n\n            const secondaryAxis = secondaryAxes.find(\n              d => d.id === datum.secondaryAxisId\n            )\n\n            if (stackedVoronoi) {\n              let range = secondaryAxis?.scale.range() ?? [0, 0]\n\n              let stackData = [datum.stackData?.[0], datum.stackData?.[1]]\n\n              if (secondaryAxis?.isVertical) {\n                range.reverse()\n                stackData.reverse()\n              }\n\n              let [secondaryStart, secondaryEnd] = range\n\n              if (prev) {\n                secondaryStart =\n                  secondaryAxis?.scale(stackData[0] ?? NaN) ?? NaN\n              }\n\n              if (next) {\n                secondaryEnd = secondaryAxis?.scale(stackData[1] ?? NaN) ?? NaN\n              }\n\n              return {\n                secondaryStart,\n                secondaryEnd,\n                datum,\n              }\n            }\n\n            const value =\n              secondaryAxis?.scale(\n                secondaryAxis.stacked\n                  ? datum.stackData?.[1]\n                  : datum.secondaryValue\n              ) ?? NaN\n\n            let range = secondaryAxis?.scale.range() ?? [0, 0]\n\n            if (secondaryAxis?.isVertical) {\n              range.reverse()\n            }\n\n            let [secondaryStart, secondaryEnd] = range\n\n            if (prev) {\n              const prevAxis = secondaryAxes.find(\n                d => d.id === prev?.secondaryAxisId\n              )\n              const prevValue =\n                prevAxis?.scale(\n                  prevAxis.stacked ? prev.stackData?.[1] : prev.secondaryValue\n                ) ?? NaN\n              secondaryStart = value - (value - prevValue) / 2\n            }\n\n            if (next) {\n              const nextAxis = secondaryAxes.find(\n                d => d.id === next?.secondaryAxisId\n              )\n              const nextValue =\n                nextAxis?.scale(\n                  nextAxis.stacked ? next.stackData?.[1] : next.secondaryValue\n                ) ?? NaN\n              secondaryEnd = value + (nextValue - value) / 2\n            }\n\n            return {\n              secondaryStart,\n              secondaryEnd,\n              datum,\n            }\n          }),\n      }\n    })\n\n    return (\n      <g\n        {...{\n          onMouseLeave: () => handleFocus(null),\n          style: {\n            transform: translate(gridDimensions.left, gridDimensions.top),\n          },\n        }}\n      >\n        {columns.map((column, i) => {\n          return (\n            <g key={`${column.primaryPx}_${i}`}>\n              {column.datumBoundaries.map((datumBoundary, i) => {\n                const x1 = !primaryAxis.isVertical\n                  ? column.primaryStart\n                  : datumBoundary.secondaryStart\n                const x2 = !primaryAxis.isVertical\n                  ? column.primaryEnd\n                  : datumBoundary.secondaryEnd\n                const y1 = !primaryAxis.isVertical\n                  ? datumBoundary.secondaryStart\n                  : column.primaryStart\n                const y2 = !primaryAxis.isVertical\n                  ? datumBoundary.secondaryEnd\n                  : column.primaryEnd\n\n                const x = Math.min(x1, x2)\n                const y = Math.min(y1, y2)\n                const xEnd = Math.max(x1, x2)\n                const yEnd = Math.max(y1, y2)\n\n                const height = Math.max(yEnd - y, 0)\n                const width = Math.max(xEnd - x, 0)\n\n                return (\n                  <rect\n                    {...{\n                      key: i,\n                      x,\n                      y,\n                      width,\n                      height,\n                      className: 'action-voronoi',\n                      onMouseEnter: () => handleFocus(datumBoundary.datum),\n                      style: {\n                        fill: getOptions().dark\n                          ? '#ffffff33'\n                          : 'rgba(0,0,0,0.2)',\n                        strokeWidth: 1,\n                        stroke: getOptions().dark ? 'white' : 'black',\n                        opacity: getOptions().showVoronoi ? 1 : 0,\n                      },\n                    }}\n                  />\n                )\n              })}\n            </g>\n          )\n        })}\n      </g>\n    )\n  }, [\n    datumsByInteractionGroup,\n    primaryAxis,\n    gridDimensions.left,\n    gridDimensions.top,\n    secondaryAxes,\n    useBarPx,\n    stackedVoronoi,\n    handleFocus,\n    getOptions,\n  ])\n}\n\nconst delaunayLineFn = line()\n\nfunction SingleVoronoi<TDatum>({\n  handleFocus,\n}: {\n  handleFocus: (datum: Datum<TDatum> | null) => void\n}) {\n  const {\n    primaryAxis,\n    series,\n    secondaryAxes,\n    getOptions,\n    gridDimensions,\n    // datumsByInteractionGroup,\n  } = useChartContext<TDatum>()\n\n  let polygons = null\n\n  const voronoiData: { x: number; y: number; datum: Datum<TDatum> }[] = []\n\n  const useBarPx = secondaryAxes.every(\n    d => d.elementType === 'bar' && !d.stacked\n  )\n\n  series.forEach(serie => {\n    serie.datums\n      .filter(datum => {\n        const primaryValue = datum.primaryValue\n        const secondaryValue = datum.secondaryValue\n        return (\n          primaryValue !== 'undefined' &&\n          primaryValue !== null &&\n          secondaryValue !== 'undefined' &&\n          secondaryValue !== null\n        )\n      })\n      .forEach(datum => {\n        const secondaryAxis = secondaryAxes.find(\n          d => d.id === datum.secondaryAxisId\n        )\n        const x = getX(datum, primaryAxis, secondaryAxis!, useBarPx)\n        const y = getY(datum, primaryAxis, secondaryAxis!, useBarPx)\n\n        if (\n          typeof x !== 'number' ||\n          typeof y !== 'number' ||\n          Number.isNaN(y) ||\n          Number.isNaN(x)\n        ) {\n          return\n        }\n\n        voronoiData.push({\n          x,\n          y,\n          datum,\n        })\n      })\n  })\n\n  const delaunay = Delaunay.from(\n    voronoiData,\n    d => Math.max(d.x, 0),\n    d => Math.max(d.y, 0)\n  )\n\n  const voronoi = delaunay.voronoi([\n    0,\n    0,\n    gridDimensions.width,\n    gridDimensions.height,\n  ])\n\n  polygons = voronoi.cellPolygons()\n\n  polygons = Array.from(polygons)\n\n  return (\n    <g\n      {...{\n        onMouseLeave: () => handleFocus(null),\n        style: {\n          transform: translate(gridDimensions.left, gridDimensions.top),\n        },\n      }}\n    >\n      {polygons.map((points, i) => {\n        const index = points.index\n        const datum = voronoiData[index].datum\n        const path = delaunayLineFn(points as any) || undefined\n        return (\n          <path\n            {...{\n              key: i,\n              d: path,\n              className: 'action-voronoi',\n              onMouseEnter: () => handleFocus(datum),\n              style: {\n                fill: getOptions().dark ? '#ffffff33' : 'rgba(0,0,0,0.2)',\n                strokeWidth: 1,\n                stroke: getOptions().dark ? 'white' : 'black',\n                opacity: getOptions().showVoronoi ? 1 : 0,\n              },\n            }}\n          />\n        )\n      })}\n    </g>\n  )\n}\n\nfunction getX<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>,\n  useBarPx: boolean\n): number {\n  return primaryAxis.isVertical\n    ? getSecondary(datum, secondaryAxis)\n    : getPrimary(datum, primaryAxis, secondaryAxis, useBarPx)\n}\n\nfunction getY<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>,\n  useBarPx: boolean\n): number {\n  return primaryAxis.isVertical\n    ? getPrimary(datum, primaryAxis, secondaryAxis, useBarPx)\n    : getSecondary(datum, secondaryAxis)\n}\n\nfunction getPrimary<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>,\n  useBarPx: boolean\n): number {\n  let primary = primaryAxis.scale(datum.primaryValue) ?? NaN\n\n  if (useBarPx && secondaryAxis.elementType === 'bar') {\n    if (!secondaryAxis.stacked) {\n      primary += primaryAxis.seriesBandScale!(datum.seriesIndex) ?? NaN\n      primary += getPrimaryLength(datum, primaryAxis, secondaryAxis) / 2\n    } else {\n      primary += getPrimaryGroupLength(datum, primaryAxis) / 2\n    }\n  }\n\n  return primary\n}\n\nfunction getSecondary<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[1] ?? NaN) ?? NaN\n  }\n\n  return secondaryAxis.scale(datum.secondaryValue) ?? NaN\n}\n","import { groups, sort, sum } from 'd3-array'\nimport React, { ComponentPropsWithoutRef } from 'react'\n\nimport useGetLatest from '../hooks/useGetLatest'\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect'\nimport Bar, { getPrimary } from '../seriesTypes/Bar'\nimport Line from '../seriesTypes/Line'\n//\nimport {\n  Axis,\n  AxisDimensions,\n  AxisOptions,\n  AxisOptionsWithScaleType,\n  BuildAxisOptions,\n  ChartContextValue,\n  ChartOptions,\n  Datum,\n  GridDimensions,\n  RequiredChartOptions,\n  Series,\n  UserSerie,\n} from '../types'\nimport {\n  materializeStyles,\n  getSeriesStatus,\n  getDatumStatus,\n} from '../utils/Utils'\nimport buildAxisLinear from '../utils/buildAxis.linear'\nimport { ChartContextProvider } from '../utils/chartContext'\nimport AxisLinear from './AxisLinear'\n// import Brush from './Brush'\nimport Cursors from './Cursors'\nimport Tooltip, { defaultTooltip } from './Tooltip'\nimport Voronoi from './Voronoi'\n\n//\n\n//\n\nconst defaultColorScheme = [\n  '#0f83ab',\n  '#faa43a',\n  '#fd6868',\n  '#53cfc9',\n  '#a2d925',\n  '#decf3f',\n  '#734fe9',\n  '#cd82ad',\n  '#006d92',\n  '#de7c00',\n  '#f33232',\n  '#3f9a80',\n  '#53c200',\n  '#d7af00',\n  '#4c26c9',\n  '#d44d99',\n]\n\nconst defaultPadding = 5\n\nfunction defaultChartOptions<TDatum>(\n  options: ChartOptions<TDatum>\n): RequiredChartOptions<TDatum> {\n  return {\n    ...options,\n    initialWidth: options.initialWidth ?? 300,\n    initialHeight: options.initialHeight ?? 200,\n    getSeriesOrder:\n      options.getSeriesOrder ?? ((series: Series<TDatum>[]) => series),\n    interactionMode: options.interactionMode ?? 'primary',\n    showVoronoi: options.showVoronoi ?? false,\n    defaultColors: options.defaultColors ?? defaultColorScheme,\n    useIntersectionObserver: options.useIntersectionObserver ?? false,\n    intersectionObserverRootMargin:\n      options.intersectionObserverRootMargin ?? '1000px',\n    primaryCursor: options.primaryCursor ?? true,\n    secondaryCursor: options.secondaryCursor ?? true,\n    padding: options.padding ?? defaultPadding,\n  }\n}\n\nexport function Chart<TDatum>({\n  options: userOptions,\n  className,\n  style = {},\n  ...rest\n}: ComponentPropsWithoutRef<'div'> & { options: ChartOptions<TDatum> }) {\n  const options = defaultChartOptions(userOptions)\n  const [chartElement, setContainerElement] =\n    React.useState<HTMLDivElement | null>(null)\n\n  const containerEl = chartElement?.parentElement\n\n  const nearestScrollableParent = React.useMemo(() => {\n    const run = (el?: Element | null): Element | null => {\n      if (!el) {\n        return null\n      }\n\n      const grandParent = el.parentElement\n\n      if (!grandParent) {\n        return null\n      }\n\n      if (grandParent.scrollHeight > grandParent.clientHeight) {\n        const { overflow } = window.getComputedStyle(grandParent)\n\n        if (overflow.includes('scroll') || overflow.includes('auto')) {\n          return grandParent\n        }\n      }\n\n      return run(grandParent)\n    }\n\n    return run(containerEl)\n  }, [containerEl])\n\n  const [{ width, height }, setDims] = React.useState({\n    width: options.initialWidth,\n    height: options.initialHeight,\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (containerEl) {\n      const computed = window.getComputedStyle(containerEl)\n\n      if (!['relative', 'absolute', 'fixed'].includes(computed.position)) {\n        containerEl.style.position = 'relative'\n      }\n    }\n  }, [containerEl])\n\n  React.useEffect(() => {\n    if (!containerEl) {\n      return\n    }\n\n    const observer = new ResizeObserver(() => {\n      const rect = containerEl?.getBoundingClientRect()\n      const styles = window.getComputedStyle(containerEl)\n\n      if (rect) {\n        setDims({\n          width:\n            rect.width -\n            parseInt(styles.borderLeftWidth) -\n            parseInt(styles.borderRightWidth),\n          height:\n            rect.height -\n            parseInt(styles.borderTopWidth) -\n            parseInt(styles.borderBottomWidth),\n        })\n      }\n    })\n\n    observer.observe(containerEl)\n\n    return () => {\n      observer.unobserve(containerEl)\n    }\n  }, [containerEl])\n\n  const [isIntersecting, setIsIntersecting] = React.useState(true)\n\n  React.useEffect(() => {\n    if (!containerEl || !options.useIntersectionObserver) return\n\n    let observer = new IntersectionObserver(\n      entries => {\n        for (let entry of entries) {\n          if (entry.isIntersecting) {\n            setIsIntersecting(true)\n          } else {\n            setIsIntersecting(false)\n          }\n        }\n      },\n      {\n        root: nearestScrollableParent,\n        rootMargin: options.intersectionObserverRootMargin,\n      }\n    )\n\n    observer.observe(containerEl)\n\n    return () => {\n      observer.unobserve(containerEl)\n    }\n  }, [\n    containerEl,\n    nearestScrollableParent,\n    options.intersectionObserverRootMargin,\n    options.useIntersectionObserver,\n  ])\n\n  return (\n    <div\n      ref={setContainerElement}\n      {...rest}\n      className={`ReactChart ${className || ''}`}\n      style={{\n        fontFamily: 'sans-serif',\n        ...style,\n        position: 'absolute',\n        width,\n        height,\n      }}\n    >\n      {options.useIntersectionObserver && !isIntersecting ? null : (\n        <ChartInner options={options} {...{ width, height }} />\n      )}\n    </div>\n  )\n}\n\nfunction ChartInner<TDatum>({\n  options,\n  width,\n  height,\n}: {\n  options: RequiredChartOptions<TDatum>\n  width: number\n  height: number\n}) {\n  if (!options.primaryAxis) {\n    throw new Error('A primaryAxis is required')\n  }\n\n  if (!options.secondaryAxes.length) {\n    throw new Error('At least one secondaryAxis is required')\n  }\n\n  const primaryAxisOptions = React.useMemo((): BuildAxisOptions<TDatum> => {\n    const firstValue = getFirstDefinedValue(options.primaryAxis, options.data)\n    const axisOptions = axisOptionsWithScaleType(\n      options.primaryAxis,\n      firstValue\n    )\n\n    return { position: 'bottom', ...axisOptions }\n  }, [options.data, options.primaryAxis])\n\n  const secondaryAxesOptions = React.useMemo(() => {\n    return options.secondaryAxes.map(\n      (secondaryAxis, i): BuildAxisOptions<TDatum> => {\n        const firstValue = getFirstDefinedValue(secondaryAxis, options.data)\n\n        const axisOptions = axisOptionsWithScaleType(secondaryAxis, firstValue)\n\n        if (!axisOptions.elementType) {\n          if (primaryAxisOptions.scaleType === 'band') {\n            axisOptions.elementType = 'bar'\n          } else if (axisOptions.stacked) {\n            axisOptions.elementType = 'area'\n          }\n        }\n\n        if (\n          typeof axisOptions.stacked === 'undefined' &&\n          axisOptions.elementType &&\n          ['area'].includes(axisOptions.elementType)\n        ) {\n          axisOptions.stacked = true\n        }\n\n        return {\n          position: !i ? 'left' : 'right',\n          ...axisOptions,\n        }\n      }\n    )\n  }, [options.data, options.secondaryAxes, primaryAxisOptions])\n\n  // Resolve Tooltip Option\n  const tooltipOptions = React.useMemo(() => {\n    const tooltipOptions = defaultTooltip(options?.tooltip)\n    tooltipOptions.groupingMode =\n      tooltipOptions.groupingMode ??\n      (() => {\n        if (options.interactionMode === 'closest') {\n          return 'single'\n        }\n        return 'primary'\n      })()\n\n    return tooltipOptions\n  }, [options.interactionMode, options?.tooltip])\n\n  options = {\n    ...options,\n    tooltip: tooltipOptions,\n  }\n\n  //\n\n  const svgRef = React.useRef<SVGSVGElement>(null)\n  const getOptions = useGetLatest({ ...options, tooltip: tooltipOptions })\n\n  const axisDimensionsState = React.useState<AxisDimensions>({\n    left: {},\n    right: {},\n    top: {},\n    bottom: {},\n  })\n\n  const [axisDimensions] = axisDimensionsState\n\n  const isInteractingState = React.useState<boolean>(false)\n  const [isInteracting] = isInteractingState\n\n  const focusedDatumState = React.useState<Datum<TDatum> | null>(null)\n  const [focusedDatum] = focusedDatumState\n\n  // useAtom<Datum<TDatum> | null>(focusedDatumAtom)\n\n  const gridDimensions = React.useMemo((): GridDimensions => {\n    const padding = {\n      left:\n        typeof options.padding === 'object'\n          ? options.padding.left ?? defaultPadding\n          : options.padding,\n      right:\n        typeof options.padding === 'object'\n          ? options.padding.right ?? defaultPadding\n          : options.padding,\n      bottom:\n        typeof options.padding === 'object'\n          ? options.padding.bottom ?? defaultPadding\n          : options.padding,\n      top:\n        typeof options.padding === 'object'\n          ? options.padding.top ?? defaultPadding\n          : options.padding,\n    }\n\n    const left =\n      padding.left +\n      Math.max(\n        sum(Object.values(axisDimensions.left), d => d.width),\n        sum(Object.values(axisDimensions.top), d => d.paddingLeft),\n        sum(Object.values(axisDimensions.bottom), d => d.paddingLeft)\n      )\n\n    const top =\n      padding.top +\n      Math.max(\n        sum(Object.values(axisDimensions.top), d => d.height),\n        sum(Object.values(axisDimensions.left), d => d.paddingTop),\n        sum(Object.values(axisDimensions.right), d => d.paddingTop)\n      )\n\n    const right =\n      padding.right +\n      Math.max(\n        sum(Object.values(axisDimensions.right), d => d.width),\n        sum(Object.values(axisDimensions.top), d => d.paddingRight),\n        sum(Object.values(axisDimensions.bottom), d => d.paddingRight)\n      )\n\n    const bottom =\n      padding.bottom +\n      Math.max(\n        sum(Object.values(axisDimensions.bottom), d => d.height),\n        sum(Object.values(axisDimensions.left), d => d.paddingBottom),\n        sum(Object.values(axisDimensions.right), d => d.paddingBottom)\n      )\n\n    const gridWidth = Math.max(0, width - left - right)\n    const gridHeight = Math.max(0, height - top - bottom)\n\n    return { left, top, right, bottom, width: gridWidth, height: gridHeight }\n  }, [\n    options.padding,\n    axisDimensions.left,\n    axisDimensions.top,\n    axisDimensions.bottom,\n    axisDimensions.right,\n    width,\n    height,\n  ])\n\n  const series = React.useMemo(() => {\n    const series: Series<TDatum>[] = []\n\n    const indicesByAxisId: Record<string, number> = {}\n\n    for (\n      let seriesIndex = 0;\n      seriesIndex < options.data.length;\n      seriesIndex++\n    ) {\n      const originalSeries = options.data[seriesIndex]\n      const seriesId = originalSeries.id ?? seriesIndex + ''\n      const seriesLabel = originalSeries.label ?? `Series ${seriesIndex + 1}`\n      const secondaryAxisId = originalSeries.secondaryAxisId\n      const originalDatums = originalSeries.data\n      const datums = []\n\n      indicesByAxisId[`${secondaryAxisId}`] =\n        indicesByAxisId[`${secondaryAxisId}`] ?? 0\n      const seriesIndexPerAxis = indicesByAxisId[`${secondaryAxisId}`]\n\n      indicesByAxisId[`${secondaryAxisId}`]++\n\n      for (\n        let datumIndex = 0;\n        datumIndex < originalDatums.length;\n        datumIndex++\n      ) {\n        const originalDatum = originalDatums[datumIndex]\n        datums[datumIndex] = {\n          originalSeries,\n          seriesIndex,\n          seriesIndexPerAxis,\n          seriesId,\n          seriesLabel,\n          secondaryAxisId,\n          index: datumIndex,\n          originalDatum,\n        }\n      }\n\n      series[seriesIndex] = {\n        originalSeries,\n        index: seriesIndex,\n        id: seriesId,\n        label: seriesLabel,\n        indexPerAxis: seriesIndexPerAxis,\n        secondaryAxisId,\n        datums,\n      }\n    }\n\n    return series\n  }, [options.data])\n\n  let allDatums = React.useMemo(() => {\n    return series.map(s => s.datums).flat(2)\n  }, [series])\n\n  const primaryAxis = React.useMemo(() => {\n    return buildAxisLinear<TDatum>(\n      true,\n      primaryAxisOptions,\n      series,\n      allDatums,\n      gridDimensions,\n      width,\n      height\n    )\n  }, [allDatums, gridDimensions, height, primaryAxisOptions, series, width])\n\n  const secondaryAxes = React.useMemo(() => {\n    return secondaryAxesOptions.map(secondaryAxis => {\n      return buildAxisLinear<TDatum>(\n        false,\n        secondaryAxis,\n        series,\n        allDatums,\n        gridDimensions,\n        width,\n        height\n      )\n    })\n  }, [allDatums, gridDimensions, height, secondaryAxesOptions, series, width])\n\n  const [datumsByInteractionGroup, datumsByTooltipGroup] = React.useMemo(() => {\n    if (!isInteracting) {\n      return [new Map(), new Map()]\n    }\n\n    const datumsByInteractionGroup = new Map<any, Datum<TDatum>[]>()\n    const datumsByTooltipGroup = new Map<any, Datum<TDatum>[]>()\n\n    const allBarAndNotStacked = secondaryAxes.every(\n      d => d.elementType === 'bar' && !d.stacked\n    )\n\n    let getInteractionPrimary = (datum: Datum<TDatum>) => {\n      if (allBarAndNotStacked) {\n        const secondaryAxis = secondaryAxes.find(\n          d => d.id === datum.secondaryAxisId\n        )!\n\n        if (secondaryAxis.elementType === 'bar' && !secondaryAxis.stacked) {\n          return getPrimary(datum, primaryAxis, secondaryAxis)\n        }\n      }\n\n      return datum.primaryValue\n    }\n\n    let getInteractionKey = (datum: Datum<TDatum>) =>\n      `${getInteractionPrimary(datum)}`\n    let getTooltipKey = (datum: Datum<TDatum>) => `${datum.primaryValue}`\n\n    if (options.interactionMode === 'closest') {\n      getInteractionKey = datum =>\n        `${getInteractionPrimary(datum)}_${datum.secondaryValue}`\n    }\n\n    if (tooltipOptions.groupingMode === 'single') {\n      getTooltipKey = datum => `${datum.primaryValue}_${datum.secondaryValue}`\n    } else if (tooltipOptions.groupingMode === 'secondary') {\n      getTooltipKey = datum => `${datum.secondaryValue}`\n    } else if (tooltipOptions.groupingMode === 'series') {\n      getTooltipKey = datum => `${datum.seriesIndex}`\n    }\n\n    allDatums.forEach(datum => {\n      const interactionKey = (getInteractionKey as Function)(datum)\n      const tooltipKey = (getTooltipKey as Function)(datum)\n\n      if (!datumsByInteractionGroup.has(interactionKey)) {\n        datumsByInteractionGroup.set(interactionKey, [])\n      }\n\n      if (!datumsByTooltipGroup.has(tooltipKey)) {\n        datumsByTooltipGroup.set(tooltipKey, [])\n      }\n\n      datumsByInteractionGroup.get(interactionKey)!.push(datum)\n      datumsByTooltipGroup.get(tooltipKey)!.push(datum)\n    })\n\n    datumsByInteractionGroup.forEach((value, key) => {\n      datumsByInteractionGroup.set(\n        key,\n        sortDatumsBySecondaryPx(value, secondaryAxes)\n      )\n    })\n\n    datumsByTooltipGroup.forEach((value, key) => {\n      datumsByTooltipGroup.set(\n        key,\n        sortDatumsBySecondaryPx(value, secondaryAxes)\n      )\n    })\n\n    allDatums.forEach(datum => {\n      const interactionKey = (getInteractionKey as Function)(datum)\n      const tooltipKey = (getTooltipKey as Function)(datum)\n      datum.interactiveGroup = datumsByInteractionGroup.get(interactionKey)\n      datum.tooltipGroup = datumsByTooltipGroup.get(tooltipKey)\n    })\n\n    return [datumsByInteractionGroup, datumsByTooltipGroup]\n  }, [\n    isInteracting,\n    allDatums,\n    options.interactionMode,\n    primaryAxis,\n    secondaryAxes,\n    tooltipOptions.groupingMode,\n  ])\n\n  const getSeriesStatusStyle = React.useCallback(\n    (series: Series<TDatum>, focusedDatum: Datum<TDatum> | null) => {\n      const base = {\n        color:\n          getOptions().defaultColors[\n            series.index % getOptions().defaultColors.length\n          ],\n      }\n\n      const status = getSeriesStatus(series, focusedDatum)\n      const statusStyles = getOptions().getSeriesStyle?.(series, status) ?? {}\n      series.style = materializeStyles(statusStyles, base)\n      return series.style\n    },\n    [getOptions]\n  )\n\n  const getDatumStatusStyle = React.useCallback(\n    (datum: Datum<TDatum>, focusedDatum: Datum<TDatum> | null) => {\n      const base = {\n        ...series[datum.seriesIndex]?.style,\n        color:\n          getOptions().defaultColors[\n            datum.seriesIndex % getOptions().defaultColors.length\n          ],\n      }\n\n      const status = getDatumStatus(datum as Datum<TDatum>, focusedDatum)\n      const statusStyles =\n        getOptions().getDatumStyle?.(datum as Datum<TDatum>, status) ?? {}\n\n      datum.style = materializeStyles(statusStyles, base)\n\n      return datum.style\n    },\n    [getOptions, series]\n  )\n\n  // Reverse the stack order for proper z-indexing\n  let orderedSeries = React.useMemo(() => {\n    const reversedSeries = [...series].reverse()\n\n    return getOptions().getSeriesOrder(reversedSeries)\n  }, [getOptions, series])\n\n  useIsomorphicLayoutEffect(() => {\n    if (\n      svgRef.current &&\n      svgRef.current.parentElement &&\n      !svgRef.current.parentElement.style.position\n    ) {\n      svgRef.current.parentElement.style.position = 'relative'\n    }\n  })\n\n  const contextValue: ChartContextValue<TDatum> = {\n    getOptions,\n    gridDimensions,\n    primaryAxis,\n    secondaryAxes,\n    series,\n    orderedSeries,\n    datumsByInteractionGroup,\n    datumsByTooltipGroup,\n    width,\n    height,\n    getSeriesStatusStyle,\n    getDatumStatusStyle,\n    axisDimensionsState,\n    focusedDatumState,\n    svgRef,\n    isInteractingState,\n  }\n\n  const seriesByAxisId = React.useMemo(\n    () =>\n      sort(\n        groups(orderedSeries, d => d.secondaryAxisId),\n        ([key]) => secondaryAxes.findIndex(axis => axis.id === key)\n      ),\n    [orderedSeries, secondaryAxes]\n  )\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  let getSeriesInfo = () => ({\n    primaryAxis,\n    secondaryAxes,\n    seriesByAxisId,\n  })\n\n  let getMemoizedSeriesInfo = React.useCallback(\n    () => ({\n      primaryAxis,\n      secondaryAxes,\n      seriesByAxisId,\n    }),\n    [primaryAxis, secondaryAxes, seriesByAxisId]\n  )\n\n  if (options.memoizeSeries) {\n    getSeriesInfo = getMemoizedSeriesInfo\n  }\n\n  const seriesEl = React.useMemo(() => {\n    const { primaryAxis, secondaryAxes, seriesByAxisId } = getSeriesInfo()\n    return seriesByAxisId.map(([axisId, series]) => {\n      const secondaryAxis = secondaryAxes.find(d => d.id === axisId)\n\n      if (!secondaryAxis) {\n        return null\n      }\n\n      const { elementType } = secondaryAxis\n      const Component = (() => {\n        if (\n          elementType === 'line' ||\n          elementType === 'bubble' ||\n          elementType === 'area'\n        ) {\n          return Line\n        }\n        if (elementType === 'bar') {\n          return Bar\n        }\n        throw new Error('Invalid elementType')\n      })()\n\n      if (primaryAxis.isInvalid || secondaryAxis.isInvalid) {\n        return null\n      }\n\n      return (\n        <Component\n          key={axisId ?? '__default__'}\n          primaryAxis={primaryAxis}\n          secondaryAxis={secondaryAxis}\n          series={series}\n        />\n      )\n    })\n  }, [getSeriesInfo])\n\n  return (\n    <ChartContextProvider value={useGetLatest(contextValue)}>\n      <div>\n        <svg\n          ref={svgRef}\n          style={{\n            width,\n            height,\n            overflow: options.brush ? 'hidden' : 'visible',\n          }}\n          onClick={e => options.onClickDatum?.(focusedDatum, e)}\n          onMouseEnter={() => {\n            isInteractingState[1](true)\n          }}\n          onMouseLeave={() => {\n            isInteractingState[1](false)\n          }}\n        >\n          <g className=\"axes\">\n            {[primaryAxis, ...secondaryAxes].map(axis => (\n              <AxisLinear key={[axis.position, axis.id].join('')} {...axis} />\n            ))}\n          </g>\n          <g\n            className=\"Series\"\n            style={{\n              pointerEvents: 'none',\n            }}\n          >\n            {seriesEl}\n          </g>\n          <Voronoi />\n          {options.renderSVG?.() ?? null}\n        </svg>\n        <Cursors />\n        <Tooltip />\n      </div>\n    </ChartContextProvider>\n  )\n}\n\nfunction getFirstDefinedValue<TDatum>(\n  options: AxisOptions<TDatum>,\n  data: UserSerie<TDatum>[]\n) {\n  let firstDefinedValue: Date | number | string | undefined\n\n  data.some(serie => {\n    return serie.data.some(originalDatum => {\n      const value = options.getValue(originalDatum)\n      if (value !== null && typeof value !== 'undefined') {\n        firstDefinedValue = value\n        return true\n      }\n    })\n  })\n\n  return firstDefinedValue\n}\n\nfunction axisOptionsWithScaleType<TDatum>(\n  options: AxisOptions<TDatum>,\n  firstValue: Date | number | string | undefined\n): AxisOptionsWithScaleType<TDatum> {\n  let scaleType = options.scaleType\n\n  if (!options.scaleType) {\n    if (typeof firstValue === 'number') {\n      scaleType = 'linear'\n    } else if (typeof (firstValue as Date)?.getMonth === 'function') {\n      scaleType = 'time'\n    } else if (\n      typeof firstValue === 'string' ||\n      typeof firstValue === 'boolean'\n    ) {\n      scaleType = 'band'\n    } else {\n      throw new Error('Invalid scale type: Unable to infer type from data')\n    }\n  }\n\n  return { ...options, scaleType } as AxisOptionsWithScaleType<TDatum>\n}\n\nfunction sortDatumsBySecondaryPx<TDatum>(\n  datums: Datum<TDatum>[],\n  secondaryAxes: Axis<TDatum>[]\n) {\n  if (secondaryAxes.every(d => d.stacked)) {\n    const differingInverts =\n      secondaryAxes.some(d => d.invert) && secondaryAxes.some(d => !d.invert)\n\n    if (!differingInverts) {\n      return datums\n    }\n  }\n\n  return [...datums].sort((a, b) => {\n    const aAxis = secondaryAxes.find(d => d.id === a.secondaryAxisId)\n    const bAxis = secondaryAxes.find(d => d.id === b.secondaryAxisId)\n\n    const aPx =\n      aAxis?.scale(aAxis.stacked ? a.stackData?.[1] : a.secondaryValue) ?? NaN\n\n    const bPx =\n      bAxis?.scale(bAxis.stacked ? b.stackData?.[1] : b.secondaryValue) ?? NaN\n\n    return aPx > bPx ? 1 : aPx < bPx ? -1 : 0\n  })\n}\n"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_unsupportedIterableToArray","o","minLen","arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","from","test","_createForOfIteratorHelperLoose","allowArrayLike","it","Symbol","iterator","next","bind","isArray","unsupportedIterableToArray","done","value","TypeError","_objectWithoutPropertiesLoose","source","excluded","target","sourceKeys","keys","key","indexOf","_extends","assign","arguments","hasOwnProperty","apply","a","b","NaN","f","delta","compare","d","x","ascendingComparator","left","lo","hi","mid","right","center","ascending","numbers","values","valueof","undefined","index","ascendingBisect","bisector","bisectRight","number","min","max","InternMap","Map","entries","keyof","defineProperties","_intern","_key","set","get","intern_get","has","intern_set","delete","intern_delete","valueOf","groups","nest","identity","map","reduce","regroup","group","push","sort","F","Uint32Array","j","c","permute","e10","Math","sqrt","e5","e2","start","stop","count","reverse","ticks","step","tickIncrement","isFinite","r0","round","r1","power","floor","log","LN10","error","pow","tickStep","step0","abs","step1","quickselect","array","k","m","z","s","exp","sd","newLeft","newRight","t","swap","quantile","p","Float64Array","i0","value0","subarray","value1","ceil","range","sum","useGetLatest","obj","ref","React","useRef","getterRef","current","window","useLayoutEffect","useEffect","getSeriesStatus","series","focusedDatum","seriesId","id","getDatumStatus","datum","tooltipGroup","some","groupDatum","elementTypes","materializeStyles","style","defaults","normalizeColor","type","translate","y","stroke","color","fill","isDefined","num","Number","isNaN","chartContext","createContext","ChartContextProvider","children","useChartContext","useContext","BarComponent","primaryAxis","secondaryAxis","allSeries","getSeriesStatusStyle","getDatumStatusStyle","focusedDatumState","gridDimensions","xAxis","isVertical","yAxis","transform","top","datums","dataStyle","clampPxToAxis","getRectX","getWidth","width","getRectY","getHeight","height","el","element","strokeWidth","rectangle","getSecondaryLength","getPrimaryLength","getPrimaryGroupLength","_datum","primaryBandScale","bandwidth","axisFamily","bandWidth","stacked","scale","seriesBandScale","minBandSize","maxBandSize","secondary","getSecondaryStart","getSecondary","getPrimary","primary","primaryValue","seriesIndex","stackData","secondaryValue","startPx","lengthPx","axis","safe","safeStart","safeEnd","safeLength","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","_","path","moveTo","closePath","lineTo","quadraticCurveTo","x1","y1","bezierCurveTo","x2","y2","arcTo","r","x0","y0","x21","y21","x01","y01","l01_2","Error","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","dx","cos","dy","sin","cw","da","rect","w","h","constant","Linear","context","_context","areaStart","_line","areaEnd","lineStart","_point","lineEnd","point","defined","curve","curveLinear","output","pointX","pointY","line","data","defined0","buffer","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","order","s0","s1","stackValue","stackSeries","orderNone","offset","offsetNone","stack","sz","oz","sign","slope3","that","h0","h1","slope2","t0","t1","MonotoneX","_t0","create","monotoneX","Line","areaPath","elementType","_x","_y2","areaFn","every","_y","lineFn","linePath","showDatumElements","opacity","radius","show","getX","getY","transition","circle","px","initRange","domain","implicit","ordinal","unknown","copy","band","ordinalRange","paddingInner","paddingOuter","align","rescale","sequence","rangeRound","padding","factory","extend","parent","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","define","channels","displayable","rgb","hex","color_formatHex","formatHex","formatHex8","color_formatHex8","formatHsl","color_formatHsl","formatRgb","color_formatRgb","hslConvert","format","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","clamp","clampi","clampa","rgb_formatHex","rgb_formatHex8","rgb_formatRgb","Hsl","hsl","m2","m1","hsl2rgb","clamph","clampt","linear","exponential","gamma","nogamma","rgbGamma","end","colorRgb","isNumberArray","ArrayBuffer","isView","DataView","genericArray","nb","na","Date","setTime","reA","reB","zero","one","bi","lastIndex","am","bm","bs","q","join","string","date","numberArray","object","constants","unit","normalize","clamper","bimap","interpolate","d0","d1","polymap","bisect","transformer","interpolateValue","untransform","piecewise","input","invert","interpolateNumber","interpolateRound","u","continuous","toLocaleString","replace","formatDecimalParts","toExponential","coefficient","grouping","thousands","substring","numerals","re","formatSpecifier","specifier","match","FormatSpecifier","symbol","comma","precision","out","i1","prefixExponent","exponent","toFixed","formatDecimal","toPrecision","formatRounded","formatPrefixAuto","toUpperCase","prefixes","locale","formatGroup","currencyPrefix","currency","currencySuffix","decimal","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","formatTrim","charCodeAt","Infinity","formatPrefix","e","defaultLocale","formatLocale","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","maxIter","interval","transformLog","transformExp","transformLogn","transformExpn","pow10","powp","base","E","logp","log10","log2","reflect","loggish","logs","pows","v","newInterval","floori","offseti","field","previous","filter","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","utcWeek","timeTicks","timeTickInterval","localDate","H","M","S","L","utcDate","UTC","newDate","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatMicroseconds","formatYearISO","formatFullYearISO","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatQuarter","formatUnixTimestamp","formatUnixTimestampSeconds","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCMicroseconds","formatUTCYearISO","formatUTCFullYearISO","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCQuarter","formatUTCSeconds","formatUTCWeekdayNumberMonday","formatUTCWeekNumberSunday","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseMicroseconds","parseYear","parseFullYear","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseQuarter","parseUnixTimestamp","parseUnixTimestampSeconds","parseSeconds","parseWeekdayNumberMonday","parseWeekNumberSunday","parseWeekNumberISO","parseWeekdayNumberSunday","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseZone","parseLiteralPercent","X","pad","pads","charAt","newParse","Z","parseSpecifier","Q","V","timeMonday","timeDay","W","U","parse","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","names","timeYear","timeSunday","dISO","timeThursday","getUTCMilliseconds","dow","UTCdISO","timeFormat","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","utcTime","utcSecond","defaultAxisOptions","options","minTickPaddingForRotation","tickLabelRotationDeg","innerBandPadding","outerBandPadding","innerSeriesBandPadding","outerSeriesBandPadding","shouldNice","buildAxisLinear","isPrimary","userOptions","allDatums","position","outerRange","scaleType","buildTimeAxis","buildLinearAxis","buildBandAxis","isLocal","scaleFn","scaleTime","scaleUtc","isInvalid","secondaryAxisId","extent","getValue","originalDatum","minValue","maxValue","autoFormatStr","units","resolvedTimeFormat","trimFormat","str","contextFormat","hardMin","hardMax","console","info","outerScale","buildPrimaryBandScale","buildSeriesBandScale","primaryBandWidth","padBandRange","bandStart","bandEnd","diff","formatters","defaultFormat","scaleFormat","tooltipFormat","tooltip","cursorFormat","cursor","scaleLog","scaleLinear","flat","minDomainLength","median","bottom","Set","scaleBand","axisOptions","seriesIndices","stacker","val","stackOffset","stackOffsetNone","sIndex","impliedBandWidth","serie","d2","two","bandRange","bandDomain","d3Range","find","indexPerAxis","getElBox","getBoundingClientRect","useMeasure","elRef","setShowRotated","axisDimensionsState","axisDimensions","setAxisDimensions","axisDimension","useMemo","measureRotation","useCallback","gridSize","staticLabelDims","querySelectorAll","widestLabel","forEach","label","resolvedLabel","smallestTickGap","prev","shouldRotate","measureDimensions","old","newAxes","newDimensions","paddingTop","paddingBottom","paddingLeft","paddingRight","currentEl","axisEl","querySelector","domainEl","axisDims","domainDims","useIsomorphicLayoutEffect","requestAnimationFrame","AxisLinearComp","useState","showRotated","getOptions","dark","showDebugAxes","renderAxis","isOuter","isRotated","rangeStart","rangeEnd","getTicks","anyAxis","tickCount","autoSpacing","resolvedHeight","resolvedWidth","lineFrom","tick","getTickPx","to","gridTo","pointerEvents","tickLabelX","tickLabelY","fontSize","dominantBaseline","textAnchor","showGrid","usePrevious","useLatestWhen","when","usePortalElement","portalEl","setPortalEl","document","getElementById","createElement","setAttribute","body","append","useRect","enabled","rerender","useReducer","rectRef","measure","cb","addEventListener","removeEventListener","observer","ResizeObserver","observe","unobserve","_setPrototypeOf","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_construct","Parent","args","Class","isNativeReflectConstruct","Constructor","Function","instance","almostEqual","almostZero","Spring","init","mass","springConstant","damping","_m","_k","_c","_solution","endPosition","_startTime","dt","getTime","setEnd","velocity","_solve","snap","initial","cmk","c1","c2","r2","useSpring","config","immediate","_debug","springRef","useRaf","startRaf","stopRaf","prevRef","changed","callback","raf","rafCallback","cancelAnimationFrame","getLineBackgroundColor","getBackgroundColor","defaultCursor","showLine","showLabel","Cursors","primaryOptions","primaryCursor","secondaryOptions","secondaryCursor","resolvedPrimaryOptions","resolvedSecondaryOptions","Cursor","props","svgRef","secondaryAxes","getTooltipOptions","latestFocusedDatum","siblingAxis","resolveValue","datumValue","onChange","latestPropsValue","latestDatumValue","latestValue","siblingRange","alignPctX","alignPctY","lineStartX","lineStartY","lineEndX","lineEndY","lineHeight","lineWidth","bubbleX","bubbleY","formattedValue","svgRect","lineRef","bubbleRef","latestLineStartX","latestLineStartY","latestBubbleX","latestBubbleY","previousTruePx","lineXSpring","lineYSpring","bubbleXSpring","bubbleYSpring","ReactDOM","createPortal","fontFamily","background","borderRadius","whiteSpace","sideSchemas","side","startKey","lengthKey","crossStartKey","crossLengthKey","fromEnd","useAnchor","portalDims","anchorDims","anchorEl","tooltipDims","tooltipEl","sides","preSides","alignStr","split","incompatibleSide","incompatibleAlign","JSON","stringify","ready","fit","fitOnBestSide","useLargest","visibility","fits","measureFit","fitRatio","parentStart","parentLength","crossParentStart","crossParentLength","anchorStart","anchorLength","crossAnchorStart","crossAnchorLength","crossAnchorWidth","targetLength","crossTargetLength","targetStart","crossTargetStart","includes","showCount","triangleSize","tooltipRenderer","TooltipRenderer","latestFit","anchor","getDatumStyle","groupDatums","resolvedShowCount","activeIndex","findIndex","visibleSortedGroupDatums","hasPrevious","hasNext","finalAlign","arrowPosition","triangleStyles","backgroundColor","borderLeft","borderRight","borderTop","borderBottom","marginBottom","textAlign","groupingMode","seriesLabel","sortedDatum","active","datumSecondaryAxis","fontWeight","display","alignItems","justifyContent","defaultTooltip","alignPriority","arrowPadding","render","Tooltip","setTooltipEl","anchorRect","translateX","translateY","previousAnchor","latestStableAnchor","anchorStyle","tooltipRef","tooltipXSpring","tooltipYSpring","EPSILON","EDGE_STACK","Delaunator","points","defaultGetX","defaultGetY","coords","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","update","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","cx","cy","minDist","i2","dist","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","hull","triangles","halfedges","orient","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_legalize","pseudoAngle","ar","b0","al","bl","p0","pr","pl","p1","illegal","inCircle","hbl","_link","br","ax","ay","bx","by","orientIfSure","py","rx","ry","qx","qy","ex","ey","fx","fy","ap","bp","cp","cl","ids","dists","temp","tempDist","tmp","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","t2","t3","x3","y3","ab","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","_project","renderBounds","renderCell","_clip","cellPolygons","cell","cellPolygon","polygon","c0","_regioncode","_clipSegment","contains","_step","neighbors","ci","cj","loop","ai","li","aj","lj","_cell","e0","_clipInfinite","_clipFinite","P","e1","sx0","sy0","sx1","sy1","_edgecode","_edge","vx0","vy0","vxn","vyn","unshift","splice","vx","vy","collinear","cross","jitter","Delaunay","flatArray","flatIterable","_delaunator","_hullIndex","bounds","hypot","hullIndex","voronoi","dc","renderHull","renderPoints","hullPolygon","renderTriangle","trianglePolygons","trianglePolygon","isInteractingState","setFocusedDatum","isInteracting","onFocusDatum","onClickDatum","showVoronoi","interactionMode","handleFocus","needsVoronoi","PrimaryVoronoi","datumsByInteractionGroup","stackedVoronoi","useBarPx","preColumns","aAxis","bAxis","aPx","bPx","columns","all","primaryPx","primaryStart","primaryEnd","prevPx","nextPx","datumBoundaries","secondaryStart","secondaryEnd","prevAxis","prevValue","nextAxis","nextValue","onMouseLeave","column","datumBoundary","xEnd","yEnd","className","onMouseEnter","delaunayLineFn","SingleVoronoi","polygons","voronoiData","defaultColorScheme","defaultPadding","defaultChartOptions","initialWidth","initialHeight","getSeriesOrder","defaultColors","useIntersectionObserver","intersectionObserverRootMargin","Chart","rest","chartElement","setContainerElement","containerEl","parentElement","nearestScrollableParent","run","grandParent","scrollHeight","clientHeight","getComputedStyle","overflow","setDims","computed","styles","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","isIntersecting","setIsIntersecting","IntersectionObserver","entry","root","rootMargin","ChartInner","primaryAxisOptions","firstValue","getFirstDefinedValue","axisOptionsWithScaleType","secondaryAxesOptions","tooltipOptions","gridWidth","gridHeight","indicesByAxisId","originalSeries","originalDatums","seriesIndexPerAxis","datumIndex","datumsByTooltipGroup","allBarAndNotStacked","getInteractionPrimary","getInteractionKey","getTooltipKey","interactionKey","tooltipKey","sortDatumsBySecondaryPx","interactiveGroup","status","statusStyles","getSeriesStyle","orderedSeries","reversedSeries","contextValue","seriesByAxisId","getSeriesInfo","getMemoizedSeriesInfo","memoizeSeries","seriesEl","axisId","Component","Bar","brush","AxisLinear","renderSVG","firstDefinedValue","differingInverts"],"mappings":"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"}