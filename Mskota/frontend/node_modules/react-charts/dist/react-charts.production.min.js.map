{"version":3,"file":"react-charts.production.min.js","sources":["../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelperLoose.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/esm/extends.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-array/src/extent.js","../node_modules/d3-array/src/number.js","../node_modules/internmap/src/index.js","../node_modules/d3-array/src/identity.js","../node_modules/d3-array/src/group.js","../node_modules/d3-array/src/sort.js","../node_modules/d3-array/src/permute.js","../node_modules/d3-array/src/ticks.js","../node_modules/d3-array/src/max.js","../node_modules/d3-array/src/min.js","../node_modules/d3-array/src/quickselect.js","../node_modules/d3-array/src/quantile.js","../node_modules/d3-array/src/range.js","../node_modules/d3-array/src/sum.js","../src/hooks/useGetLatest.ts","../src/hooks/useIsomorphicLayoutEffect.ts","../src/utils/Utils.ts","../src/utils/chartContext.tsx","../src/seriesTypes/Bar.tsx","../node_modules/d3-path/src/path.js","../node_modules/d3-shape/src/constant.js","../node_modules/d3-shape/src/array.js","../node_modules/d3-shape/src/curve/linear.js","../node_modules/d3-shape/src/point.js","../node_modules/d3-shape/src/line.js","../node_modules/d3-shape/src/offset/none.js","../node_modules/d3-shape/src/order/none.js","../node_modules/d3-shape/src/stack.js","../src/utils/curveMonotone.ts","../src/seriesTypes/Line.tsx","../node_modules/d3-shape/src/area.js","../node_modules/d3-scale/src/init.js","../node_modules/d3-scale/src/ordinal.js","../node_modules/d3-scale/src/band.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/numberArray.js","../node_modules/d3-interpolate/src/array.js","../node_modules/d3-interpolate/src/date.js","../node_modules/d3-interpolate/src/number.js","../node_modules/d3-interpolate/src/object.js","../node_modules/d3-interpolate/src/string.js","../node_modules/d3-interpolate/src/value.js","../node_modules/d3-interpolate/src/round.js","../node_modules/d3-scale/src/number.js","../node_modules/d3-scale/src/continuous.js","../node_modules/d3-scale/src/constant.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/identity.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatNumerals.js","../node_modules/d3-format/src/formatTrim.js","../node_modules/d3-scale/src/tickFormat.js","../node_modules/d3-format/src/precisionPrefix.js","../node_modules/d3-format/src/precisionRound.js","../node_modules/d3-format/src/precisionFixed.js","../node_modules/d3-scale/src/linear.js","../node_modules/d3-scale/src/nice.js","../node_modules/d3-scale/src/log.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time/src/ticks.js","../node_modules/d3-scale/node_modules/d3-time-format/src/locale.js","../node_modules/d3-scale/node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-scale/src/time.js","../node_modules/d3-scale/src/utcTime.js","../node_modules/d3-time-format/node_modules/d3-time/src/interval.js","../node_modules/d3-time-format/node_modules/d3-time/src/duration.js","../node_modules/d3-time-format/node_modules/d3-time/src/day.js","../node_modules/d3-time-format/node_modules/d3-time/src/week.js","../node_modules/d3-time-format/node_modules/d3-time/src/year.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcDay.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time-format/node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../src/utils/buildAxis.linear.ts","../node_modules/d3-array/src/median.js","../src/components/AxisLinear.useMeasure.ts","../src/components/AxisLinear.tsx","../src/hooks/usePrevious.ts","../src/hooks/useLatestWhen.ts","../src/hooks/usePortalElement.ts","../src/hooks/useRect.ts","../node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","../node_modules/@babel/runtime/helpers/esm/construct.js","../src/utils/spring.ts","../src/hooks/useSpring.ts","../src/components/Cursors.tsx","../src/hooks/useAnchor.tsx","../src/components/TooltipRenderer.tsx","../src/components/Tooltip.tsx","../node_modules/delaunator/index.js","../node_modules/d3-delaunay/src/path.js","../node_modules/d3-delaunay/src/polygon.js","../node_modules/d3-delaunay/src/voronoi.js","../node_modules/d3-delaunay/src/delaunay.js","../src/components/Voronoi.tsx","../src/components/Chart.tsx"],"sourcesContent":["export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nexport default function _createForOfIteratorHelperLoose(o, allowArrayLike) {\n  var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"];\n  if (it) return (it = it.call(o)).next.bind(it);\n\n  if (Array.isArray(o) || (it = unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n    if (it) o = it;\n    var i = 0;\n    return function () {\n      if (i >= o.length) return {\n        done: true\n      };\n      return {\n        done: false,\n        value: o[i++]\n      };\n    };\n  }\n\n  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending.js\";\n\nexport default function(f) {\n  let delta = f;\n  let compare = f;\n\n  if (f.length === 1) {\n    delta = (d, x) => f(d) - x;\n    compare = ascendingComparator(f);\n  }\n\n  function left(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) < 0) lo = mid + 1;\n      else hi = mid;\n    }\n    return lo;\n  }\n\n  function right(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    while (lo < hi) {\n      const mid = (lo + hi) >>> 1;\n      if (compare(a[mid], x) > 0) hi = mid;\n      else lo = mid + 1;\n    }\n    return lo;\n  }\n\n  function center(a, x, lo, hi) {\n    if (lo == null) lo = 0;\n    if (hi == null) hi = a.length;\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction ascendingComparator(f) {\n  return (d, x) => ascending(f(d), x);\n}\n","import ascending from \"./ascending.js\";\nimport bisector from \"./bisector.js\";\nimport number from \"./number.js\";\n\nconst ascendingBisect = bisector(ascending);\nexport const bisectRight = ascendingBisect.right;\nexport const bisectLeft = ascendingBisect.left;\nexport const bisectCenter = bisector(number).center;\nexport default bisectRight;\n","export default function(values, valueof) {\n  let min;\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null) {\n        if (min === undefined) {\n          if (value >= value) min = max = value;\n        } else {\n          if (min > value) min = value;\n          if (max < value) max = value;\n        }\n      }\n    }\n  }\n  return [min, max];\n}\n","export default function(x) {\n  return x === null ? NaN : +x;\n}\n\nexport function* numbers(values, valueof) {\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null && (value = +value) >= value) {\n        yield value;\n      }\n    }\n  }\n}\n","export class InternMap extends Map {\n  constructor(entries, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (entries != null) for (const [key, value] of entries) this.set(key, value);\n  }\n  get(key) {\n    return super.get(intern_get(this, key));\n  }\n  has(key) {\n    return super.has(intern_get(this, key));\n  }\n  set(key, value) {\n    return super.set(intern_set(this, key), value);\n  }\n  delete(key) {\n    return super.delete(intern_delete(this, key));\n  }\n}\n\nexport class InternSet extends Set {\n  constructor(values, key = keyof) {\n    super();\n    Object.defineProperties(this, {_intern: {value: new Map()}, _key: {value: key}});\n    if (values != null) for (const value of values) this.add(value);\n  }\n  has(value) {\n    return super.has(intern_get(this, value));\n  }\n  add(value) {\n    return super.add(intern_set(this, value));\n  }\n  delete(value) {\n    return super.delete(intern_delete(this, value));\n  }\n}\n\nfunction intern_get({_intern, _key}, value) {\n  const key = _key(value);\n  return _intern.has(key) ? _intern.get(key) : value;\n}\n\nfunction intern_set({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) return _intern.get(key);\n  _intern.set(key, value);\n  return value;\n}\n\nfunction intern_delete({_intern, _key}, value) {\n  const key = _key(value);\n  if (_intern.has(key)) {\n    value = _intern.get(value);\n    _intern.delete(key);\n  }\n  return value;\n}\n\nfunction keyof(value) {\n  return value !== null && typeof value === \"object\" ? value.valueOf() : value;\n}\n","export default function(x) {\n  return x;\n}\n","import {InternMap} from \"internmap\";\nimport identity from \"./identity.js\";\n\nexport default function group(values, ...keys) {\n  return nest(values, identity, identity, keys);\n}\n\nexport function groups(values, ...keys) {\n  return nest(values, Array.from, identity, keys);\n}\n\nexport function rollup(values, reduce, ...keys) {\n  return nest(values, identity, reduce, keys);\n}\n\nexport function rollups(values, reduce, ...keys) {\n  return nest(values, Array.from, reduce, keys);\n}\n\nexport function index(values, ...keys) {\n  return nest(values, identity, unique, keys);\n}\n\nexport function indexes(values, ...keys) {\n  return nest(values, Array.from, unique, keys);\n}\n\nfunction unique(values) {\n  if (values.length !== 1) throw new Error(\"duplicate key\");\n  return values[0];\n}\n\nfunction nest(values, map, reduce, keys) {\n  return (function regroup(values, i) {\n    if (i >= keys.length) return reduce(values);\n    const groups = new InternMap();\n    const keyof = keys[i++];\n    let index = -1;\n    for (const value of values) {\n      const key = keyof(value, ++index, values);\n      const group = groups.get(key);\n      if (group) group.push(value);\n      else groups.set(key, [value]);\n    }\n    for (const [key, values] of groups) {\n      groups.set(key, regroup(values, i));\n    }\n    return map(groups);\n  })(values, 0);\n}\n","import ascending from \"./ascending.js\";\nimport permute from \"./permute.js\";\n\nexport default function sort(values, ...F) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  values = Array.from(values);\n  let [f = ascending] = F;\n  if (f.length === 1 || F.length > 1) {\n    const index = Uint32Array.from(values, (d, i) => i);\n    if (F.length > 1) {\n      F = F.map(f => values.map(f));\n      index.sort((i, j) => {\n        for (const f of F) {\n          const c = ascending(f[i], f[j]);\n          if (c) return c;\n        }\n      });\n    } else {\n      f = values.map(f);\n      index.sort((i, j) => ascending(f[i], f[j]));\n    }\n    return permute(values, index);\n  }\n  return values.sort(f);\n}\n","export default function(source, keys) {\n  return Array.from(keys, key => source[key]);\n}\n","var e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nexport default function(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nexport function tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nexport function tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n","export default function max(values, valueof) {\n  let max;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (max < value || (max === undefined && value >= value))) {\n        max = value;\n      }\n    }\n  }\n  return max;\n}\n","export default function min(values, valueof) {\n  let min;\n  if (valueof === undefined) {\n    for (const value of values) {\n      if (value != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if ((value = valueof(value, ++index, values)) != null\n          && (min > value || (min === undefined && value >= value))) {\n        min = value;\n      }\n    }\n  }\n  return min;\n}\n","import ascending from \"./ascending.js\";\n\n// Based on https://github.com/mourner/quickselect\n// ISC license, Copyright 2018 Vladimir Agafonkin.\nexport default function quickselect(array, k, left = 0, right = array.length - 1, compare = ascending) {\n  while (right > left) {\n    if (right - left > 600) {\n      const n = right - left + 1;\n      const m = k - left + 1;\n      const z = Math.log(n);\n      const s = 0.5 * Math.exp(2 * z / 3);\n      const sd = 0.5 * Math.sqrt(z * s * (n - s) / n) * (m - n / 2 < 0 ? -1 : 1);\n      const newLeft = Math.max(left, Math.floor(k - m * s / n + sd));\n      const newRight = Math.min(right, Math.floor(k + (n - m) * s / n + sd));\n      quickselect(array, k, newLeft, newRight, compare);\n    }\n\n    const t = array[k];\n    let i = left;\n    let j = right;\n\n    swap(array, left, k);\n    if (compare(array[right], t) > 0) swap(array, left, right);\n\n    while (i < j) {\n      swap(array, i, j), ++i, --j;\n      while (compare(array[i], t) < 0) ++i;\n      while (compare(array[j], t) > 0) --j;\n    }\n\n    if (compare(array[left], t) === 0) swap(array, left, j);\n    else ++j, swap(array, j, right);\n\n    if (j <= k) left = j + 1;\n    if (k <= j) right = j - 1;\n  }\n  return array;\n}\n\nfunction swap(array, i, j) {\n  const t = array[i];\n  array[i] = array[j];\n  array[j] = t;\n}\n","import max from \"./max.js\";\nimport min from \"./min.js\";\nimport quickselect from \"./quickselect.js\";\nimport number, {numbers} from \"./number.js\";\n\nexport default function quantile(values, p, valueof) {\n  values = Float64Array.from(numbers(values, valueof));\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return min(values);\n  if (p >= 1) return max(values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = max(quickselect(values, i0).subarray(0, i0 + 1)),\n      value1 = min(values.subarray(i0 + 1));\n  return value0 + (value1 - value0) * (i - i0);\n}\n\nexport function quantileSorted(values, p, valueof = number) {\n  if (!(n = values.length)) return;\n  if ((p = +p) <= 0 || n < 2) return +valueof(values[0], 0, values);\n  if (p >= 1) return +valueof(values[n - 1], n - 1, values);\n  var n,\n      i = (n - 1) * p,\n      i0 = Math.floor(i),\n      value0 = +valueof(values[i0], i0, values),\n      value1 = +valueof(values[i0 + 1], i0 + 1, values);\n  return value0 + (value1 - value0) * (i - i0);\n}\n","export default function(start, stop, step) {\n  start = +start, stop = +stop, step = (n = arguments.length) < 2 ? (stop = start, start = 0, 1) : n < 3 ? 1 : +step;\n\n  var i = -1,\n      n = Math.max(0, Math.ceil((stop - start) / step)) | 0,\n      range = new Array(n);\n\n  while (++i < n) {\n    range[i] = start + i * step;\n  }\n\n  return range;\n}\n","export default function sum(values, valueof) {\n  let sum = 0;\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        sum += value;\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        sum += value;\n      }\n    }\n  }\n  return sum;\n}\n","import React from 'react'\n\nexport default function useGetLatest<T>(obj: T) {\n  const ref = React.useRef<T>(obj)\n  const getterRef = React.useRef<() => T>()\n\n  ref.current = obj\n  if (!getterRef.current) {\n    getterRef.current = () => ref.current\n  }\n\n  return getterRef.current\n}\n","import React from 'react'\n\nexport default typeof window !== 'undefined'\n  ? React.useLayoutEffect\n  : React.useEffect\n","import {\n  Datum,\n  DatumFocusStatus,\n  DatumStyles,\n  Series,\n  SeriesFocusStatus,\n  SeriesStyles,\n} from '../types'\n\nexport function getSeriesStatus<TDatum>(\n  series: Series<TDatum>,\n  focusedDatum: Datum<TDatum> | null\n): SeriesFocusStatus {\n  if (focusedDatum?.seriesId === series.id) {\n    return 'focused'\n  }\n\n  return 'none'\n}\n\nexport function getDatumStatus<TDatum>(\n  datum: Datum<TDatum>,\n  focusedDatum: Datum<TDatum> | null\n): DatumFocusStatus {\n  if (datum === focusedDatum) {\n    return 'focused'\n  }\n\n  if (\n    datum.tooltipGroup?.some(groupDatum => {\n      groupDatum.seriesId === focusedDatum?.seriesId &&\n        groupDatum.index === focusedDatum?.index\n    })\n  ) {\n    return 'groupFocused'\n  }\n\n  return 'none'\n}\n\nconst elementTypes = ['area', 'line', 'rectangle', 'circle'] as const\n\nexport function materializeStyles(\n  style: SeriesStyles | DatumStyles = {},\n  defaults: SeriesStyles | DatumStyles = {}\n) {\n  style = normalizeColor(style, defaults)\n  for (let i = 0; i < elementTypes.length; i++) {\n    const type = elementTypes[i]\n    if (style[type] && defaults[type]) {\n      style[type] = materializeStyles(style[type], defaults)\n    }\n  }\n  return style\n}\n\nexport function translate(x: number, y: number) {\n  return `translate3d(${Math.round(x)}px, ${Math.round(y)}px, 0)`\n}\n\n//\n\nfunction normalizeColor(\n  style: SeriesStyles | DatumStyles,\n  defaults: SeriesStyles | DatumStyles\n): SeriesStyles | DatumStyles {\n  return {\n    ...style,\n    stroke: style.stroke || style.color || defaults.stroke || defaults.color,\n    fill: style.fill || style.color || defaults.fill || defaults.color,\n  }\n}\n\nexport function isDefined(num: number) {\n  return typeof num === 'number' && !Number.isNaN(num)\n}\n","import * as React from 'react'\n\nimport { ChartContextValue } from '../types'\n\nconst chartContext = React.createContext<any>(null!)\n\nexport function ChartContextProvider<TDatum>({\n  value,\n  children,\n}: {\n  value: () => ChartContextValue<TDatum>\n  children: React.ReactNode\n}) {\n  return <chartContext.Provider value={value} children={children} />\n}\n\nexport default function useChartContext<TDatum>() {\n  return React.useContext(chartContext)() as ChartContextValue<TDatum>\n}\n","import React from 'react'\n\nimport { Axis, AxisBand, Datum, Series } from '../types'\nimport { translate } from '../utils/Utils'\nimport useChartContext from '../utils/chartContext'\n\n//\n\nexport default function BarComponent<TDatum>({\n  primaryAxis,\n  secondaryAxis,\n  series: allSeries,\n}: {\n  primaryAxis: Axis<TDatum>\n  secondaryAxis: Axis<TDatum>\n  series: Series<TDatum>[]\n}) {\n  const {\n    getSeriesStatusStyle,\n    getDatumStatusStyle,\n    focusedDatumState,\n    gridDimensions,\n  } = useChartContext<TDatum>()\n\n  const [focusedDatum] = focusedDatumState\n\n  const xAxis = primaryAxis.isVertical ? secondaryAxis : primaryAxis\n  const yAxis = primaryAxis.isVertical ? primaryAxis : secondaryAxis\n\n  return (\n    <g\n      style={{\n        transform: translate(gridDimensions.left, gridDimensions.top),\n      }}\n    >\n      {allSeries.map((series, i) => {\n        const style = getSeriesStatusStyle(series, focusedDatum)\n\n        return (\n          <g key={`lines-${i}`}>\n            {series.datums.map((datum, i) => {\n              const dataStyle = getDatumStatusStyle(datum, focusedDatum)\n\n              const [x, width] = clampPxToAxis(\n                getRectX(datum, primaryAxis, secondaryAxis) ?? NaN,\n                getWidth(datum, primaryAxis, secondaryAxis) ?? NaN,\n                xAxis\n              )\n              const [y, height] = clampPxToAxis(\n                getRectY(datum, primaryAxis, secondaryAxis) ?? NaN,\n                getHeight(datum, primaryAxis, secondaryAxis) ?? NaN,\n                yAxis\n              )\n\n              return (\n                <rect\n                  {...{\n                    ref: el => {\n                      datum.element = el\n                    },\n                    key: i,\n                    x,\n                    y,\n                    width,\n                    height,\n                    style: {\n                      strokeWidth: 0,\n                      ...style,\n                      ...style.rectangle,\n                      ...dataStyle,\n                      ...dataStyle.rectangle,\n                    },\n                  }}\n                />\n              )\n            })}\n          </g>\n        )\n      })}\n    </g>\n  )\n}\n\nfunction getWidth<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getSecondaryLength(datum, secondaryAxis)\n    : getPrimaryLength(datum, primaryAxis, secondaryAxis)\n}\n\nfunction getHeight<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getPrimaryLength(datum, primaryAxis, secondaryAxis)\n    : getSecondaryLength(datum, secondaryAxis)\n}\n\nexport function getPrimaryGroupLength<TDatum>(\n  _datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>\n) {\n  return Math.max(primaryAxis.primaryBandScale!.bandwidth(), 1)\n}\n\nexport function getPrimaryLength<TDatum>(\n  _datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n) {\n  if (primaryAxis.axisFamily === 'band') {\n    const bandWidth = secondaryAxis.stacked\n      ? primaryAxis.scale.bandwidth()\n      : primaryAxis.seriesBandScale.bandwidth()\n\n    return Math.min(\n      Math.max(bandWidth, primaryAxis.minBandSize ?? 1),\n      primaryAxis.maxBandSize ?? 99999999\n    )\n  }\n\n  return Math.max(\n    secondaryAxis.stacked\n      ? primaryAxis.primaryBandScale!.bandwidth()\n      : primaryAxis.seriesBandScale!.bandwidth(),\n    1\n  )\n}\n\nfunction getSecondaryLength<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  const secondary = [\n    getSecondaryStart(datum, secondaryAxis),\n    getSecondary(datum, secondaryAxis),\n  ]\n\n  return Math.abs(secondary[1] - secondary[0])\n}\n\nfunction getRectX<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getSecondaryStart(datum, secondaryAxis)\n    : getPrimary(datum, primaryAxis, secondaryAxis)\n}\n\nfunction getRectY<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getPrimary(datum, primaryAxis, secondaryAxis)\n    : getSecondary(datum, secondaryAxis)\n}\n\nexport function getPrimary<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  let primary = primaryAxis.scale(datum.primaryValue) ?? NaN\n\n  if (primaryAxis.axisFamily !== 'band') {\n    primary -= getPrimaryGroupLength(datum, primaryAxis) / 2\n  }\n\n  if (!secondaryAxis.stacked) {\n    primary =\n      primary +\n      ((primaryAxis as AxisBand<any>).seriesBandScale(datum.seriesIndex) ?? NaN)\n  }\n\n  return primary\n}\n\nfunction getSecondaryStart<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[0] ?? NaN) ?? NaN\n  }\n\n  return (\n    secondaryAxis.scale(datum.secondaryValue < 0 ? datum.secondaryValue : 0) ??\n    NaN\n  )\n}\n\nfunction getSecondary<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[1] ?? NaN) ?? NaN\n  }\n\n  return (\n    secondaryAxis.scale(datum.secondaryValue < 0 ? 0 : datum.secondaryValue) ??\n    NaN\n  )\n}\n\nfunction clampPxToAxis<TDatum>(\n  startPx: number,\n  lengthPx: number,\n  axis: Axis<TDatum>\n) {\n  const range = axis.scale.range()\n\n  if (axis.isVertical) {\n    range.reverse()\n  }\n\n  const safe = (num: number) => Math.max(range[0], Math.min(num, range[1]))\n\n  const safeStart = safe(startPx)\n  const safeEnd = safe(startPx + lengthPx)\n  const safeLength = safeEnd - safeStart\n\n  return [safeStart, safeLength] as const\n}\n","const pi = Math.PI,\n    tau = 2 * pi,\n    epsilon = 1e-6,\n    tauEpsilon = tau - epsilon;\n\nfunction Path() {\n  this._x0 = this._y0 = // start of current subpath\n  this._x1 = this._y1 = null; // end of current subpath\n  this._ = \"\";\n}\n\nfunction path() {\n  return new Path;\n}\n\nPath.prototype = path.prototype = {\n  constructor: Path,\n  moveTo: function(x, y) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y);\n  },\n  closePath: function() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  },\n  lineTo: function(x, y) {\n    this._ += \"L\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  quadraticCurveTo: function(x1, y1, x, y) {\n    this._ += \"Q\" + (+x1) + \",\" + (+y1) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) {\n    this._ += \"C\" + (+x1) + \",\" + (+y1) + \",\" + (+x2) + \",\" + (+y2) + \",\" + (this._x1 = +x) + \",\" + (this._y1 = +y);\n  },\n  arcTo: function(x1, y1, x2, y2, r) {\n    x1 = +x1, y1 = +y1, x2 = +x2, y2 = +y2, r = +r;\n    var x0 = this._x1,\n        y0 = this._y1,\n        x21 = x2 - x1,\n        y21 = y2 - y1,\n        x01 = x0 - x1,\n        y01 = y0 - y1,\n        l01_2 = x01 * x01 + y01 * y01;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x1,y1).\n    if (this._x1 === null) {\n      this._ += \"M\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Or, is (x1,y1) coincident with (x0,y0)? Do nothing.\n    else if (!(l01_2 > epsilon));\n\n    // Or, are (x0,y0), (x1,y1) and (x2,y2) collinear?\n    // Equivalently, is (x1,y1) coincident with (x2,y2)?\n    // Or, is the radius zero? Line to (x1,y1).\n    else if (!(Math.abs(y01 * x21 - y21 * x01) > epsilon) || !r) {\n      this._ += \"L\" + (this._x1 = x1) + \",\" + (this._y1 = y1);\n    }\n\n    // Otherwise, draw an arc!\n    else {\n      var x20 = x2 - x0,\n          y20 = y2 - y0,\n          l21_2 = x21 * x21 + y21 * y21,\n          l20_2 = x20 * x20 + y20 * y20,\n          l21 = Math.sqrt(l21_2),\n          l01 = Math.sqrt(l01_2),\n          l = r * Math.tan((pi - Math.acos((l21_2 + l01_2 - l20_2) / (2 * l21 * l01))) / 2),\n          t01 = l / l01,\n          t21 = l / l21;\n\n      // If the start tangent is not coincident with (x0,y0), line to.\n      if (Math.abs(t01 - 1) > epsilon) {\n        this._ += \"L\" + (x1 + t01 * x01) + \",\" + (y1 + t01 * y01);\n      }\n\n      this._ += \"A\" + r + \",\" + r + \",0,0,\" + (+(y01 * x20 > x01 * y20)) + \",\" + (this._x1 = x1 + t21 * x21) + \",\" + (this._y1 = y1 + t21 * y21);\n    }\n  },\n  arc: function(x, y, r, a0, a1, ccw) {\n    x = +x, y = +y, r = +r, ccw = !!ccw;\n    var dx = r * Math.cos(a0),\n        dy = r * Math.sin(a0),\n        x0 = x + dx,\n        y0 = y + dy,\n        cw = 1 ^ ccw,\n        da = ccw ? a0 - a1 : a1 - a0;\n\n    // Is the radius negative? Error.\n    if (r < 0) throw new Error(\"negative radius: \" + r);\n\n    // Is this path empty? Move to (x0,y0).\n    if (this._x1 === null) {\n      this._ += \"M\" + x0 + \",\" + y0;\n    }\n\n    // Or, is (x0,y0) not coincident with the previous point? Line to (x0,y0).\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) {\n      this._ += \"L\" + x0 + \",\" + y0;\n    }\n\n    // Is this arc empty? We’re done.\n    if (!r) return;\n\n    // Does the angle go the wrong way? Flip the direction.\n    if (da < 0) da = da % tau + tau;\n\n    // Is this a complete circle? Draw two arcs to complete the circle.\n    if (da > tauEpsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (x - dx) + \",\" + (y - dy) + \"A\" + r + \",\" + r + \",0,1,\" + cw + \",\" + (this._x1 = x0) + \",\" + (this._y1 = y0);\n    }\n\n    // Is this arc non-empty? Draw an arc!\n    else if (da > epsilon) {\n      this._ += \"A\" + r + \",\" + r + \",0,\" + (+(da >= pi)) + \",\" + cw + \",\" + (this._x1 = x + r * Math.cos(a1)) + \",\" + (this._y1 = y + r * Math.sin(a1));\n    }\n  },\n  rect: function(x, y, w, h) {\n    this._ += \"M\" + (this._x0 = this._x1 = +x) + \",\" + (this._y0 = this._y1 = +y) + \"h\" + (+w) + \"v\" + (+h) + \"h\" + (-w) + \"Z\";\n  },\n  toString: function() {\n    return this._;\n  }\n};\n\nexport default path;\n","export default function(x) {\n  return function constant() {\n    return x;\n  };\n}\n","export var slice = Array.prototype.slice;\n\nexport default function(x) {\n  return typeof x === \"object\" && \"length\" in x\n    ? x // Array, TypedArray, NodeList, array-like\n    : Array.from(x); // Map, Set, iterable, string, or anything else\n}\n","function Linear(context) {\n  this._context = context;\n}\n\nLinear.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; // proceed\n      default: this._context.lineTo(x, y); break;\n    }\n  }\n};\n\nexport default function(context) {\n  return new Linear(context);\n}\n","export function x(p) {\n  return p[0];\n}\n\nexport function y(p) {\n  return p[1];\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x, y) {\n  var defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x = typeof x === \"function\" ? x : (x === undefined) ? pointX : constant(x);\n  y = typeof y === \"function\" ? y : (y === undefined) ? pointY : constant(y);\n\n  function line(data) {\n    var i,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer;\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) output.lineStart();\n        else output.lineEnd();\n      }\n      if (defined0) output.point(+x(d, i, data), +y(d, i, data));\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  line.x = function(_) {\n    return arguments.length ? (x = typeof _ === \"function\" ? _ : constant(+_), line) : x;\n  };\n\n  line.y = function(_) {\n    return arguments.length ? (y = typeof _ === \"function\" ? _ : constant(+_), line) : y;\n  };\n\n  line.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), line) : defined;\n  };\n\n  line.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), line) : curve;\n  };\n\n  line.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), line) : context;\n  };\n\n  return line;\n}\n","export default function(series, order) {\n  if (!((n = series.length) > 1)) return;\n  for (var i = 1, j, s0, s1 = series[order[0]], n, m = s1.length; i < n; ++i) {\n    s0 = s1, s1 = series[order[i]];\n    for (j = 0; j < m; ++j) {\n      s1[j][1] += s1[j][0] = isNaN(s0[j][1]) ? s0[j][0] : s0[j][1];\n    }\n  }\n}\n","export default function(series) {\n  var n = series.length, o = new Array(n);\n  while (--n >= 0) o[n] = n;\n  return o;\n}\n","import array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport offsetNone from \"./offset/none.js\";\nimport orderNone from \"./order/none.js\";\n\nfunction stackValue(d, key) {\n  return d[key];\n}\n\nfunction stackSeries(key) {\n  const series = [];\n  series.key = key;\n  return series;\n}\n\nexport default function() {\n  var keys = constant([]),\n      order = orderNone,\n      offset = offsetNone,\n      value = stackValue;\n\n  function stack(data) {\n    var sz = Array.from(keys.apply(this, arguments), stackSeries),\n        i, n = sz.length, j = -1,\n        oz;\n\n    for (const d of data) {\n      for (i = 0, ++j; i < n; ++i) {\n        (sz[i][j] = [0, +value(d, sz[i].key, j, data)]).data = d;\n      }\n    }\n\n    for (i = 0, oz = array(order(sz)); i < n; ++i) {\n      sz[oz[i]].index = i;\n    }\n\n    offset(sz, oz);\n    return sz;\n  }\n\n  stack.keys = function(_) {\n    return arguments.length ? (keys = typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : keys;\n  };\n\n  stack.value = function(_) {\n    return arguments.length ? (value = typeof _ === \"function\" ? _ : constant(+_), stack) : value;\n  };\n\n  stack.order = function(_) {\n    return arguments.length ? (order = _ == null ? orderNone : typeof _ === \"function\" ? _ : constant(Array.from(_)), stack) : order;\n  };\n\n  stack.offset = function(_) {\n    return arguments.length ? (offset = _ == null ? offsetNone : _, stack) : offset;\n  };\n\n  return stack;\n}\n","// @ts-nocheck\nimport { CurveFactory } from 'd3-shape'\n\nfunction sign(x) {\n  return x < 0 ? -1 : 1\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n    h1 = x2 - that._x1,\n    s0 = (that._y1 - that._y0) / (h0 || (h1 < 0 && -0)),\n    s1 = (y2 - that._y1) / (h1 || (h0 < 0 && -0)),\n    p = (s0 * h1 + s1 * h0) / (h0 + h1)\n  return (\n    (sign(s0) + sign(s1)) *\n      Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0\n  )\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0\n  return h ? ((3 * (that._y1 - that._y0)) / h - t) / 2 : t\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bézier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n    y0 = that._y0,\n    x1 = that._x1,\n    y1 = that._y1,\n    dx = (x1 - x0) / 3\n  that._context.bezierCurveTo(\n    x0 + dx,\n    y0 + dx * t0,\n    x1 - dx,\n    y1 - dx * t1,\n    x1,\n    y1\n  )\n}\n\nfunction MonotoneX(context) {\n  this._context = context\n}\n\nMonotoneX.prototype = {\n  areaStart: function () {\n    this._line = 0\n  },\n  areaEnd: function () {\n    this._line = NaN\n  },\n  lineStart: function () {\n    this._x0 = this._x1 = this._y0 = this._y1 = this._t0 = NaN\n    this._point = 0\n  },\n  lineEnd: function () {\n    switch (this._point) {\n      case 2:\n        this._context.lineTo(this._x1, this._y1)\n        break\n      case 3:\n        point(this, this._t0, slope2(this, this._t0))\n        break\n    }\n    if (this._line || (this._line !== 0 && this._point === 1))\n      this._context.closePath()\n    this._line = 1 - this._line\n  },\n  point: function (x, y) {\n    var t1 = NaN\n\n    ;(x = +x), (y = +y)\n    if (x === this._x1 && y === this._y1) return // Ignore coincident points.\n    switch (this._point) {\n      case 0:\n        this._point = 1\n        this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y)\n        break\n      case 1:\n        this._point = 2\n        break\n      case 2:\n        this._point = 3\n        point(this, slope2(this, (t1 = slope3(this, x, y))), t1)\n        break\n      default:\n        point(this, this._t0, (t1 = slope3(this, x, y)))\n        break\n    }\n\n    ;(this._x0 = this._x1), (this._x1 = x)\n    ;(this._y0 = this._y1), (this._y1 = y)\n    this._t0 = t1\n  },\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context)\n}\n\n;(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function (\n  x,\n  y\n) {\n  MonotoneX.prototype.point.call(this, y, x)\n}\n\nfunction ReflectContext(context) {\n  this._context = context\n}\n\nReflectContext.prototype = {\n  moveTo: function (x, y) {\n    this._context.moveTo(y, x)\n  },\n  closePath: function () {\n    this._context.closePath()\n  },\n  lineTo: function (x, y) {\n    this._context.lineTo(y, x)\n  },\n  bezierCurveTo: function (x1, y1, x2, y2, x, y) {\n    this._context.bezierCurveTo(y1, x1, y2, x2, y, x)\n  },\n}\n\nexport const monotoneX: CurveFactory = context => new MonotoneX(context)\n\nexport const monotoneY: CurveFactory = context => new MonotoneY(context)\n","import { area, line } from 'd3-shape'\nimport React from 'react'\n\nimport { Axis, Series, Datum } from '../types'\nimport { isDefined, translate } from '../utils/Utils'\nimport useChartContext from '../utils/chartContext'\n//\nimport { monotoneX } from '../utils/curveMonotone'\n\nexport default function Line<TDatum>({\n  primaryAxis,\n  secondaryAxis,\n  series: allSeries,\n}: {\n  primaryAxis: Axis<TDatum>\n  secondaryAxis: Axis<TDatum>\n  series: Series<TDatum>[]\n}) {\n  const {\n    getSeriesStatusStyle,\n    getDatumStatusStyle,\n    focusedDatumState,\n    gridDimensions,\n  } = useChartContext<TDatum>()\n\n  const curve = secondaryAxis.curve ?? monotoneX\n\n  const [focusedDatum] = focusedDatumState\n\n  return (\n    <g\n      style={{\n        transform: translate(gridDimensions.left, gridDimensions.top),\n      }}\n    >\n      {allSeries.map((series, i) => {\n        const style = getSeriesStatusStyle(series, focusedDatum)\n\n        let areaPath: null | string = null\n\n        if (secondaryAxis.elementType === 'area') {\n          const _x = (datum: Datum<TDatum>) => getPrimary(datum, primaryAxis)\n          const _y1 = (datum: Datum<TDatum>) =>\n            clampPxToAxis(\n              getSecondaryStart(datum, secondaryAxis),\n              secondaryAxis\n            )\n          const _y2 = (datum: Datum<TDatum>) =>\n            clampPxToAxis(getSecondary(datum, secondaryAxis), secondaryAxis)\n          const areaFn = area<Datum<TDatum>>(_x, _y1, _y2).curve(curve)\n\n          areaFn.defined(datum =>\n            [_x(datum), _y1(datum), _y2(datum)].every(isDefined)\n          )\n\n          areaPath = areaFn(series.datums)\n        }\n\n        const _x = (datum: Datum<TDatum>) => getPrimary(datum, primaryAxis)\n        const _y = (datum: Datum<TDatum>) => getSecondary(datum, secondaryAxis)\n        const lineFn = line<Datum<TDatum>>(_x, _y).curve(curve)\n        lineFn.defined(datum => [_x(datum), _y(datum)].every(isDefined))\n\n        const linePath =\n          secondaryAxis.elementType === 'area' ||\n          secondaryAxis.elementType === 'line'\n            ? lineFn(series.datums) ?? undefined\n            : undefined\n\n        const showDatumElements =\n          secondaryAxis.showDatumElements ??\n          (secondaryAxis.elementType === 'bubble' || 'onFocus')\n\n        return (\n          <g key={`lines-${i}`}>\n            {areaPath ? (\n              <path\n                d={areaPath}\n                style={{\n                  strokeWidth: 2,\n                  opacity: 0.5,\n                  ...style,\n                  ...style.area,\n                }}\n              />\n            ) : null}\n            {linePath ? (\n              <path\n                d={linePath}\n                style={{\n                  strokeWidth: 2,\n                  ...style,\n                  ...style.line,\n                  fill: 'none',\n                }}\n              />\n            ) : null}\n            {series.datums.map((datum, i) => {\n              const dataStyle = getDatumStatusStyle(datum, focusedDatum)\n\n              const radius =\n                showDatumElements === 'onFocus'\n                  ? datum === focusedDatum\n                    ? 4\n                    : 0\n                  : 2\n\n              const show =\n                showDatumElements === 'onFocus'\n                  ? datum === focusedDatum\n                  : secondaryAxis.showDatumElements ??\n                    secondaryAxis.elementType === 'bubble'\n\n              return (\n                <circle\n                  key={i}\n                  ref={el => {\n                    datum.element = el\n                  }}\n                  cx={getX(datum, primaryAxis, secondaryAxis) || 0}\n                  cy={getY(datum, primaryAxis, secondaryAxis) || 0}\n                  style={{\n                    // @ts-ignore\n                    r: radius,\n                    transition: 'all .3s ease-out',\n                    ...style,\n                    ...style.circle,\n                    ...dataStyle,\n                    ...dataStyle.circle,\n                    ...(!show ? { opacity: 0 } : {}),\n                  }}\n                />\n              )\n            })}\n          </g>\n        )\n      })}\n    </g>\n  )\n}\n\nfunction getX<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getSecondary(datum, secondaryAxis)\n    : getPrimary(datum, primaryAxis)\n}\n\nfunction getY<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  return primaryAxis.isVertical\n    ? getPrimary(datum, primaryAxis)\n    : getSecondary(datum, secondaryAxis)\n}\n\nfunction getPrimary<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>\n): number {\n  let primary = primaryAxis.scale(datum.primaryValue) ?? NaN\n\n  if (primaryAxis.axisFamily === 'band') {\n    primary += primaryAxis.scale.bandwidth() / 2\n  }\n\n  return primary\n}\n\nfunction getSecondary<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[1] ?? NaN) ?? NaN\n  }\n\n  return secondaryAxis.scale(datum.secondaryValue) ?? NaN\n}\n\nfunction getSecondaryStart<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[0] ?? NaN) ?? NaN\n  }\n\n  return secondaryAxis.scale(0) ?? NaN\n}\n\nfunction clampPxToAxis<TDatum>(px: number, axis: Axis<TDatum>) {\n  const range = axis.scale.range()\n  if (axis.isVertical) {\n    range.reverse()\n  }\n\n  return Math.max(range[0], Math.min(px, range[1]))\n}\n","import {path} from \"d3-path\";\nimport array from \"./array.js\";\nimport constant from \"./constant.js\";\nimport curveLinear from \"./curve/linear.js\";\nimport line from \"./line.js\";\nimport {x as pointX, y as pointY} from \"./point.js\";\n\nexport default function(x0, y0, y1) {\n  var x1 = null,\n      defined = constant(true),\n      context = null,\n      curve = curveLinear,\n      output = null;\n\n  x0 = typeof x0 === \"function\" ? x0 : (x0 === undefined) ? pointX : constant(+x0);\n  y0 = typeof y0 === \"function\" ? y0 : (y0 === undefined) ? constant(0) : constant(+y0);\n  y1 = typeof y1 === \"function\" ? y1 : (y1 === undefined) ? pointY : constant(+y1);\n\n  function area(data) {\n    var i,\n        j,\n        k,\n        n = (data = array(data)).length,\n        d,\n        defined0 = false,\n        buffer,\n        x0z = new Array(n),\n        y0z = new Array(n);\n\n    if (context == null) output = curve(buffer = path());\n\n    for (i = 0; i <= n; ++i) {\n      if (!(i < n && defined(d = data[i], i, data)) === defined0) {\n        if (defined0 = !defined0) {\n          j = i;\n          output.areaStart();\n          output.lineStart();\n        } else {\n          output.lineEnd();\n          output.lineStart();\n          for (k = i - 1; k >= j; --k) {\n            output.point(x0z[k], y0z[k]);\n          }\n          output.lineEnd();\n          output.areaEnd();\n        }\n      }\n      if (defined0) {\n        x0z[i] = +x0(d, i, data), y0z[i] = +y0(d, i, data);\n        output.point(x1 ? +x1(d, i, data) : x0z[i], y1 ? +y1(d, i, data) : y0z[i]);\n      }\n    }\n\n    if (buffer) return output = null, buffer + \"\" || null;\n  }\n\n  function arealine() {\n    return line().defined(defined).curve(curve).context(context);\n  }\n\n  area.x = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), x1 = null, area) : x0;\n  };\n\n  area.x0 = function(_) {\n    return arguments.length ? (x0 = typeof _ === \"function\" ? _ : constant(+_), area) : x0;\n  };\n\n  area.x1 = function(_) {\n    return arguments.length ? (x1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : x1;\n  };\n\n  area.y = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), y1 = null, area) : y0;\n  };\n\n  area.y0 = function(_) {\n    return arguments.length ? (y0 = typeof _ === \"function\" ? _ : constant(+_), area) : y0;\n  };\n\n  area.y1 = function(_) {\n    return arguments.length ? (y1 = _ == null ? null : typeof _ === \"function\" ? _ : constant(+_), area) : y1;\n  };\n\n  area.lineX0 =\n  area.lineY0 = function() {\n    return arealine().x(x0).y(y0);\n  };\n\n  area.lineY1 = function() {\n    return arealine().x(x0).y(y1);\n  };\n\n  area.lineX1 = function() {\n    return arealine().x(x1).y(y0);\n  };\n\n  area.defined = function(_) {\n    return arguments.length ? (defined = typeof _ === \"function\" ? _ : constant(!!_), area) : defined;\n  };\n\n  area.curve = function(_) {\n    return arguments.length ? (curve = _, context != null && (output = curve(context)), area) : curve;\n  };\n\n  area.context = function(_) {\n    return arguments.length ? (_ == null ? context = output = null : output = curve(context = _), area) : context;\n  };\n\n  return area;\n}\n","export function initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nexport function initInterpolator(domain, interpolator) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: {\n      if (typeof domain === \"function\") this.interpolator(domain);\n      else this.range(domain);\n      break;\n    }\n    default: {\n      this.domain(domain);\n      if (typeof interpolator === \"function\") this.interpolator(interpolator);\n      else this.range(interpolator);\n      break;\n    }\n  }\n  return this;\n}\n","import {initRange} from \"./init.js\";\n\nexport const implicit = Symbol(\"implicit\");\n\nexport default function ordinal() {\n  var index = new Map(),\n      domain = [],\n      range = [],\n      unknown = implicit;\n\n  function scale(d) {\n    var key = d + \"\", i = index.get(key);\n    if (!i) {\n      if (unknown !== implicit) return unknown;\n      index.set(key, i = domain.push(d));\n    }\n    return range[(i - 1) % range.length];\n  }\n\n  scale.domain = function(_) {\n    if (!arguments.length) return domain.slice();\n    domain = [], index = new Map();\n    for (const value of _) {\n      const key = value + \"\";\n      if (index.has(key)) continue;\n      index.set(key, domain.push(value));\n    }\n    return scale;\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), scale) : range.slice();\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  scale.copy = function() {\n    return ordinal(domain, range).unknown(unknown);\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","import {range as sequence} from \"d3-array\";\nimport {initRange} from \"./init.js\";\nimport ordinal from \"./ordinal.js\";\n\nexport default function band() {\n  var scale = ordinal().unknown(undefined),\n      domain = scale.domain,\n      ordinalRange = scale.range,\n      r0 = 0,\n      r1 = 1,\n      step,\n      bandwidth,\n      round = false,\n      paddingInner = 0,\n      paddingOuter = 0,\n      align = 0.5;\n\n  delete scale.unknown;\n\n  function rescale() {\n    var n = domain().length,\n        reverse = r1 < r0,\n        start = reverse ? r1 : r0,\n        stop = reverse ? r0 : r1;\n    step = (stop - start) / Math.max(1, n - paddingInner + paddingOuter * 2);\n    if (round) step = Math.floor(step);\n    start += (stop - start - step * (n - paddingInner)) * align;\n    bandwidth = step * (1 - paddingInner);\n    if (round) start = Math.round(start), bandwidth = Math.round(bandwidth);\n    var values = sequence(n).map(function(i) { return start + step * i; });\n    return ordinalRange(reverse ? values.reverse() : values);\n  }\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? ([r0, r1] = _, r0 = +r0, r1 = +r1, rescale()) : [r0, r1];\n  };\n\n  scale.rangeRound = function(_) {\n    return [r0, r1] = _, r0 = +r0, r1 = +r1, round = true, rescale();\n  };\n\n  scale.bandwidth = function() {\n    return bandwidth;\n  };\n\n  scale.step = function() {\n    return step;\n  };\n\n  scale.round = function(_) {\n    return arguments.length ? (round = !!_, rescale()) : round;\n  };\n\n  scale.padding = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, paddingOuter = +_), rescale()) : paddingInner;\n  };\n\n  scale.paddingInner = function(_) {\n    return arguments.length ? (paddingInner = Math.min(1, _), rescale()) : paddingInner;\n  };\n\n  scale.paddingOuter = function(_) {\n    return arguments.length ? (paddingOuter = +_, rescale()) : paddingOuter;\n  };\n\n  scale.align = function(_) {\n    return arguments.length ? (align = Math.max(0, Math.min(1, _)), rescale()) : align;\n  };\n\n  scale.copy = function() {\n    return band(domain(), [r0, r1])\n        .round(round)\n        .paddingInner(paddingInner)\n        .paddingOuter(paddingOuter)\n        .align(align);\n  };\n\n  return initRange.apply(rescale(), arguments);\n}\n\nfunction pointish(scale) {\n  var copy = scale.copy;\n\n  scale.padding = scale.paddingOuter;\n  delete scale.paddingInner;\n  delete scale.paddingOuter;\n\n  scale.copy = function() {\n    return pointish(copy());\n  };\n\n  return scale;\n}\n\nexport function point() {\n  return pointish(band.apply(null, arguments).paddingInner(1));\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","export default function(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nexport function isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n","import value from \"./value.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  return (isNumberArray(b) ? numberArray : genericArray)(a, b);\n}\n\nexport function genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = value(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n","export default function(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","import value from \"./value.js\";\n\nexport default function(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = value(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport rgb from \"./rgb.js\";\nimport {genericArray} from \"./array.js\";\nimport date from \"./date.js\";\nimport number from \"./number.js\";\nimport object from \"./object.js\";\nimport string from \"./string.js\";\nimport constant from \"./constant.js\";\nimport numberArray, {isNumberArray} from \"./numberArray.js\";\n\nexport default function(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant(b)\n      : (t === \"number\" ? number\n      : t === \"string\" ? ((c = color(b)) ? (b = c, rgb) : string)\n      : b instanceof color ? rgb\n      : b instanceof Date ? date\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : number)(a, b);\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n","export default function number(x) {\n  return +x;\n}\n","import {bisect} from \"d3-array\";\nimport {interpolate as interpolateValue, interpolateNumber, interpolateRound} from \"d3-interpolate\";\nimport constant from \"./constant.js\";\nimport number from \"./number.js\";\n\nvar unit = [0, 1];\n\nexport function identity(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constant(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisect(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nexport function copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nexport function transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolateValue,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity, rescale()) : clamp !== identity;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nexport default function continuous() {\n  return transformer()(identity, identity);\n}\n","export default function constants(x) {\n  return function() {\n    return x;\n  };\n}\n","export default function(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nexport function formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n","// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nexport default function formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nexport function FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import {formatDecimalParts} from \"./formatDecimal.js\";\n\nexport default function(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDecimal from \"./formatDecimal.js\";\nimport formatPrefixAuto from \"./formatPrefixAuto.js\";\nimport formatRounded from \"./formatRounded.js\";\n\nexport default {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n","export default function(x) {\n  return x;\n}\n","import exponent from \"./exponent.js\";\nimport formatGroup from \"./formatGroup.js\";\nimport formatNumerals from \"./formatNumerals.js\";\nimport formatSpecifier from \"./formatSpecifier.js\";\nimport formatTrim from \"./formatTrim.js\";\nimport formatTypes from \"./formatTypes.js\";\nimport {prefixExponent} from \"./formatPrefixAuto.js\";\nimport identity from \"./identity.js\";\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nexport default function(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n","// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nexport default function(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n","import {tickStep} from \"d3-array\";\nimport {format, formatPrefix, formatSpecifier, precisionFixed, precisionPrefix, precisionRound} from \"d3-format\";\n\nexport default function tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format(specifier);\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3 - exponent(Math.abs(step)));\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent(max) - exponent(step)) + 1;\n}\n","import exponent from \"./exponent.js\";\n\nexport default function(step) {\n  return Math.max(0, -exponent(Math.abs(step)));\n}\n","import {ticks, tickIncrement} from \"d3-array\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport tickFormat from \"./tickFormat.js\";\n\nexport function linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start\n        d[i1] = stop\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nexport default function linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n","export default function nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n","import {ticks} from \"d3-array\";\nimport {format} from \"d3-format\";\nimport nice from \"./nice.js\";\nimport {copy, transformer} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\n\nfunction transformLog(x) {\n  return Math.log(x);\n}\n\nfunction transformExp(x) {\n  return Math.exp(x);\n}\n\nfunction transformLogn(x) {\n  return -Math.log(-x);\n}\n\nfunction transformExpn(x) {\n  return -Math.exp(-x);\n}\n\nfunction pow10(x) {\n  return isFinite(x) ? +(\"1e\" + x) : x < 0 ? 0 : x;\n}\n\nfunction powp(base) {\n  return base === 10 ? pow10\n      : base === Math.E ? Math.exp\n      : function(x) { return Math.pow(base, x); };\n}\n\nfunction logp(base) {\n  return base === Math.E ? Math.log\n      : base === 10 && Math.log10\n      || base === 2 && Math.log2\n      || (base = Math.log(base), function(x) { return Math.log(x) / base; });\n}\n\nfunction reflect(f) {\n  return function(x) {\n    return -f(-x);\n  };\n}\n\nexport function loggish(transform) {\n  var scale = transform(transformLog, transformExp),\n      domain = scale.domain,\n      base = 10,\n      logs,\n      pows;\n\n  function rescale() {\n    logs = logp(base), pows = powp(base);\n    if (domain()[0] < 0) {\n      logs = reflect(logs), pows = reflect(pows);\n      transform(transformLogn, transformExpn);\n    } else {\n      transform(transformLog, transformExp);\n    }\n    return scale;\n  }\n\n  scale.base = function(_) {\n    return arguments.length ? (base = +_, rescale()) : base;\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain(_), rescale()) : domain();\n  };\n\n  scale.ticks = function(count) {\n    var d = domain(),\n        u = d[0],\n        v = d[d.length - 1],\n        r;\n\n    if (r = v < u) i = u, u = v, v = i;\n\n    var i = logs(u),\n        j = logs(v),\n        p,\n        k,\n        t,\n        n = count == null ? 10 : +count,\n        z = [];\n\n    if (!(base % 1) && j - i < n) {\n      i = Math.floor(i), j = Math.ceil(j);\n      if (u > 0) for (; i <= j; ++i) {\n        for (k = 1, p = pows(i); k < base; ++k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      } else for (; i <= j; ++i) {\n        for (k = base - 1, p = pows(i); k >= 1; --k) {\n          t = p * k;\n          if (t < u) continue;\n          if (t > v) break;\n          z.push(t);\n        }\n      }\n      if (z.length * 2 < n) z = ticks(u, v, n);\n    } else {\n      z = ticks(i, j, Math.min(j - i, n)).map(pows);\n    }\n\n    return r ? z.reverse() : z;\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    if (specifier == null) specifier = base === 10 ? \".0e\" : \",\";\n    if (typeof specifier !== \"function\") specifier = format(specifier);\n    if (count === Infinity) return specifier;\n    if (count == null) count = 10;\n    var k = Math.max(1, base * count / scale.ticks().length); // TODO fast estimate?\n    return function(d) {\n      var i = d / pows(Math.round(logs(d)));\n      if (i * base < base - 0.5) i *= base;\n      return i <= k ? specifier(d) : \"\";\n    };\n  };\n\n  scale.nice = function() {\n    return domain(nice(domain(), {\n      floor: function(x) { return pows(Math.floor(logs(x))); },\n      ceil: function(x) { return pows(Math.ceil(logs(x))); }\n    }));\n  };\n\n  return scale;\n}\n\nexport default function log() {\n  var scale = loggish(transformer()).domain([1, 10]);\n\n  scale.copy = function() {\n    return copy(scale, log()).base(scale.base());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return scale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval.js\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import interval from \"./interval.js\";\nimport {durationSecond} from \"./duration.js\";\n\nvar second = interval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationSecond} from \"./duration.js\";\n\nvar minute = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval.js\";\nimport {durationHour, durationMinute, durationSecond} from \"./duration.js\";\n\nvar hour = interval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationMinute} from \"./duration.js\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval.js\";\nimport {durationHour} from \"./duration.js\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {bisector, tickStep} from \"d3-array\";\nimport {durationDay, durationHour, durationMinute, durationMonth, durationSecond, durationWeek, durationYear} from \"./duration.js\";\nimport millisecond from \"./millisecond.js\";\nimport second from \"./second.js\";\nimport minute from \"./minute.js\";\nimport hour from \"./hour.js\";\nimport day from \"./day.js\";\nimport {sunday as week} from \"./week.js\";\nimport month from \"./month.js\";\nimport year from \"./year.js\";\nimport utcMinute from \"./utcMinute.js\";\nimport utcHour from \"./utcHour.js\";\nimport utcDay from \"./utcDay.js\";\nimport {utcSunday as utcWeek} from \"./utcWeek.js\";\nimport utcMonth from \"./utcMonth.js\";\nimport utcYear from \"./utcYear.js\";\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\n\nconst [utcTicks, utcTickInterval] = ticker(utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute);\nconst [timeTicks, timeTickInterval] = ticker(year, month, week, day, hour, minute);\n\nexport {utcTicks, utcTickInterval, timeTicks, timeTickInterval};\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeTicks, timeTickInterval} from \"d3-time\";\nimport {timeFormat} from \"d3-time-format\";\nimport continuous, {copy} from \"./continuous.js\";\nimport {initRange} from \"./init.js\";\nimport nice from \"./nice.js\";\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nexport function calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nexport default function time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, timeYear, timeMonth, timeWeek, timeDay, timeHour, timeMinute, timeSecond, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n","import {utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcTicks, utcTickInterval} from \"d3-time\";\nimport {utcFormat} from \"d3-time-format\";\nimport {calendar} from \"./time.js\";\nimport {initRange} from \"./init.js\";\n\nexport default function utcTime() {\n  return initRange.apply(calendar(utcTicks, utcTickInterval, utcYear, utcMonth, utcWeek, utcDay, utcHour, utcMinute, utcSecond, utcFormat).domain([Date.UTC(2000, 0, 1), Date.UTC(2000, 0, 2)]), arguments);\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","export const durationSecond = 1000;\nexport const durationMinute = durationSecond * 60;\nexport const durationHour = durationMinute * 60;\nexport const durationDay = durationHour * 24;\nexport const durationWeek = durationDay * 7;\nexport const durationMonth = durationDay * 30;\nexport const durationYear = durationDay * 365;\n","import interval from \"./interval.js\";\nimport {durationDay, durationMinute} from \"./duration.js\";\n\nvar day = interval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval.js\";\nimport {durationMinute, durationWeek} from \"./duration.js\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval.js\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval.js\";\nimport {durationDay} from \"./duration.js\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval.js\";\nimport {durationWeek} from \"./duration.js\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval.js\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {\n  timeDay,\n  timeSunday,\n  timeMonday,\n  timeThursday,\n  timeYear,\n  utcDay,\n  utcSunday,\n  utcMonday,\n  utcThursday,\n  utcYear\n} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? timeMonday.ceil(week) : timeMonday(week);\n          week = timeDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup.get(n[0].toLowerCase()), i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  return new Map(names.map((name, i) => [name.toLowerCase(), i]));\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(timeThursday.count(timeYear(d), d) + (timeYear(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? timeThursday(d) : timeThursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n","import formatLocale from \"./locale.js\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import { extent, max, median, min, range as d3Range } from 'd3-array'\nimport { stack, stackOffsetNone } from 'd3-shape'\nimport {\n  scaleLinear,\n  scaleLog,\n  scaleTime,\n  scaleUtc,\n  scaleBand,\n  ScaleTime,\n  ScaleLinear,\n  ScaleBand,\n} from 'd3-scale'\n\nimport {\n  timeSecond,\n  timeMinute,\n  timeHour,\n  timeDay,\n  timeMonth,\n  timeYear,\n  utcYear,\n  utcMonth,\n  utcDay,\n  utcHour,\n  utcMinute,\n  utcSecond,\n} from 'd3-time'\n\nimport { timeFormat, utcFormat } from 'd3-time-format'\n\nimport {\n  Axis,\n  AxisBand,\n  AxisBandOptions,\n  AxisLinear,\n  AxisLinearOptions,\n  AxisOptions,\n  AxisTime,\n  AxisTimeOptions,\n  BuildAxisOptions,\n  Datum,\n  GridDimensions,\n  ResolvedAxisOptions,\n  Series,\n  StackDatum,\n} from '../types'\n\nfunction defaultAxisOptions<TDatum>(\n  options: BuildAxisOptions<TDatum>\n): ResolvedAxisOptions<AxisOptions<TDatum>> {\n  return {\n    ...options,\n    elementType: options.elementType ?? 'line',\n    minTickPaddingForRotation: options.minTickPaddingForRotation ?? 10,\n    tickLabelRotationDeg: options.tickLabelRotationDeg ?? 60,\n    innerBandPadding: options.innerBandPadding ?? 0.5,\n    outerBandPadding: options.outerBandPadding ?? 0.2,\n    innerSeriesBandPadding: options.innerSeriesBandPadding ?? 0.2,\n    outerSeriesBandPadding: options.outerSeriesBandPadding ?? 0,\n    show: options.show ?? true,\n    stacked: options.stacked ?? false,\n    shouldNice: options.shouldNice ?? true,\n  }\n}\n\nexport default function buildAxisLinear<TDatum>(\n  isPrimary: boolean,\n  userOptions: BuildAxisOptions<TDatum>,\n  series: Series<TDatum>[],\n  allDatums: Datum<TDatum>[],\n  gridDimensions: GridDimensions,\n  width: number,\n  height: number\n): Axis<TDatum> {\n  const options = defaultAxisOptions(userOptions)\n\n  if (!options.position) {\n    throw new Error(`Chart axes must have a valid 'position' property`)\n  }\n\n  const isVertical = ['left', 'right'].indexOf(options.position) > -1\n\n  // Now we need to figure out the range\n  const range: [number, number] = isVertical\n    ? [gridDimensions.height, 0]\n    : [0, gridDimensions.width]\n\n  const outerRange: [number, number] = isVertical ? [height, 0] : [0, width]\n\n  // Give the scale a home\n  return options.scaleType === 'time' || options.scaleType === 'localTime'\n    ? buildTimeAxis(\n        isPrimary,\n        options,\n        series,\n        allDatums,\n        isVertical,\n        range,\n        outerRange\n      )\n    : options.scaleType === 'linear' || options.scaleType === 'log'\n    ? buildLinearAxis(\n        isPrimary,\n        options,\n        series,\n        allDatums,\n        isVertical,\n        range,\n        outerRange\n      )\n    : options.scaleType === 'band'\n    ? buildBandAxis(isPrimary, options, series, isVertical, range, outerRange)\n    : (() => {\n        throw new Error('Invalid scale type')\n      })()\n}\n\nfunction buildTimeAxis<TDatum>(\n  isPrimary: boolean,\n  options: ResolvedAxisOptions<AxisTimeOptions<TDatum>>,\n  series: Series<TDatum>[],\n  allDatums: Datum<TDatum>[],\n  isVertical: boolean,\n  range: [number, number],\n  outerRange: [number, number]\n): AxisTime<TDatum> {\n  const isLocal = options.scaleType === 'localTime'\n  const scaleFn = isLocal ? scaleTime : scaleUtc\n\n  let isInvalid = false\n\n  series = isPrimary\n    ? series\n    : series.filter(s => s.secondaryAxisId === options.id)\n\n  allDatums = isPrimary\n    ? allDatums\n    : allDatums.filter(d => d.secondaryAxisId === options.id)\n\n  // Now set the range\n  const scale = scaleFn(range)\n\n  let [minValue, maxValue] = extent(allDatums, datum => {\n    const value = options.getValue(datum.originalDatum)\n    datum[isPrimary ? 'primaryValue' : 'secondaryValue'] = value\n    return value\n  })\n\n  // Here, we find the maximum context (in descending order from year\n  // down to millisecond) needed to understand the\n  // dates in this dataset. If the min/max dates span multiples of\n  // any of the time units OR if the max date resides in a different\n  // unit boundary than today's, we use that unit as context.\n\n  let autoFormatStr: string\n\n  const units = isLocal\n    ? {\n        year: timeYear,\n        month: timeMonth,\n        day: timeDay,\n        hour: timeHour,\n        minute: timeMinute,\n        second: timeSecond,\n      }\n    : {\n        year: utcYear,\n        month: utcMonth,\n        day: utcDay,\n        hour: utcHour,\n        minute: utcMinute,\n        second: utcSecond,\n      }\n\n  if (minValue && maxValue) {\n    if (\n      units.year.count(minValue, maxValue) > 0 ||\n      units.year.floor(maxValue) < units.year()\n    ) {\n      autoFormatStr = '%b %-d, %Y %-I:%M:%S.%L %p'\n    } else if (\n      units.month.count(minValue, maxValue) > 0 ||\n      units.month.floor(maxValue) < units.month()\n    ) {\n      autoFormatStr = '%b %-d, %-I:%M:%S.%L %p'\n    } else if (\n      units.day.count(minValue, maxValue) > 0 ||\n      units.day.floor(maxValue) < units.day()\n    ) {\n      autoFormatStr = '%b %-d, %-I:%M:%S.%L %p'\n    } else if (\n      units.hour.count(minValue, maxValue) > 0 ||\n      units.hour.floor(maxValue) < units.hour()\n    ) {\n      autoFormatStr = '%-I:%M:%S.%L %p'\n    } else if (\n      units.minute.count(minValue, maxValue) > 0 ||\n      units.minute.floor(maxValue) < units.minute()\n    ) {\n      autoFormatStr = '%-I:%M:%S.%L'\n    } else if (\n      units.second.count(minValue, maxValue) > 0 ||\n      units.second.floor(maxValue) < units.second()\n    ) {\n      autoFormatStr = '%L'\n    }\n  }\n\n  const resolvedTimeFormat = isLocal ? timeFormat : utcFormat\n  const trimFormat = (str: string) => str.trim().replace(/(,$|^,)/, '')\n\n  const contextFormat = (format: string, date: Date) => {\n    if (units.second(date) < date) {\n      // milliseconds - Do not remove any context\n      return resolvedTimeFormat(format)(date)\n    }\n    if (units.minute(date) < date) {\n      // seconds - remove potential milliseconds\n      return resolvedTimeFormat(\n        trimFormat(format.replace(/\\.%L.*?(\\s|$)/, ''))\n      )(date)\n    }\n    if (units.hour(date) < date) {\n      // minutes - remove potential seconds and milliseconds\n      return resolvedTimeFormat(trimFormat(format.replace(/:%S.*?(\\s|$)/, '')))(\n        date\n      )\n    }\n    if (units.day(date) < date) {\n      // hours - remove potential minutes and seconds and milliseconds\n      return resolvedTimeFormat(trimFormat(format.replace(/:%M.*?(\\s|$)/, '')))(\n        date\n      )\n    }\n    if (units.month(date) < date) {\n      // days  - remove potential hours, minutes, seconds and milliseconds\n      return resolvedTimeFormat(trimFormat(format.replace(/%-I.*/, '')))(date)\n    }\n    if (units.year(date) < date) {\n      // months - remove potential days, hours, minutes, seconds and milliseconds\n      return resolvedTimeFormat(trimFormat(format.replace(/%-d.*/, '')))(date)\n    }\n    // years\n    return resolvedTimeFormat('%Y')(date)\n  }\n\n  let shouldNice = options.shouldNice\n\n  // see https://stackoverflow.com/a/2831422\n  if (Object.prototype.toString.call(options.min) === '[object Date]') {\n    minValue = min([options.min as Date, minValue as Date])\n    shouldNice = false\n  }\n\n  if (Object.prototype.toString.call(options.max) === '[object Date]') {\n    maxValue = max([options.max as Date, maxValue as Date])\n    shouldNice = false\n  }\n\n  if (Object.prototype.toString.call(options.hardMin) === '[object Date]') {\n    minValue = options.hardMin\n    shouldNice = false\n  }\n\n  if (Object.prototype.toString.call(options.hardMax) === '[object Date]') {\n    maxValue = options.hardMax\n    shouldNice = false\n  }\n\n  if (minValue === undefined || maxValue === undefined) {\n    console.info('Invalid scale min/max', {\n      options,\n      series,\n      range,\n      values: allDatums.map(d =>\n        isPrimary ? d.primaryValue : d.secondaryValue\n      ),\n    })\n    isInvalid = true\n  }\n\n  // Set the domain\n  scale.domain([minValue as Date, maxValue as Date])\n\n  if (options.invert) {\n    scale.domain(Array.from(scale.domain()).reverse())\n  }\n\n  if (shouldNice) {\n    scale.nice()\n  }\n\n  const outerScale = scale.copy().range(outerRange)\n\n  // Supplementary band scale\n  const primaryBandScale = isPrimary\n    ? buildPrimaryBandScale(options, scale, series, range)\n    : undefined\n\n  const seriesBandScale = primaryBandScale\n    ? buildSeriesBandScale(options, primaryBandScale, series)\n    : undefined\n\n  const primaryBandWidth = primaryBandScale?.bandwidth()\n\n  if (options.padBandRange && primaryBandWidth) {\n    const bandStart = scale.invert(0)\n    const bandEnd = scale.invert(primaryBandWidth)\n    const diff = bandEnd.valueOf() - bandStart.valueOf()\n\n    scale.domain([\n      new Date(scale.domain()[0].valueOf() - diff / 2),\n      new Date(scale.domain()[1].valueOf() + diff / 2),\n    ])\n  }\n\n  const formatters = {} as AxisTime<TDatum>['formatters']\n\n  const defaultFormat = scale.tickFormat()\n\n  const scaleFormat = (value: Date) =>\n    options.formatters?.scale?.(value, { ...formatters, scale: undefined }) ??\n    contextFormat(autoFormatStr, value)\n\n  const tooltipFormat = (value: Date) =>\n    options.formatters?.tooltip?.(value, {\n      ...formatters,\n      tooltip: undefined,\n    }) ?? scaleFormat(value)\n\n  const cursorFormat = (value: Date) =>\n    options.formatters?.cursor?.(value, { ...formatters, cursor: undefined }) ??\n    scaleFormat(value)\n\n  Object.assign(formatters, {\n    default: defaultFormat,\n    scale: scaleFormat,\n    tooltip: tooltipFormat,\n    cursor: cursorFormat,\n  })\n\n  return {\n    ...options,\n    isInvalid,\n    axisFamily: 'time',\n    isVertical,\n    scale,\n    range,\n    outerScale,\n    primaryBandScale,\n    seriesBandScale,\n    formatters: formatters,\n  }\n}\n\nfunction buildLinearAxis<TDatum>(\n  isPrimary: boolean,\n  options: ResolvedAxisOptions<AxisLinearOptions<TDatum>>,\n  series: Series<TDatum>[],\n  allDatums: Datum<TDatum>[],\n  isVertical: boolean,\n  range: [number, number],\n  outerRange: [number, number]\n): AxisLinear<TDatum> {\n  const scale = options.scaleType === 'log' ? scaleLog() : scaleLinear()\n\n  let isInvalid = false\n\n  series = isPrimary\n    ? series\n    : series.filter(s => s.secondaryAxisId === options.id)\n\n  allDatums = isPrimary\n    ? allDatums\n    : allDatums.filter(d => d.secondaryAxisId === options.id)\n\n  if (options.stacked) {\n    stackSeries(series, options)\n  }\n\n  let [minValue, maxValue] = options.stacked\n    ? extent(\n        series\n          .map(s =>\n            s.datums.map(datum => {\n              const value = options.getValue(datum.originalDatum)\n              datum[isPrimary ? 'primaryValue' : 'secondaryValue'] = value\n              return datum.stackData ?? []\n            })\n          )\n          .flat(2) as unknown as number[]\n      )\n    : extent(allDatums, datum => {\n        const value = options.getValue(datum.originalDatum)\n        datum[isPrimary ? 'primaryValue' : 'secondaryValue'] = value\n        return value\n      })\n\n  let shouldNice = options.shouldNice\n\n  if (typeof options.min === 'number') {\n    minValue = min([options.min, minValue as number])\n    shouldNice = false\n  }\n\n  if (typeof options.max === 'number') {\n    maxValue = max([options.max, maxValue as number])\n    shouldNice = false\n  }\n\n  if (\n    typeof options.minDomainLength === 'number' &&\n    !(minValue === undefined || maxValue === undefined)\n  ) {\n    const mid = median([minValue, maxValue])!\n    const top = mid + options.minDomainLength / 2\n    const bottom = mid - options.minDomainLength / 2\n    maxValue = Math.max(top, maxValue)\n    minValue = Math.min(bottom, minValue)\n  }\n\n  if (typeof options.hardMin === 'number') {\n    minValue = options.hardMin\n    shouldNice = false\n  }\n\n  if (typeof options.hardMax === 'number') {\n    maxValue = options.hardMax\n    shouldNice = false\n  }\n\n  if (minValue === undefined || maxValue === undefined) {\n    isInvalid = true\n    console.info('Invalid scale min/max', {\n      options,\n      series,\n      range,\n      values: allDatums.map(d =>\n        isPrimary ? d.primaryValue : d.secondaryValue\n      ),\n    })\n    minValue = minValue ?? 0\n    maxValue = maxValue ?? 0\n    // throw new Error('Invalid scale min/max'\n  }\n\n  // Set the domain\n  scale.domain([minValue, maxValue])\n\n  if (options.invert) {\n    scale.domain(Array.from(scale.domain()).reverse())\n  }\n\n  scale.range(range)\n\n  if (shouldNice) {\n    scale.nice()\n  }\n\n  const outerScale = scale.copy().range(outerRange)\n\n  const primaryBandScale = isPrimary\n    ? buildPrimaryBandScale(options, scale, series, range)\n    : undefined\n\n  const seriesBandScale = primaryBandScale\n    ? buildSeriesBandScale(options, primaryBandScale, series)\n    : undefined\n\n  const defaultFormat = scale.tickFormat()\n\n  const formatters = {} as AxisLinear<TDatum>['formatters']\n\n  const scaleFormat = (value: number) =>\n    options.formatters?.scale?.(value, { ...formatters, scale: undefined }) ??\n    defaultFormat(value)\n\n  const tooltipFormat = (value: number) =>\n    options.formatters?.tooltip?.(value, {\n      ...formatters,\n      tooltip: undefined,\n    }) ?? scaleFormat(value)\n\n  const cursorFormat = (value: number) =>\n    options.formatters?.cursor?.(value, { ...formatters, cursor: undefined }) ??\n    tooltipFormat(value)\n\n  Object.assign(formatters, {\n    default: defaultFormat,\n    scale: scaleFormat,\n    tooltip: tooltipFormat,\n    cursor: cursorFormat,\n  })\n\n  return {\n    ...options,\n    isInvalid,\n    axisFamily: 'linear',\n    isVertical,\n    scale,\n    range,\n    outerScale,\n    primaryBandScale,\n    seriesBandScale,\n    formatters,\n  }\n}\n\nfunction buildBandAxis<TDatum>(\n  isPrimary: boolean,\n  options: ResolvedAxisOptions<AxisBandOptions<TDatum>>,\n  series: Series<TDatum>[],\n  isVertical: boolean,\n  range: [number, number],\n  outerRange: [number, number]\n): AxisBand<TDatum> {\n  series = series.filter(d => d.secondaryAxisId === options.id)\n\n  let isInvalid = false\n\n  const domain = Array.from(\n    new Set(\n      series\n        .map(d => d.datums)\n        .flat()\n        .map(datum => {\n          const value = options.getValue(datum.originalDatum)\n          datum[isPrimary ? 'primaryValue' : 'secondaryValue'] = value\n          return value\n        })\n    )\n  )\n\n  const scale = scaleBand(domain, range)\n    .round(false)\n    .paddingOuter(options.outerBandPadding ?? 0)\n    .paddingInner(options.innerBandPadding ?? 0)\n\n  // Invert if necessary\n  if (options.invert) {\n    scale.domain(Array.from(scale.domain()).reverse())\n  }\n\n  const outerScale = scale.copy().range(outerRange)\n\n  const primaryBandScale = scale\n\n  const seriesBandScale = buildSeriesBandScale(\n    options,\n    primaryBandScale,\n    series\n  )\n\n  const defaultFormat = (d: { toString: () => string }) => d\n\n  const formatters = {} as AxisBand<TDatum>['formatters']\n\n  const scaleFormat = (value: number) =>\n    options.formatters?.scale?.(value, { ...formatters, scale: undefined }) ??\n    defaultFormat(value)\n\n  const tooltipFormat = (value: number) =>\n    options.formatters?.tooltip?.(value, {\n      ...formatters,\n      tooltip: undefined,\n    }) ?? scaleFormat(value)\n\n  const cursorFormat = (value: number) =>\n    options.formatters?.cursor?.(value, { ...formatters, cursor: undefined }) ??\n    tooltipFormat(value)\n\n  Object.assign(formatters, {\n    default: defaultFormat,\n    scale: scaleFormat,\n    tooltip: tooltipFormat,\n    cursor: cursorFormat,\n  })\n\n  return {\n    ...options,\n    isInvalid,\n    axisFamily: 'band',\n    isVertical,\n    scale,\n    range,\n    outerScale,\n    formatters,\n    primaryBandScale,\n    seriesBandScale,\n  }\n}\n\n//\n\nfunction stackSeries<TDatum>(\n  series: Series<TDatum>[],\n  axisOptions: AxisOptions<TDatum>\n) {\n  const seriesIndices = Object.keys(series)\n  const stacker = stack()\n    .keys(seriesIndices)\n    .value((_, seriesIndex, index) => {\n      const originalDatum =\n        series[Number(seriesIndex)]?.datums[index]?.originalDatum\n\n      const val =\n        typeof originalDatum !== 'undefined'\n          ? axisOptions.getValue(originalDatum)\n          : 0\n\n      if (typeof val === 'undefined' || val === null) {\n        return 0\n      }\n\n      return val\n    })\n    .offset(axisOptions.stackOffset ?? stackOffsetNone)\n\n  const stacked = stacker(\n    Array.from({\n      length: series.sort((a, b) => b.datums.length - a.datums.length)[0].datums\n        .length,\n    })\n  )\n\n  for (let sIndex = 0; sIndex < stacked.length; sIndex++) {\n    const s = stacked[sIndex]\n\n    for (let i = 0; i < s.length; i++) {\n      const datum = s[i]\n\n      if (series[sIndex].datums[i]) {\n        // @ts-ignore\n        datum.data = series[sIndex].datums[i]\n\n        series[sIndex].datums[i].stackData =\n          datum as unknown as StackDatum<TDatum>\n      }\n    }\n  }\n}\n\nfunction buildPrimaryBandScale<TDatum>(\n  options: ResolvedAxisOptions<AxisOptions<TDatum>>,\n  scale: ScaleTime<number, number, never> | ScaleLinear<number, number, never>,\n  series: Series<TDatum>[],\n  range: [number, number]\n) {\n  // Find the two closest points along axis\n\n  let impliedBandWidth: number = Math.max(...range)\n\n  for (let i = 0; i < series.length; i++) {\n    const serie = series[i]\n\n    for (let j = 0; j < serie.datums.length; j++) {\n      const d1 = serie.datums[j]\n      const one = scale(d1.primaryValue ?? NaN)\n\n      for (let k = 0; k < serie.datums.length; k++) {\n        const d2 = serie.datums[k]\n        const two = scale(d2.primaryValue ?? NaN)\n\n        if (one === two) {\n          continue\n        }\n\n        const diff = Math.abs(Math.max(one, two) - Math.min(one, two))\n\n        if (diff < impliedBandWidth) {\n          impliedBandWidth = diff\n        }\n      }\n    }\n  }\n\n  const bandRange = Math.max(...range)\n\n  const bandDomain = d3Range(bandRange / impliedBandWidth)\n\n  const primaryBandScale = scaleBand(bandDomain, range)\n    .round(false)\n    .paddingOuter(options.outerBandPadding ?? 0)\n    .paddingInner(options.innerBandPadding ?? 0)\n\n  return primaryBandScale\n}\n\nfunction buildSeriesBandScale<TDatum>(\n  options: ResolvedAxisOptions<AxisOptions<TDatum>>,\n  primaryBandScale: ScaleBand<number>,\n  series: Series<TDatum>[]\n) {\n  const bandDomain = d3Range(series.length)\n\n  const seriesBandScale = scaleBand(bandDomain, [\n    0,\n    primaryBandScale.bandwidth(),\n  ])\n    .round(false)\n    .paddingOuter(\n      options.outerSeriesBandPadding ??\n        (options.outerBandPadding ? options.outerBandPadding / 2 : 0)\n    )\n    .paddingInner(\n      options.innerSeriesBandPadding ??\n        (options.innerBandPadding ? options.innerBandPadding / 2 : 0)\n    )\n\n  const scale = (seriesIndex: number) =>\n    seriesBandScale(series.find(d => d.index === seriesIndex)!?.indexPerAxis)\n\n  return Object.assign(scale, seriesBandScale)\n}\n","import quantile from \"./quantile.js\";\n\nexport default function(values, valueof) {\n  return quantile(values, 0.5, valueof);\n}\n","import React, { MutableRefObject } from 'react'\n\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect'\nimport { Axis, AxisDimension, GridDimensions, Position } from '../types'\nimport useChartContext from '../utils/chartContext'\n\nconst getElBox = (el: Element) => {\n  var rect = el.getBoundingClientRect()\n  return {\n    top: Math.round(rect.top),\n    right: Math.round(rect.right),\n    bottom: Math.round(rect.bottom),\n    left: Math.round(rect.left),\n    width: Math.round(rect.width),\n    height: Math.round(rect.height),\n    x: Math.round(rect.x),\n    y: Math.round(rect.y),\n  }\n}\n\nexport default function useMeasure<TDatum>({\n  axis,\n  elRef,\n  gridDimensions,\n  setShowRotated,\n}: {\n  axis: Axis<TDatum>\n  elRef: MutableRefObject<SVGGElement | null>\n  gridDimensions: GridDimensions\n  showRotated: boolean\n  setShowRotated: (value: boolean) => void\n}) {\n  const { axisDimensionsState } = useChartContext<TDatum>()\n\n  const [axisDimensions, setAxisDimensions] = axisDimensionsState\n\n  const axisDimension = React.useMemo(() => {\n    return axisDimensions[axis.position as Position]?.[axis.id!]\n  }, [axisDimensions, axis.position, axis.id])\n\n  // const isLooping = useIsLooping()\n\n  const measureRotation = React.useCallback(() => {\n    if (!elRef.current) {\n      return\n    }\n\n    let gridSize = !axis.isVertical\n      ? gridDimensions.width\n      : gridDimensions.height\n\n    const staticLabelDims = Array.from(\n      elRef.current.querySelectorAll('.Axis-Group.outer .tickLabel')\n    ).map(el => getElBox(el))\n\n    // Determine the largest labels on the axis\n    let widestLabel: typeof staticLabelDims[number] | undefined\n\n    staticLabelDims.forEach(label => {\n      let resolvedLabel = widestLabel ?? { width: 0 }\n      if (label.width > 0 && label.width > resolvedLabel.width) {\n        widestLabel = label\n      }\n    })\n\n    let smallestTickGap = gridSize\n\n    if (staticLabelDims.length > 1) {\n      staticLabelDims.forEach((current, i) => {\n        const prev = staticLabelDims[i - 1]\n\n        if (prev) {\n          smallestTickGap = Math.min(\n            smallestTickGap,\n            axis.isVertical ? current.top - prev.top : current.left - prev.left\n          )\n        }\n      })\n    }\n\n    const shouldRotate =\n      (widestLabel?.width || 0) + axis.minTickPaddingForRotation >\n      smallestTickGap\n\n    // if (!isLooping) {\n    // Rotate ticks for non-time horizontal axes\n    if (!axis.isVertical) {\n      setShowRotated(shouldRotate)\n    }\n    // }\n  }, [\n    elRef,\n    axis.isVertical,\n    axis.minTickPaddingForRotation,\n    gridDimensions.width,\n    gridDimensions.height,\n    setShowRotated,\n  ])\n\n  const measureDimensions = React.useCallback(() => {\n    if (!elRef.current) {\n      if (axisDimension) {\n        // If the entire axis is hidden, then we need to remove the axis dimensions\n        setAxisDimensions(old => {\n          const newAxes = { ...(old[axis.position] ?? {}) }\n\n          delete newAxes[axis.id!]\n\n          return {\n            ...old,\n            [axis.position]: newAxes,\n          }\n        })\n      }\n      return\n    }\n\n    const newDimensions: AxisDimension = {\n      width: 0,\n      height: 0,\n      paddingTop: 0,\n      paddingBottom: 0,\n      paddingLeft: 0,\n      paddingRight: 0,\n    }\n\n    const currentEl = elRef.current\n\n    const axisEl = currentEl.querySelector(`.Axis-Group.inner .domainAndTicks`)\n    const domainEl = currentEl.querySelector(`.Axis-Group.inner .domain`)\n\n    if (!axisEl || !domainEl) {\n      return\n    }\n\n    const axisDims = getElBox(axisEl)\n    const domainDims = getElBox(domainEl)\n\n    if (!axisDims || !domainDims) {\n      return\n    }\n\n    // Axis overflow measurements\n    if (!axis.isVertical) {\n      newDimensions.paddingLeft = Math.round(\n        Math.max(0, domainDims.left - axisDims?.left)\n      )\n\n      newDimensions.paddingRight = Math.round(\n        Math.max(0, axisDims?.right - domainDims.right)\n      )\n\n      newDimensions.height = axisDims?.height\n    } else {\n      newDimensions.paddingTop = Math.round(\n        Math.max(0, domainDims.top - axisDims?.top)\n      )\n\n      newDimensions.paddingBottom = Math.round(\n        Math.max(0, axisDims?.bottom - domainDims.bottom)\n      )\n\n      newDimensions.width = axisDims?.width\n    }\n\n    // Only update the axisDimensions if something has changed\n    if (\n      // !isLooping &&\n      !axisDimensions ||\n      !axisDimension ||\n      Object.keys(newDimensions).some(key => {\n        // @ts-ignore\n        return newDimensions[key] !== axisDimension[key]\n      })\n    ) {\n      setAxisDimensions(old => ({\n        ...old,\n        [axis.position]: {\n          ...(old[axis.position] ?? {}),\n          [axis.id!]: newDimensions,\n        },\n      }))\n    }\n  }, [\n    axis.id,\n    axis.isVertical,\n    axis.position,\n    axisDimension,\n    axisDimensions,\n    elRef,\n    setAxisDimensions,\n  ])\n\n  // Measure after if needed\n  useIsomorphicLayoutEffect(() => {\n    // setTimeout(() => {\n    window.requestAnimationFrame(() => {\n      measureRotation()\n      measureDimensions()\n    })\n  }, [measureRotation])\n\n  // useIsomorphicLayoutEffect(() => {\n  //   // setTimeout(() => {\n  //   window.requestAnimationFrame(() => {\n  //   })\n  // }, [measureRotation])\n}\n","import React from 'react'\n\nimport { Axis, AxisLinear } from '../types'\nimport { translate } from '../utils/Utils'\nimport useChartContext from '../utils/chartContext'\n//\nimport useMeasure from './AxisLinear.useMeasure'\n\nexport default function AxisLinearComp<TDatum>(axis: Axis<TDatum>) {\n  const [showRotated, setShowRotated] = React.useState(false)\n  const { getOptions, gridDimensions, width, height } =\n    useChartContext<TDatum>()\n\n  const { dark, showDebugAxes } = getOptions()\n\n  const elRef = React.useRef<SVGGElement>(null)\n\n  useMeasure({\n    axis,\n    elRef,\n    gridDimensions,\n    showRotated,\n    setShowRotated,\n  })\n\n  const renderAxis = (isOuter: boolean) => {\n    const isRotated = !isOuter && showRotated\n\n    const scale = isOuter ? axis.outerScale : axis.scale\n    const [rangeStart, rangeEnd] = scale.range()\n\n    const getTicks = () => {\n      const anyAxis = axis as AxisLinear<TDatum>\n\n      if ((anyAxis as AxisLinear<TDatum>).outerScale.ticks!) {\n        if (typeof anyAxis.tickCount === 'number') {\n          return anyAxis.outerScale.ticks(anyAxis.tickCount)\n        }\n\n        const autoSpacing = anyAxis.isVertical ? 40 : 80\n        const range = anyAxis.outerScale.range()\n        const num = Math.abs(range[1] - range[0]) / autoSpacing\n\n        return anyAxis.outerScale.ticks(num)\n      }\n\n      return anyAxis.outerScale.domain()\n    }\n\n    const resolvedHeight = isOuter ? height : gridDimensions.height\n    const resolvedWidth = isOuter ? width : gridDimensions.width\n\n    const [lineFrom, lineTo] =\n      axis.position === 'left'\n        ? [\n            { x: 0, y: rangeStart },\n            { x: 0, y: rangeEnd },\n          ]\n        : axis.position === 'right'\n        ? [\n            { x: resolvedWidth, y: rangeStart },\n            { x: resolvedWidth, y: rangeEnd },\n          ]\n        : axis.position === 'top'\n        ? [\n            { x: rangeStart, y: 0 },\n            { x: rangeEnd, y: 0 },\n          ]\n        : [\n            { x: rangeStart, y: resolvedHeight },\n            { x: rangeEnd, y: resolvedHeight },\n          ]\n\n    const ticks = getTicks().map(tick => {\n      const px = getTickPx(scale, tick)\n\n      const [from, to, gridTo] =\n        axis.position === 'left'\n          ? [\n              { x: 0, y: px },\n              { x: -8, y: px },\n              { x: resolvedWidth, y: px },\n            ]\n          : axis.position === 'right'\n          ? [\n              { x: resolvedWidth, y: px },\n              { x: resolvedWidth + 8, y: px },\n              { x: 0, y: px },\n            ]\n          : axis.position === 'top'\n          ? [\n              { x: px, y: 0 },\n              { x: px, y: -8 },\n              { x: px, y: resolvedHeight },\n            ]\n          : [\n              { x: px, y: resolvedHeight },\n              { x: px, y: resolvedHeight + 8 },\n              { x: px, y: 0 },\n            ]\n\n      return {\n        value: tick,\n        from,\n        to,\n        gridTo,\n      }\n    })\n\n    return (\n      <g\n        key={`Axis-Group ${isOuter ? 'outer' : 'inner'}`}\n        className={`Axis-Group ${isOuter ? 'outer' : 'inner'}`}\n        style={{\n          transform: isOuter\n            ? undefined\n            : translate(gridDimensions.left, gridDimensions.top),\n        }}\n      >\n        <g\n          className={`Axis`}\n          style={{\n            ...(isOuter\n              ? {\n                  opacity: showDebugAxes ? 0.5 : 0,\n                  pointerEvents: 'none',\n                }\n              : {\n                  opacity: 1,\n                  pointerEvents: 'all',\n                }),\n          }}\n        >\n          <g className=\"domainAndTicks\">\n            <line\n              className=\"domain\"\n              x1={lineFrom.x}\n              y1={lineFrom.y}\n              x2={lineTo.x}\n              y2={lineTo.y}\n              stroke={dark ? 'rgba(255,255,255, .2)' : 'rgba(0,0,0, .2)'}\n            />\n            {ticks.map((tick, i) => {\n              let { x: tickLabelX, y: tickLabelY } = tick.to\n\n              if (axis.position === 'top') {\n                tickLabelY -= 5\n              } else if (axis.position === 'bottom') {\n                tickLabelY += 5\n              } else if (axis.position === 'left') {\n                tickLabelX -= 5\n              } else if (axis.position === 'right') {\n                tickLabelX += 5\n              }\n\n              return (\n                <g key={`vx-tick-${tick}-${i}`} className={'tick'}>\n                  {!isOuter ? (\n                    <line\n                      x1={tick.from.x}\n                      y1={tick.from.y}\n                      x2={tick.to.x}\n                      y2={tick.to.y}\n                      stroke={\n                        dark ? 'rgba(255,255,255, .2)' : 'rgba(0,0,0, .2)'\n                      }\n                    />\n                  ) : null}\n                  <text\n                    className=\"tickLabel\"\n                    style={{\n                      fontSize: 10,\n                      fill: dark ? 'rgba(255,255,255, .7)' : 'rgba(0,0,0, .7)',\n                      dominantBaseline: isRotated\n                        ? 'central'\n                        : axis.position === 'bottom'\n                        ? 'hanging'\n                        : axis.position === 'top'\n                        ? 'alphabetic'\n                        : 'central',\n                      textAnchor: isRotated\n                        ? 'end'\n                        : axis.position === 'right'\n                        ? 'start'\n                        : axis.position === 'left'\n                        ? 'end'\n                        : 'middle',\n                    }}\n                    transform={`translate(${tickLabelX}, ${tickLabelY}) rotate(${\n                      isRotated ? (axis.position === 'top' ? 60 : -60) : 0\n                    })`}\n                  >\n                    {(axis as AxisLinear<any>).formatters.scale(\n                      tick.value as number\n                    )}\n                  </text>\n                </g>\n              )\n            })}\n          </g>\n          <g className=\"grid\">\n            {ticks.map((tick, i) => {\n              return (\n                <g key={`vx-tick-${tick}-${i}`} className={'tick'}>\n                  {(axis.showGrid ?? true) && !isOuter ? (\n                    <line\n                      x1={tick.from.x}\n                      y1={tick.from.y}\n                      x2={tick.gridTo.x}\n                      y2={tick.gridTo.y}\n                      stroke={\n                        dark ? 'rgba(255,255,255, .05)' : 'rgba(0,0,0, .05)'\n                      }\n                    />\n                  ) : null}\n                </g>\n              )\n            })}\n          </g>\n        </g>\n      </g>\n    )\n  }\n\n  return axis.show ? (\n    <g ref={elRef}>\n      {renderAxis(false)}\n      {renderAxis(true)}\n    </g>\n  ) : null\n}\n\nfunction getTickPx<TDatum>(scale: Axis<TDatum>['scale'], value: any) {\n  let px = scale(value) ?? NaN\n\n  // @ts-ignore\n  if (scale.bandwidth) {\n    // @ts-ignore\n    return px + scale.bandwidth() / 2\n  }\n\n  return px\n}\n","import React from 'react'\n\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function usePrevious<T>(val: T) {\n  const ref = React.useRef<T>()\n\n  useIsomorphicLayoutEffect(() => {\n    ref.current = val\n  }, [val])\n\n  return ref.current\n}\n","import React from 'react'\n\nexport default function useLatestWhen<T>(obj: T, when: boolean = true) {\n  const ref = React.useRef<T | null>(when ? obj : null)\n\n  if (when) {\n    ref.current = obj\n  }\n\n  return ref.current\n}\n","import * as React from 'react'\n\nimport useIsomorphicLayoutEffect from './useIsomorphicLayoutEffect'\n\nexport default function usePortalElement() {\n  const [portalEl, setPortalEl] = React.useState<HTMLDivElement | null>()\n\n  useIsomorphicLayoutEffect(() => {\n    if (!portalEl) {\n      let element = document.getElementById(\n        'react-charts-portal'\n      ) as HTMLDivElement\n\n      if (!element) {\n        element = document.createElement('div')\n\n        element.setAttribute('id', 'react-charts-portal')\n\n        Object.assign(element.style, {\n          pointerEvents: 'none',\n          position: 'fixed',\n          left: 0,\n          right: 0,\n          top: 0,\n          bottom: 0,\n          'z-index': 99999999999,\n        })\n\n        document.body.append(element)\n      }\n\n      setPortalEl(element)\n    }\n  })\n\n  return portalEl\n}\n","import React from 'react'\n\nexport default function useRect(\n  element: Element | null | undefined,\n  enabled: boolean\n): DOMRect {\n  const rerender = React.useReducer(() => ({}), [])[1]\n\n  const rectRef = React.useRef<DOMRect>({\n    width: 0,\n    height: 0,\n    x: 0,\n    y: 0,\n    left: 0,\n    top: 0,\n    right: 0,\n    bottom: 0,\n  } as DOMRect)\n\n  const measure = React.useCallback(() => {\n    if (element) {\n      rectRef.current = element.getBoundingClientRect()\n    }\n  }, [element])\n\n  if (!rectRef.current) {\n    measure()\n  }\n\n  React.useEffect(() => {\n    if (!element || !enabled) {\n      return\n    }\n\n    const cb = () => {\n      measure()\n      rerender()\n    }\n\n    document.addEventListener('scroll', cb, true)\n\n    return () => {\n      document.removeEventListener('scroll', cb, true)\n    }\n  }, [element, enabled, measure, rerender])\n\n  React.useEffect(() => {\n    if (!element || !enabled) {\n      return\n    }\n\n    measure()\n    rerender()\n\n    const observer = new ResizeObserver(() => {\n      measure()\n      rerender()\n    })\n\n    observer.observe(element as Element)\n\n    return () => {\n      observer.unobserve(element as Element)\n    }\n  }, [element, enabled, measure, rerender])\n\n  return rectRef.current\n}\n","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","// Super fast physics simulations for JavaScript\n// Copyright 2014 Ralph Thomas\n// Licensed under the Apache License, Version 2.0\n// https://github.com/iamralpht/gravitas.js\n\n// Adapted to TypeScript and customized by Tanner Linsley (@tannerlinsley)\n\ntype Solution = {\n  x: (num: number) => number\n  dx: (num: number) => number\n}\n\nconst epsilon = 0.001\n\nfunction almostEqual(a: number, b: number) {\n  if (Number.isNaN(a) && Number.isNaN(b)) {\n    return true\n  }\n  return a > b - epsilon && a < b + epsilon\n}\n\nfunction almostZero(a: number) {\n  return almostEqual(a, 0)\n}\n\nexport class Spring {\n  private _m: number\n  private _k: number\n  private _c: number\n  private _solution: null | Solution\n  private _startTime: number\n  endPosition: number\n\n  constructor(\n    init: number,\n    mass: number,\n    springConstant: number,\n    damping: number\n  ) {\n    this._m = mass\n    this._k = springConstant\n    this._c = damping\n    this._solution = null\n    this.endPosition = init\n    this._startTime = 0\n  }\n\n  x(dt?: number) {\n    if (dt === undefined) {\n      dt = (new Date().getTime() - this._startTime) / 1000.0\n    }\n    return this._solution\n      ? this.endPosition + this._solution.x(dt)\n      : this.endPosition\n  }\n\n  private dx(dt?: number) {\n    if (dt === undefined) {\n      dt = (new Date().getTime() - this._startTime) / 1000.0\n    }\n    return this._solution ? this._solution.dx(dt) : 0\n  }\n\n  setEnd(x: number) {\n    const t = new Date().getTime()\n\n    let velocity = 0\n    let position = this.endPosition\n    if (this._solution) {\n      // Don't whack incoming velocity.\n      if (almostZero(velocity))\n        velocity = this._solution.dx((t - this._startTime) / 1000.0)\n      position = this._solution.x((t - this._startTime) / 1000.0)\n      if (almostZero(velocity)) velocity = 0\n      if (almostZero(position)) position = 0\n      position += this.endPosition\n    }\n    if (this._solution && almostZero(position - x) && almostZero(velocity)) {\n      return\n    }\n    this.endPosition = x\n    this._solution = this._solve(position - this.endPosition, velocity)\n    this._startTime = t\n  }\n\n  snap(x: number) {\n    this._startTime = new Date().getTime()\n    this.endPosition = x\n    this._solution = {\n      x() {\n        return 0\n      },\n      dx() {\n        return 0\n      },\n    }\n  }\n\n  done() {\n    return almostEqual(this.x(), this.endPosition) && almostZero(this.dx())\n  }\n\n  // reconfigure(mass: number, springConstant: number, damping: number) {\n  //   this._m = mass\n  //   this._k = springConstant\n  //   this._c = damping\n\n  //   if (this.done()) {\n  //     return\n  //   }\n  //   this._solution = this._solve(this.x() - this.endPosition, this.dx())\n  //   this._startTime = new Date().getTime()\n  // }\n\n  // springConstant() {\n  //   return this._k\n  // }\n\n  // damping() {\n  //   return this._c\n  // }\n\n  private _solve(initial: number, velocity: number): Solution {\n    const c = this._c\n    const m = this._m\n    const k = this._k\n    // Solve the quadratic equation; root = (-c +/- sqrt(c^2 - 4mk)) / 2m.\n    const cmk = c * c - 4 * m * k\n    if (cmk === 0) {\n      // The spring is critically damped.\n      // x = (c1 + c2*t) * e ^(-c/2m)*t\n      const r = -c / (2 * m)\n      const c1 = initial\n      const c2 = velocity / (r * initial)\n      return {\n        x(t) {\n          return (c1 + c2 * t) * Math.pow(Math.E, r * t)\n        },\n        dx(t) {\n          const pow = Math.pow(Math.E, r * t)\n          return r * (c1 + c2 * t) * pow + c2 * pow\n        },\n      }\n    } else if (cmk > 0) {\n      // The spring is overdamped; no bounces.\n      // x = c1*e^(r1*t) + c2*e^(r2t)\n      // Need to find r1 and r2, the roots, then solve c1 and c2.\n      const r1 = (-c - Math.sqrt(cmk)) / (2 * m)\n      const r2 = (-c + Math.sqrt(cmk)) / (2 * m)\n      const c2 = (velocity - r1 * initial) / (r2 - r1)\n      const c1 = initial - c2\n\n      return {\n        x(t) {\n          return c1 * Math.pow(Math.E, r1 * t) + c2 * Math.pow(Math.E, r2 * t)\n        },\n        dx(t) {\n          return (\n            c1 * r1 * Math.pow(Math.E, r1 * t) +\n            c2 * r2 * Math.pow(Math.E, r2 * t)\n          )\n        },\n      }\n    } else {\n      // The spring is underdamped, it has imaginary roots.\n      // r = -(c / 2*m) +- w*i\n      // w = sqrt(4mk - c^2) / 2m\n      // x = (e^-(c/2m)t) * (c1 * cos(wt) + c2 * sin(wt))\n      const w = Math.sqrt(4 * m * k - c * c) / (2 * m)\n      const r = -((c / 2) * m)\n      const c1 = initial\n      const c2 = (velocity - r * initial) / w\n\n      return {\n        x(t) {\n          return (\n            Math.pow(Math.E, r * t) *\n            (c1 * Math.cos(w * t) + c2 * Math.sin(w * t))\n          )\n        },\n        dx(t) {\n          const power = Math.pow(Math.E, r * t)\n          const cos = Math.cos(w * t)\n          const sin = Math.sin(w * t)\n          return (\n            power * (c2 * w * cos - c1 * w * sin) +\n            r * power * (c2 * sin + c1 * cos)\n          )\n        },\n      }\n    }\n  }\n}\n","import React from 'react'\nimport { Spring } from '../utils/spring'\nimport useGetLatest from './useGetLatest'\n\nexport function useSpring(\n  value: number,\n  config: [number, number, number],\n  cb: (x: number) => void,\n  immediate?: boolean,\n  _debug?: boolean\n) {\n  const springRef = React.useRef(new Spring(value, ...config))\n  const getValue = useGetLatest(value)\n\n  const [startRaf, stopRaf] = useRaf(() => {\n    cb(springRef.current.x())\n    return springRef.current.done()\n  })\n\n  const prevRef = React.useRef<any>()\n  const changed = prevRef.current !== value\n\n  React.useEffect(() => {\n    if (changed) {\n      if (immediate) {\n        springRef.current.snap(getValue())\n        startRaf()\n        return\n      }\n      springRef.current.setEnd(value)\n      startRaf()\n    }\n\n    prevRef.current = value\n  })\n\n  React.useEffect(() => {\n    return () => {\n      stopRaf()\n    }\n  }, [stopRaf])\n\n  return springRef.current\n}\n\nexport function useRaf(callback: () => any) {\n  const raf = React.useRef<number | null>(null)\n  const rafCallback = React.useRef(callback)\n  rafCallback.current = callback\n  const tick = React.useCallback(() => {\n    if (rafCallback.current()) return\n    raf.current = requestAnimationFrame(tick)\n  }, [])\n\n  return [\n    React.useMemo(() => tick, [tick]),\n    React.useMemo(\n      () => () => raf.current && cancelAnimationFrame(raf.current),\n      []\n    ),\n  ]\n}\n\n// Test\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport * as TSTB from 'ts-toolbelt'\n\nimport usePrevious from '../hooks/usePrevious'\nimport useLatestWhen from '../hooks/useLatestWhen'\nimport usePortalElement from '../hooks/usePortalElement'\nimport { AxisTime, CursorOptions, Datum } from '../types'\nimport { translate } from '../utils/Utils'\n//\nimport useChartContext from '../utils/chartContext'\nimport useRect from '../hooks/useRect'\nimport { useSpring } from '../hooks/useSpring'\nimport useGetLatest from '../hooks/useGetLatest'\n\ntype ResolvedCursorOptions = TSTB.Object.Required<\n  CursorOptions,\n  'show' | 'showLine' | 'showLabel'\n>\n\n//\n\nconst getLineBackgroundColor = (dark: boolean, bandWidth: number) =>\n  dark\n    ? `rgba(255,255,255,${bandWidth > 4 ? 0.15 : 0.3})`\n    : `rgba(0, 26, 39, ${bandWidth > 4 ? 0.15 : 0.3})`\n\nconst getBackgroundColor = (dark?: boolean) =>\n  dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)'\n\nfunction defaultCursor(options: CursorOptions): ResolvedCursorOptions {\n  return {\n    ...options,\n    show: options.show ?? true,\n    showLine: options.showLine ?? true,\n    showLabel: options.showLabel ?? true,\n  }\n}\n\nexport default function Cursors<TDatum>() {\n  const { getOptions } = useChartContext<TDatum>()\n\n  let primaryOptions = getOptions().primaryCursor ?? true\n  let secondaryOptions = getOptions().secondaryCursor ?? true\n\n  const resolvedPrimaryOptions = React.useMemo(\n    () =>\n      defaultCursor(\n        !primaryOptions\n          ? { show: false }\n          : typeof primaryOptions === 'boolean'\n          ? {}\n          : primaryOptions\n      ),\n    [primaryOptions]\n  )\n\n  const resolvedSecondaryOptions = React.useMemo(\n    () =>\n      defaultCursor(\n        !secondaryOptions\n          ? { show: false }\n          : typeof secondaryOptions === 'boolean'\n          ? {}\n          : secondaryOptions\n      ),\n    [secondaryOptions]\n  )\n\n  return (\n    <>\n      {resolvedPrimaryOptions.show && (\n        <Cursor primary options={resolvedPrimaryOptions} />\n      )}\n      {resolvedSecondaryOptions.show && (\n        <Cursor options={resolvedSecondaryOptions} />\n      )}\n    </>\n  )\n}\n\nfunction Cursor<TDatum>(props: {\n  primary?: boolean\n  options: ResolvedCursorOptions\n}) {\n  const {\n    getOptions,\n    svgRef,\n    gridDimensions,\n    focusedDatumState,\n    primaryAxis,\n    secondaryAxes,\n  } = useChartContext<TDatum>()\n\n  const getTooltipOptions = useGetLatest(props.options)\n\n  const [focusedDatum] = focusedDatumState\n  const latestFocusedDatum = useLatestWhen(focusedDatum, !!focusedDatum)\n\n  const secondaryAxis =\n    secondaryAxes.find(d => d.id === latestFocusedDatum?.secondaryAxisId) ??\n    secondaryAxes[0]\n\n  const axis = props.primary ? primaryAxis : secondaryAxis\n\n  const siblingAxis = props.primary ? secondaryAxis : primaryAxis\n\n  const resolveValue = (d: Datum<TDatum> | null) =>\n    d\n      ? axis.stacked\n        ? d.stackData?.[1]\n        : props.primary\n        ? d.primaryValue\n        : d.secondaryValue\n      : undefined\n\n  const datumValue = resolveValue(focusedDatum)\n\n  React.useEffect(() => {\n    getTooltipOptions()?.onChange?.(datumValue)\n  }, [getTooltipOptions, datumValue])\n\n  const value = props.options.value ?? datumValue\n\n  const latestPropsValue = useLatestWhen(\n    props.options.value,\n    props.options.value != null\n  )\n\n  const latestDatumValue = useLatestWhen(\n    resolveValue(latestFocusedDatum),\n    resolveValue(latestFocusedDatum) != null\n  )\n\n  const latestValue = latestPropsValue ?? latestDatumValue\n\n  // Get the sibling range\n  const siblingRange = siblingAxis.scale.range()\n\n  let x\n  let y\n  let x1\n  let x2\n  let y1\n  let y2\n  let alignPctX\n  let alignPctY\n\n  const bandWidth = axis.axisFamily === 'band' ? axis.scale.bandwidth() : 1\n\n  const show = typeof value !== 'undefined' && !Number.isNaN(value)\n\n  let px = axis.scale(value)\n\n  // Vertical alignment\n  if (axis.isVertical) {\n    y = px\n    y1 = (y ?? 0) - 1\n    y2 = (y ?? 0) + bandWidth\n    if (axis.position === 'left') {\n      x1 = siblingRange[0]\n      x2 = siblingRange[1]\n    } else {\n      x1 = siblingRange[1]\n      x2 = siblingRange[0]\n    }\n  } else {\n    x = px\n    x1 = (x ?? 0) - 1\n    x2 = (x ?? 0) + bandWidth\n    if (axis.position === 'top') {\n      y1 = siblingRange[0]\n      y2 = siblingRange[1]\n    } else {\n      y1 = siblingRange[1]\n      y2 = siblingRange[0]\n    }\n  }\n\n  let lineStartX = Math.min(x1, x2)\n  let lineStartY = Math.min(y1, y2)\n  let lineEndX = Math.max(x1, x2)\n  let lineEndY = Math.max(y1, y2)\n  let lineHeight = Math.max(lineEndY - lineStartY, 0)\n  let lineWidth = Math.max(lineEndX - lineStartX, 0)\n\n  let bubbleX\n  let bubbleY\n\n  // Bubble placement\n  if (axis.isVertical) {\n    if (axis.position === 'left') {\n      bubbleX = lineStartX\n    } else {\n      bubbleX = lineEndX\n    }\n\n    bubbleY = lineStartY + lineHeight / 2\n  } else {\n    if (axis.position === 'top') {\n      bubbleY = lineStartY\n    } else {\n      bubbleY = lineEndY\n    }\n\n    bubbleX = lineStartX + lineWidth / 2\n  }\n\n  // Bubble anchoring\n  if (axis.isVertical) {\n    alignPctY = -50\n    if (axis.position === 'left') {\n      alignPctX = -100\n    } else {\n      alignPctX = 0\n    }\n  } else {\n    alignPctX = -50\n    if (axis.position === 'top') {\n      alignPctY = -100\n    } else {\n      alignPctY = 0\n    }\n  }\n\n  const formattedValue = (axis as AxisTime<any>).formatters.cursor(latestValue)\n\n  const svgRect = useRect(svgRef.current, show)\n\n  const lineRef = React.useRef<HTMLDivElement | null>(null)\n  const bubbleRef = React.useRef<HTMLDivElement | null>(null)\n\n  const latestLineStartX = useLatestWhen(lineStartX, px != null)\n  const latestLineStartY = useLatestWhen(lineStartY, px != null)\n  const latestBubbleX = useLatestWhen(bubbleX, px != null)\n  const latestBubbleY = useLatestWhen(bubbleY, px != null)\n\n  const previousTruePx = usePrevious(px)\n  const immediate = previousTruePx == null && px !== null\n\n  lineStartX = (px != null ? lineStartX : latestLineStartX) ?? NaN\n  lineStartY = (px != null ? lineStartY : latestLineStartY) ?? NaN\n  bubbleX = (px != null ? bubbleX : latestBubbleX) ?? NaN\n  bubbleY = (px != null ? bubbleY : latestBubbleY) ?? NaN\n\n  const lineXSpring = useSpring(\n    lineStartX,\n    [1, 210, 20],\n    () => {\n      if (lineRef.current) {\n        lineRef.current.style.transform = `translate(${lineXSpring.x()}px, ${lineYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const lineYSpring = useSpring(\n    lineStartY,\n    [1, 210, 20],\n    () => {\n      if (lineRef.current) {\n        lineRef.current.style.transform = `translate(${lineXSpring.x()}px, ${lineYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const bubbleXSpring = useSpring(\n    bubbleX,\n    [1, 210, 20],\n    () => {\n      if (bubbleRef.current) {\n        bubbleRef.current.style.transform = `translate(${bubbleXSpring.x()}px, ${bubbleYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const bubbleYSpring = useSpring(\n    bubbleY,\n    [1, 210, 20],\n    () => {\n      if (bubbleRef.current) {\n        bubbleRef.current.style.transform = `translate(${bubbleXSpring.x()}px, ${bubbleYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const portalEl = usePortalElement()\n\n  return portalEl\n    ? ReactDOM.createPortal(\n        <div\n          style={{\n            fontFamily: 'sans-serif',\n            pointerEvents: 'none',\n            position: 'absolute',\n            top: 0,\n            left: 0,\n            transform: translate(\n              svgRect.left + gridDimensions.left,\n              svgRect.top + gridDimensions.top\n            ),\n            opacity: show ? 1 : 0,\n            transition: 'opacity .3s ease',\n          }}\n          className=\"Cursor\"\n        >\n          {/* Render the cursor line */}\n          {props.options.showLine ? (\n            <div\n              ref={lineRef}\n              style={{\n                width: `${lineWidth}px`,\n                height: `${lineHeight}px`,\n                position: 'absolute',\n                top: 0,\n                left: 0,\n                background: getLineBackgroundColor(\n                  getOptions().dark ?? false,\n                  bandWidth\n                ),\n              }}\n            />\n          ) : null}\n          {/* Render the cursor bubble */}\n          {props.options.showLabel ? (\n            <div\n              ref={bubbleRef}\n              style={{\n                position: 'absolute',\n                top: 0,\n                left: 0,\n              }}\n            >\n              {/* Render the cursor label */}\n              <div\n                style={{\n                  padding: '5px',\n                  fontSize: '10px',\n                  background: getBackgroundColor(getOptions().dark),\n                  color: getBackgroundColor(!getOptions().dark),\n                  borderRadius: '3px',\n                  position: 'relative',\n                  transform: `translate3d(${alignPctX}%, ${alignPctY}%, 0)`,\n                  whiteSpace: 'nowrap',\n                }}\n              >\n                {formattedValue}\n              </div>\n            </div>\n          ) : null}\n        </div>,\n        portalEl\n      )\n    : null\n}\n","import React from 'react'\n\nimport useRect from './useRect'\n\n//\n\n//\n\ntype AlignMode =\n  | 'center'\n  | 'start'\n  | 'end'\n  | 'top'\n  | 'right'\n  | 'bottom'\n  | 'left'\n\ntype Side = 'left' | 'right' | 'top' | 'bottom'\ntype SideOption = Side | `${Side} ${AlignMode}`\ntype SideAlign = [Side, AlignMode]\n\ntype StartKey = 'left' | 'top'\ntype LengthKey = 'width' | 'height'\n\ntype Dims = {\n  left: number\n  top: number\n  right: number\n  bottom: number\n  width: number\n  height: number\n}\n\n// These are the keys used internally to look up and measure\n// different sides of a bounding box within another\nconst sideSchemas = {\n  left: {\n    side: 'left',\n    startKey: 'left',\n    lengthKey: 'width',\n    crossStartKey: 'top',\n    crossLengthKey: 'height',\n    fromEnd: false,\n  },\n  right: {\n    side: 'right',\n    startKey: 'left',\n    lengthKey: 'width',\n    crossStartKey: 'top',\n    crossLengthKey: 'height',\n    fromEnd: true,\n  },\n  top: {\n    side: 'top',\n    startKey: 'top',\n    lengthKey: 'height',\n    crossStartKey: 'left',\n    crossLengthKey: 'width',\n    fromEnd: false,\n  },\n  bottom: {\n    side: 'bottom',\n    startKey: 'top',\n    lengthKey: 'height',\n    crossStartKey: 'left',\n    crossLengthKey: 'width',\n    fromEnd: true,\n  },\n} as const\n\n// This is the final Tootlip component. It's a render prop\n// that lets you attach handlers to elements, and render a tooltip\n// anchored to them in relation to the parent portal container (either the only\n// one defined or the one referenced by Id).\nexport function useAnchor(options: {\n  show: boolean\n  useLargest?: boolean\n  side: SideOption | SideOption[]\n  portalEl: Element | null | undefined\n  anchorEl: Element | null | undefined\n  tooltipEl: Element | null | undefined\n}) {\n  const portalDims = useRect(options.portalEl, options.show)\n  const anchorDims = useRect(options.anchorEl, options.show)\n  const tooltipDims = useRect(options.tooltipEl, options.show)\n\n  const sides = React.useMemo(() => {\n    const preSides = Array.isArray(options.side) ? options.side : [options.side]\n    return preSides.map(alignStr => {\n      const [side, align = 'center'] = alignStr.split(' ') as [Side, AlignMode]\n      const incompatibleSide = !['top', 'right', 'bottom', 'left'].find(\n        d => side === d\n      )\n\n      if (incompatibleSide) {\n        throw new Error(\n          `react-sticker: \"${side}\" is not a valid side! Must be one of ['top', 'right', 'bottom', 'left'].`\n        )\n      }\n\n      const incompatibleAlign = ![\n        'center',\n        'start',\n        'end',\n        'top',\n        'right',\n        'bottom',\n        'left',\n      ].find(d => align === d)\n\n      if (incompatibleAlign) {\n        throw new Error(\n          `react-sticker: \"${align}\" is not a valid side-alignment! Must be one of ['center', 'start', 'end', 'top', 'right', 'bottom', 'left'].`\n        )\n      }\n\n      return [side, align] as [Side, AlignMode]\n    })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [JSON.stringify(options.side)])\n\n  // IF we have all of the dimensions needed to calculate\n  // fits, then calculate the fit\n  const ready = portalDims && tooltipDims && anchorDims\n\n  const fit = React.useMemo(\n    () =>\n      ready && options.show\n        ? fitOnBestSide({\n            portalDims,\n            tooltipDims,\n            anchorDims,\n            sides,\n            useLargest: options.useLargest,\n          })\n        : null,\n    [\n      anchorDims,\n      options.show,\n      options.useLargest,\n      portalDims,\n      ready,\n      sides,\n      tooltipDims,\n    ]\n  )\n\n  return {\n    fit,\n    style: {\n      position: 'absolute' as const,\n      visibility: ready ? ('visible' as const) : ('hidden' as const),\n      // The fit styles are applied here from the best fit\n      ...fit?.style,\n    },\n  }\n}\n\n// This function selects the best side for the tooltip by using\n// the ranked fits.\nfunction fitOnBestSide({\n  portalDims,\n  tooltipDims,\n  anchorDims,\n  sides,\n  useLargest,\n}: {\n  portalDims: Dims\n  tooltipDims: Dims\n  anchorDims: Dims\n  sides: SideAlign[]\n  useLargest?: boolean\n}) {\n  const fits = sides.map(([side, align]) =>\n    measureFit({\n      ...sideSchemas[side],\n      align,\n      portalDims,\n      tooltipDims,\n      anchorDims,\n    })\n  )\n\n  if (useLargest) {\n    fits.sort((a, b) => b.fitRatio - a.fitRatio)\n    return fits[0]\n  }\n\n  return fits.find(fit => fit.fitRatio >= 1) || fits[0]\n}\n\n// This function takes a side and bunch of calculated dimensions from\n// the portal, tooltip and target. Then it returns\n// the percentage fit and the style to achieve this specific fit\nfunction measureFit({\n  side,\n  align,\n  startKey,\n  lengthKey,\n  crossStartKey,\n  crossLengthKey,\n  fromEnd,\n  portalDims,\n  tooltipDims,\n  anchorDims,\n}: {\n  side: Side\n  align: AlignMode\n  startKey: StartKey\n  lengthKey: LengthKey\n  crossStartKey: StartKey\n  crossLengthKey: LengthKey\n  fromEnd: boolean\n  portalDims: Dims\n  tooltipDims: Dims\n  anchorDims: Dims\n}) {\n  const parentStart = portalDims[startKey]\n  const parentLength = portalDims[lengthKey]\n  const crossParentStart = portalDims[crossStartKey]\n  const crossParentLength = portalDims[crossLengthKey]\n  const anchorStart = anchorDims[startKey] - portalDims[startKey]\n  const anchorLength = anchorDims[lengthKey]\n  const crossAnchorStart = anchorDims[crossStartKey]\n  const crossAnchorLength = anchorDims[crossLengthKey]\n  const crossAnchorWidth = anchorDims[crossLengthKey]\n  const targetLength = tooltipDims[lengthKey]\n  const crossTargetLength = tooltipDims[crossLengthKey]\n\n  let targetStart: number\n  let fitRatio: number\n\n  if (!fromEnd) {\n    targetStart = anchorStart - targetLength\n    fitRatio = Math.min(anchorStart / targetLength)\n  } else {\n    targetStart = anchorStart + anchorLength\n    fitRatio = (parentLength - (anchorStart + anchorLength)) / targetLength\n  }\n\n  targetStart = Math.max(parentStart, Math.min(targetStart, parentLength))\n\n  let crossTargetStart: number\n\n  if (startKey === 'left') {\n    if (align === 'top') {\n      align = 'start'\n    } else if (align === 'bottom') {\n      align = 'end'\n    }\n  } else {\n    if (align === 'left') {\n      align = 'start'\n    } else if (align === 'right') {\n      align = 'end'\n    }\n  }\n\n  if (!['start', 'center', 'end'].includes(align)) {\n    align = 'center'\n  }\n\n  if (align === 'start') {\n    crossTargetStart = crossAnchorStart\n  } else if (align === 'end') {\n    crossTargetStart = crossAnchorStart + crossAnchorWidth - crossTargetLength\n  } else {\n    crossTargetStart =\n      crossAnchorStart + crossAnchorLength / 2 - crossTargetLength / 2\n  }\n\n  crossTargetStart = Math.max(\n    crossParentStart,\n    Math.min(crossTargetStart, crossParentLength - crossTargetLength)\n  )\n\n  return {\n    side,\n    align,\n    startKey,\n    lengthKey,\n    crossStartKey,\n    crossLengthKey,\n    fromEnd,\n    portalDims,\n    tooltipDims,\n    anchorDims,\n    fitRatio,\n    style: {\n      [startKey]: targetStart,\n      [crossStartKey]: crossTargetStart,\n    } as Record<StartKey, number>,\n  }\n}\n","import { sum } from 'd3-array'\nimport React, { CSSProperties } from 'react'\n\nimport { useAnchor } from '../hooks/useAnchor'\nimport useLatestWhen from '../hooks/useLatestWhen'\nimport {\n  Axis,\n  AxisLinear,\n  AxisTime,\n  Datum,\n  ResolvedChartOptions,\n} from '../types'\n\n//\n//\n\nconst showCount = 10\n\nconst triangleSize = 7\n\nconst getBackgroundColor = (dark?: boolean) =>\n  dark ? 'rgba(255,255,255,.9)' : 'rgba(0, 26, 39, 0.9)'\n\nexport type TooltipRendererProps<TDatum> = {\n  focusedDatum: Datum<TDatum> | null\n  getOptions: () => ResolvedChartOptions<TDatum>\n  primaryAxis: Axis<TDatum>\n  secondaryAxes: Axis<TDatum>[]\n  secondaryAxis: Axis<TDatum>\n  getDatumStyle: (datum: Datum<TDatum>) => CSSProperties\n  anchor: ReturnType<typeof useAnchor>\n}\n\nexport default function tooltipRenderer<TDatum>(\n  props: TooltipRendererProps<TDatum>\n) {\n  return <TooltipRenderer {...props} />\n}\n\nfunction TooltipRenderer<TDatum>(props: TooltipRendererProps<TDatum>) {\n  const latestFit = useLatestWhen(props.anchor.fit, !!props.anchor.fit)\n\n  if (!props.focusedDatum) {\n    return null\n  }\n\n  const {\n    primaryAxis,\n    secondaryAxis,\n    getDatumStyle,\n    focusedDatum,\n    secondaryAxes,\n  } = props\n\n  const { tooltip, dark } = props.getOptions()\n\n  const groupDatums = props.focusedDatum?.tooltipGroup ?? []\n\n  const resolvedShowCount = showCount % 2 === 0 ? showCount : showCount + 1\n  const length = groupDatums.length\n\n  // Get the focused series' index\n  const activeIndex = groupDatums.findIndex(d => d === focusedDatum)\n  // Get the start by going back half of the showCount\n  let start = activeIndex > -1 ? activeIndex - resolvedShowCount / 2 : 0\n  // Make sure it's at least 0\n  start = Math.max(start, 0)\n  // Use the start and add the showCount to get the end\n  let end = activeIndex > -1 ? start + resolvedShowCount : length\n  // Don't let the end go passed the length\n  end = Math.min(end, length)\n  // Double check we aren't clipping the start\n  start = Math.max(end - resolvedShowCount, 0)\n  // Slice the datums by start and end\n  const visibleSortedGroupDatums = groupDatums.slice(start, end)\n  // Detect if we have previous items\n  const hasPrevious = start > 0\n  // Or next items\n  const hasNext = end < length\n\n  const finalAlign = `${latestFit?.side}-${latestFit?.align}`\n\n  let arrowPosition\n  let triangleStyles\n\n  if (!arrowPosition) {\n    if (finalAlign === 'left-center') {\n      arrowPosition = 'right'\n    } else if (finalAlign === 'right-center') {\n      arrowPosition = 'left'\n    } else if (finalAlign === 'top-center') {\n      arrowPosition = 'bottom'\n    } else if (finalAlign === 'bottom-center') {\n      arrowPosition = 'top'\n    } else if (finalAlign === 'right-start') {\n      arrowPosition = 'bottomLeft'\n    } else if (finalAlign === 'right-end') {\n      arrowPosition = 'topLeft'\n    } else if (finalAlign === 'left-start') {\n      arrowPosition = 'bottomRight'\n    } else if (finalAlign === 'left-end') {\n      arrowPosition = 'topRight'\n    }\n  }\n\n  const backgroundColor = getBackgroundColor(dark)\n\n  if (arrowPosition === 'bottom') {\n    triangleStyles = {\n      top: '100%',\n      left: '50%',\n      transform: 'translate3d(-50%, 0%, 0)',\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderTop: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'top') {\n    triangleStyles = {\n      top: '0%',\n      left: '50%',\n      transform: 'translate3d(-50%, -100%, 0)',\n      borderLeft: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'right') {\n    triangleStyles = {\n      top: '50%',\n      left: '100%',\n      transform: 'translate3d(0%, -50%, 0)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'left') {\n    triangleStyles = {\n      top: '50%',\n      left: '0%',\n      transform: 'translate3d(-100%, -50%, 0)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'topRight') {\n    triangleStyles = {\n      top: '0%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'bottomRight') {\n    triangleStyles = {\n      top: '100%',\n      left: '100%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderLeft: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'topLeft') {\n    triangleStyles = {\n      top: '0%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else if (arrowPosition === 'bottomLeft') {\n    triangleStyles = {\n      top: '100%',\n      left: '0%',\n      transform: 'translate3d(-50%, -50%, 0) rotate(-45deg)',\n      borderTop: `${triangleSize * 0.8}px solid transparent`,\n      borderBottom: `${triangleSize * 0.8}px solid transparent`,\n      borderRight: `${triangleSize * 2}px solid ${backgroundColor}`,\n    }\n  } else {\n    triangleStyles = {\n      opacity: 0,\n    }\n  }\n\n  return (\n    <div\n      style={{\n        position: 'relative',\n        fontSize: '10px',\n        padding: '5px',\n        background: getBackgroundColor(dark),\n        color: dark ? 'black' : 'white',\n        borderRadius: '3px',\n      }}\n    >\n      <div\n        style={{\n          position: 'absolute',\n          width: 0,\n          height: 0,\n          ...triangleStyles,\n        }}\n      />\n      <div>\n        <div\n          style={{\n            marginBottom: '3px',\n            textAlign: 'center',\n          }}\n        >\n          {tooltip.groupingMode === 'series' ? (\n            <strong>{focusedDatum.seriesLabel}</strong>\n          ) : tooltip.groupingMode === 'secondary' ? (\n            <strong>\n              {(secondaryAxis as AxisTime<any>).formatters.tooltip(\n                focusedDatum.secondaryValue\n              )}\n            </strong>\n          ) : (\n            <strong>\n              {(primaryAxis as AxisTime<any>).formatters.tooltip(\n                focusedDatum.primaryValue\n              )}\n            </strong>\n          )}\n        </div>\n        <table\n          style={{\n            whiteSpace: 'nowrap',\n          }}\n        >\n          <tbody>\n            {hasPrevious ? (\n              <tr\n                style={{\n                  opacity: 0.8,\n                }}\n              >\n                <td />\n                <td>...</td>\n                <td />\n              </tr>\n            ) : null}\n            {visibleSortedGroupDatums.map((sortedDatum, i) => {\n              const active = sortedDatum === focusedDatum\n\n              const datumSecondaryAxis = secondaryAxes.find(\n                d => d.id === sortedDatum.secondaryAxisId\n              )\n\n              return (\n                <tr\n                  key={i}\n                  style={{\n                    opacity: active ? 1 : 0.8,\n                    fontWeight: active ? 'bold' : undefined,\n                  }}\n                >\n                  <td\n                    style={{\n                      display: 'flex',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                    }}\n                  >\n                    <svg width=\"14\" height=\"14\">\n                      <circle\n                        cx=\"7\"\n                        cy=\"7\"\n                        r=\"5\"\n                        style={{\n                          ...getDatumStyle(sortedDatum),\n                          stroke: dark ? 'black' : 'white',\n                          strokeWidth: active ? 2 : 1,\n                        }}\n                      />\n                    </svg>\n                  </td>\n                  {tooltip.groupingMode === 'series' ? (\n                    <React.Fragment>\n                      <td>\n                        {(primaryAxis as AxisTime<any>).formatters.tooltip(\n                          sortedDatum.primaryValue\n                        )}\n                        : &nbsp;\n                      </td>\n                      <td\n                        style={{\n                          textAlign: 'right',\n                        }}\n                      >\n                        {(\n                          datumSecondaryAxis as AxisTime<any>\n                        ).formatters.tooltip(sortedDatum.secondaryValue)}\n                      </td>\n                    </React.Fragment>\n                  ) : tooltip.groupingMode === 'secondary' ? (\n                    <React.Fragment>\n                      <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                      <td\n                        style={{\n                          textAlign: 'right',\n                        }}\n                      >\n                        {(primaryAxis as AxisTime<any>).formatters.tooltip(\n                          sortedDatum.primaryValue\n                        )}\n                      </td>\n                    </React.Fragment>\n                  ) : (\n                    <React.Fragment>\n                      <td>{sortedDatum.seriesLabel}: &nbsp;</td>\n                      <td\n                        style={{\n                          textAlign: 'right',\n                        }}\n                      >\n                        {(\n                          datumSecondaryAxis as AxisTime<any>\n                        ).formatters.tooltip(sortedDatum.secondaryValue)}\n                      </td>\n                    </React.Fragment>\n                  )}\n                </tr>\n              )\n            })}\n            {hasNext ? (\n              <tr\n                style={{\n                  opacity: 0.8,\n                }}\n              >\n                <td />\n                <td>...</td>\n                <td />\n              </tr>\n            ) : null}\n            {(focusedDatum.tooltipGroup ?? []).length > 1\n              ? props.secondaryAxes\n                  .filter(d => d.stacked)\n                  .map((secondaryAxis, i) => {\n                    return (\n                      <tr key={`${secondaryAxis.id}_${i}`}>\n                        <td\n                          style={{\n                            paddingTop: '5px',\n                          }}\n                        >\n                          <div\n                            style={{\n                              width: '12px',\n                              height: '12px',\n                              backgroundColor: dark\n                                ? 'rgba(0, 26, 39, 0.3)'\n                                : 'rgba(255,255,255,.2)',\n                              borderRadius: '50px',\n                            }}\n                          />\n                        </td>\n                        <td\n                          style={{\n                            paddingTop: '5px',\n                          }}\n                        >\n                          {props.secondaryAxes.length > 1\n                            ? secondaryAxis.id ?? `Axis ${i + 1} `\n                            : ''}\n                          Total: &nbsp;\n                        </td>\n                        <td\n                          style={{\n                            paddingTop: '5px',\n                          }}\n                        >\n                          {/* {secondaryAxis.format(\n                  [...focusedDatum.group].reverse()[0].totalValue,\n                  -1\n                )} */}\n                          {(secondaryAxis as AxisLinear<any>).formatters.scale(\n                            sum(\n                              focusedDatum.tooltipGroup ?? [],\n                              d => d.secondaryValue\n                            )\n                          )}\n                        </td>\n                      </tr>\n                    )\n                  })\n              : null}\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { useAnchor } from '../hooks/useAnchor'\nimport useLatestWhen from '../hooks/useLatestWhen'\nimport usePortalElement from '../hooks/usePortalElement'\nimport usePrevious from '../hooks/usePrevious'\nimport { Datum, ResolvedTooltipOptions, TooltipOptions } from '../types'\n//\nimport useChartContext from '../utils/chartContext'\nimport TooltipRenderer from './TooltipRenderer'\nimport useRect from '../hooks/useRect'\nimport { useSpring } from '../hooks/useSpring'\n\n//\n\nexport function defaultTooltip<TDatum>(\n  options: boolean | TooltipOptions<TDatum> = {}\n): ResolvedTooltipOptions<TDatum> {\n  if (options === true) {\n    options = { show: true }\n  } else if (options === false) {\n    options = { show: false }\n  }\n\n  return {\n    show: true,\n    ...options,\n    align: options.align ?? 'auto',\n    alignPriority: options.alignPriority ?? [\n      'right',\n      'topRight',\n      'bottomRight',\n      'left',\n      'topLeft',\n      'bottomLeft',\n      'top',\n      'bottom',\n    ],\n    padding: options.padding ?? 5,\n    arrowPadding: options.arrowPadding ?? 7,\n    // anchor: options.anchor ?? 'closest',\n    render: options.render ?? TooltipRenderer,\n  }\n}\n\nexport default function Tooltip<TDatum>(): React.ReactPortal | null {\n  const {\n    focusedDatumState,\n    getOptions,\n    primaryAxis,\n    secondaryAxes,\n    getDatumStatusStyle,\n    svgRef,\n  } = useChartContext<TDatum>()\n\n  const [focusedDatum] = focusedDatumState\n  const latestFocusedDatum = useLatestWhen(focusedDatum, !!focusedDatum)\n\n  const secondaryAxis =\n    secondaryAxes.find(d => d.id === latestFocusedDatum?.secondaryAxisId) ??\n    secondaryAxes[0]\n\n  const portalEl = usePortalElement()\n\n  const [tooltipEl, setTooltipEl] = React.useState<HTMLDivElement | null>()\n\n  const svgRect = useRect(svgRef.current, !!focusedDatum?.element)\n\n  const anchorEl = React.useMemo(() => {\n    const anchorRect =\n      latestFocusedDatum?.element?.getBoundingClientRect() ?? null\n\n    if (!anchorRect) {\n      return null\n    }\n\n    if (!svgRect) return\n\n    const translateX = anchorRect.left ?? 0\n    const translateY = anchorRect.top ?? 0\n    const width = anchorRect.width ?? 0\n    const height = anchorRect.height ?? 0\n\n    const el = document.createElement('div')\n\n    el.getBoundingClientRect = () =>\n      ({\n        x: translateX,\n        y: translateY,\n        width: width,\n        height: height,\n        top: translateY,\n        left: translateX,\n        bottom: translateY + width,\n        right: translateX + height,\n      } as any)\n\n    return el\n  }, [latestFocusedDatum?.element, svgRect])\n\n  const anchor = useAnchor({\n    show: !!focusedDatum,\n    portalEl,\n    anchorEl,\n    tooltipEl,\n    side: ['right', 'left', 'top', 'bottom'],\n  })\n\n  const previousAnchor = usePrevious(anchor)\n  const latestStableAnchor = useLatestWhen(anchor, !!anchor.fit) ?? anchor\n\n  const { visibility, ...anchorStyle } = latestStableAnchor.style\n\n  const tooltipRef = React.useRef<HTMLDivElement | null>(null)\n\n  const immediate = Number.isNaN(previousAnchor?.style.left)\n\n  const tooltipXSpring = useSpring(\n    anchorStyle.left || 0,\n    [1, 210, 30],\n    () => {\n      if (tooltipRef.current) {\n        tooltipRef.current.style.transform = `translate(${tooltipXSpring.x()}px, ${tooltipYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  const tooltipYSpring = useSpring(\n    anchorStyle.top || 0,\n    [1, 210, 30],\n    () => {\n      if (tooltipRef.current) {\n        tooltipRef.current.style.transform = `translate(${tooltipXSpring.x()}px, ${tooltipYSpring.x()}px)`\n      }\n    },\n    immediate\n  )\n\n  // const springProps = useSpring({\n  //   ...anchorStyle,\n  //   left: anchorStyle.left || 0,\n  //   top: anchorStyle.top || 0,\n  //   config: { mass: 1, tension: 210, friction: 30 },\n  //   immediate: key => {\n  //     if (['left', 'top'].includes(key)) {\n  //       return Number.isNaN(previousAnchor?.style.left)\n  //     }\n\n  //     return false\n  //   },\n  // })\n\n  const show = getOptions().tooltip.show\n\n  const latestFit = useLatestWhen(anchor.fit, !!anchor.fit)\n\n  return show && portalEl\n    ? ReactDOM.createPortal(\n        <div\n          ref={tooltipRef}\n          style={{\n            position: anchorStyle.position,\n            opacity: !!focusedDatum ? 1 : 0,\n            transition: 'opacity .3s ease',\n          }}\n        >\n          <div\n            ref={el => setTooltipEl(el)}\n            style={{\n              fontFamily: 'sans-serif',\n              ...(latestFit?.startKey === 'left'\n                ? {\n                    padding: '0 10px',\n                  }\n                : {\n                    padding: '10px 0',\n                  }),\n            }}\n          >\n            {getOptions().tooltip.render({\n              getOptions,\n              focusedDatum: latestFocusedDatum,\n              primaryAxis,\n              secondaryAxes,\n              secondaryAxis,\n              getDatumStyle: (datum: Datum<TDatum>) =>\n                getDatumStatusStyle(datum, focusedDatum),\n              anchor,\n            })}\n          </div>\n        </div>,\n        portalEl\n      )\n    : null\n}\n","\nconst EPSILON = Math.pow(2, -52);\nconst EDGE_STACK = new Uint32Array(512);\n\nexport default class Delaunator {\n\n    static from(points, getX = defaultGetX, getY = defaultGetY) {\n        const n = points.length;\n        const coords = new Float64Array(n * 2);\n\n        for (let i = 0; i < n; i++) {\n            const p = points[i];\n            coords[2 * i] = getX(p);\n            coords[2 * i + 1] = getY(p);\n        }\n\n        return new Delaunator(coords);\n    }\n\n    constructor(coords) {\n        const n = coords.length >> 1;\n        if (n > 0 && typeof coords[0] !== 'number') throw new Error('Expected coords to contain numbers.');\n\n        this.coords = coords;\n\n        // arrays that will store the triangulation graph\n        const maxTriangles = Math.max(2 * n - 5, 0);\n        this._triangles = new Uint32Array(maxTriangles * 3);\n        this._halfedges = new Int32Array(maxTriangles * 3);\n\n        // temporary arrays for tracking the edges of the advancing convex hull\n        this._hashSize = Math.ceil(Math.sqrt(n));\n        this._hullPrev = new Uint32Array(n); // edge to prev edge\n        this._hullNext = new Uint32Array(n); // edge to next edge\n        this._hullTri = new Uint32Array(n); // edge to adjacent triangle\n        this._hullHash = new Int32Array(this._hashSize).fill(-1); // angular edge hash\n\n        // temporary arrays for sorting points\n        this._ids = new Uint32Array(n);\n        this._dists = new Float64Array(n);\n\n        this.update();\n    }\n\n    update() {\n        const {coords, _hullPrev: hullPrev, _hullNext: hullNext, _hullTri: hullTri, _hullHash: hullHash} =  this;\n        const n = coords.length >> 1;\n\n        // populate an array of point indices; calculate input data bbox\n        let minX = Infinity;\n        let minY = Infinity;\n        let maxX = -Infinity;\n        let maxY = -Infinity;\n\n        for (let i = 0; i < n; i++) {\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n            if (x < minX) minX = x;\n            if (y < minY) minY = y;\n            if (x > maxX) maxX = x;\n            if (y > maxY) maxY = y;\n            this._ids[i] = i;\n        }\n        const cx = (minX + maxX) / 2;\n        const cy = (minY + maxY) / 2;\n\n        let minDist = Infinity;\n        let i0, i1, i2;\n\n        // pick a seed point close to the center\n        for (let i = 0; i < n; i++) {\n            const d = dist(cx, cy, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist) {\n                i0 = i;\n                minDist = d;\n            }\n        }\n        const i0x = coords[2 * i0];\n        const i0y = coords[2 * i0 + 1];\n\n        minDist = Infinity;\n\n        // find the point closest to the seed\n        for (let i = 0; i < n; i++) {\n            if (i === i0) continue;\n            const d = dist(i0x, i0y, coords[2 * i], coords[2 * i + 1]);\n            if (d < minDist && d > 0) {\n                i1 = i;\n                minDist = d;\n            }\n        }\n        let i1x = coords[2 * i1];\n        let i1y = coords[2 * i1 + 1];\n\n        let minRadius = Infinity;\n\n        // find the third point which forms the smallest circumcircle with the first two\n        for (let i = 0; i < n; i++) {\n            if (i === i0 || i === i1) continue;\n            const r = circumradius(i0x, i0y, i1x, i1y, coords[2 * i], coords[2 * i + 1]);\n            if (r < minRadius) {\n                i2 = i;\n                minRadius = r;\n            }\n        }\n        let i2x = coords[2 * i2];\n        let i2y = coords[2 * i2 + 1];\n\n        if (minRadius === Infinity) {\n            // order collinear points by dx (or dy if all x are identical)\n            // and return the list as a hull\n            for (let i = 0; i < n; i++) {\n                this._dists[i] = (coords[2 * i] - coords[0]) || (coords[2 * i + 1] - coords[1]);\n            }\n            quicksort(this._ids, this._dists, 0, n - 1);\n            const hull = new Uint32Array(n);\n            let j = 0;\n            for (let i = 0, d0 = -Infinity; i < n; i++) {\n                const id = this._ids[i];\n                if (this._dists[id] > d0) {\n                    hull[j++] = id;\n                    d0 = this._dists[id];\n                }\n            }\n            this.hull = hull.subarray(0, j);\n            this.triangles = new Uint32Array(0);\n            this.halfedges = new Uint32Array(0);\n            return;\n        }\n\n        // swap the order of the seed points for counter-clockwise orientation\n        if (orient(i0x, i0y, i1x, i1y, i2x, i2y)) {\n            const i = i1;\n            const x = i1x;\n            const y = i1y;\n            i1 = i2;\n            i1x = i2x;\n            i1y = i2y;\n            i2 = i;\n            i2x = x;\n            i2y = y;\n        }\n\n        const center = circumcenter(i0x, i0y, i1x, i1y, i2x, i2y);\n        this._cx = center.x;\n        this._cy = center.y;\n\n        for (let i = 0; i < n; i++) {\n            this._dists[i] = dist(coords[2 * i], coords[2 * i + 1], center.x, center.y);\n        }\n\n        // sort the points by distance from the seed triangle circumcenter\n        quicksort(this._ids, this._dists, 0, n - 1);\n\n        // set up the seed triangle as the starting hull\n        this._hullStart = i0;\n        let hullSize = 3;\n\n        hullNext[i0] = hullPrev[i2] = i1;\n        hullNext[i1] = hullPrev[i0] = i2;\n        hullNext[i2] = hullPrev[i1] = i0;\n\n        hullTri[i0] = 0;\n        hullTri[i1] = 1;\n        hullTri[i2] = 2;\n\n        hullHash.fill(-1);\n        hullHash[this._hashKey(i0x, i0y)] = i0;\n        hullHash[this._hashKey(i1x, i1y)] = i1;\n        hullHash[this._hashKey(i2x, i2y)] = i2;\n\n        this.trianglesLen = 0;\n        this._addTriangle(i0, i1, i2, -1, -1, -1);\n\n        for (let k = 0, xp, yp; k < this._ids.length; k++) {\n            const i = this._ids[k];\n            const x = coords[2 * i];\n            const y = coords[2 * i + 1];\n\n            // skip near-duplicate points\n            if (k > 0 && Math.abs(x - xp) <= EPSILON && Math.abs(y - yp) <= EPSILON) continue;\n            xp = x;\n            yp = y;\n\n            // skip seed triangle points\n            if (i === i0 || i === i1 || i === i2) continue;\n\n            // find a visible edge on the convex hull using edge hash\n            let start = 0;\n            for (let j = 0, key = this._hashKey(x, y); j < this._hashSize; j++) {\n                start = hullHash[(key + j) % this._hashSize];\n                if (start !== -1 && start !== hullNext[start]) break;\n            }\n\n            start = hullPrev[start];\n            let e = start, q;\n            while (q = hullNext[e], !orient(x, y, coords[2 * e], coords[2 * e + 1], coords[2 * q], coords[2 * q + 1])) {\n                e = q;\n                if (e === start) {\n                    e = -1;\n                    break;\n                }\n            }\n            if (e === -1) continue; // likely a near-duplicate point; skip it\n\n            // add the first triangle from the point\n            let t = this._addTriangle(e, i, hullNext[e], -1, -1, hullTri[e]);\n\n            // recursively flip triangles from the point until they satisfy the Delaunay condition\n            hullTri[i] = this._legalize(t + 2);\n            hullTri[e] = t; // keep track of boundary triangles on the hull\n            hullSize++;\n\n            // walk forward through the hull, adding more triangles and flipping recursively\n            let n = hullNext[e];\n            while (q = hullNext[n], orient(x, y, coords[2 * n], coords[2 * n + 1], coords[2 * q], coords[2 * q + 1])) {\n                t = this._addTriangle(n, i, q, hullTri[i], -1, hullTri[n]);\n                hullTri[i] = this._legalize(t + 2);\n                hullNext[n] = n; // mark as removed\n                hullSize--;\n                n = q;\n            }\n\n            // walk backward from the other side, adding more triangles and flipping\n            if (e === start) {\n                while (q = hullPrev[e], orient(x, y, coords[2 * q], coords[2 * q + 1], coords[2 * e], coords[2 * e + 1])) {\n                    t = this._addTriangle(q, i, e, -1, hullTri[e], hullTri[q]);\n                    this._legalize(t + 2);\n                    hullTri[q] = t;\n                    hullNext[e] = e; // mark as removed\n                    hullSize--;\n                    e = q;\n                }\n            }\n\n            // update the hull indices\n            this._hullStart = hullPrev[i] = e;\n            hullNext[e] = hullPrev[n] = i;\n            hullNext[i] = n;\n\n            // save the two new edges in the hash table\n            hullHash[this._hashKey(x, y)] = i;\n            hullHash[this._hashKey(coords[2 * e], coords[2 * e + 1])] = e;\n        }\n\n        this.hull = new Uint32Array(hullSize);\n        for (let i = 0, e = this._hullStart; i < hullSize; i++) {\n            this.hull[i] = e;\n            e = hullNext[e];\n        }\n\n        // trim typed triangle mesh arrays\n        this.triangles = this._triangles.subarray(0, this.trianglesLen);\n        this.halfedges = this._halfedges.subarray(0, this.trianglesLen);\n    }\n\n    _hashKey(x, y) {\n        return Math.floor(pseudoAngle(x - this._cx, y - this._cy) * this._hashSize) % this._hashSize;\n    }\n\n    _legalize(a) {\n        const {_triangles: triangles, _halfedges: halfedges, coords} = this;\n\n        let i = 0;\n        let ar = 0;\n\n        // recursion eliminated with a fixed-size stack\n        while (true) {\n            const b = halfedges[a];\n\n            /* if the pair of triangles doesn't satisfy the Delaunay condition\n             * (p1 is inside the circumcircle of [p0, pl, pr]), flip them,\n             * then do the same check/flip recursively for the new pair of triangles\n             *\n             *           pl                    pl\n             *          /||\\                  /  \\\n             *       al/ || \\bl            al/    \\a\n             *        /  ||  \\              /      \\\n             *       /  a||b  \\    flip    /___ar___\\\n             *     p0\\   ||   /p1   =>   p0\\---bl---/p1\n             *        \\  ||  /              \\      /\n             *       ar\\ || /br             b\\    /br\n             *          \\||/                  \\  /\n             *           pr                    pr\n             */\n            const a0 = a - a % 3;\n            ar = a0 + (a + 2) % 3;\n\n            if (b === -1) { // convex hull edge\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n                continue;\n            }\n\n            const b0 = b - b % 3;\n            const al = a0 + (a + 1) % 3;\n            const bl = b0 + (b + 2) % 3;\n\n            const p0 = triangles[ar];\n            const pr = triangles[a];\n            const pl = triangles[al];\n            const p1 = triangles[bl];\n\n            const illegal = inCircle(\n                coords[2 * p0], coords[2 * p0 + 1],\n                coords[2 * pr], coords[2 * pr + 1],\n                coords[2 * pl], coords[2 * pl + 1],\n                coords[2 * p1], coords[2 * p1 + 1]);\n\n            if (illegal) {\n                triangles[a] = p1;\n                triangles[b] = p0;\n\n                const hbl = halfedges[bl];\n\n                // edge swapped on the other side of the hull (rare); fix the halfedge reference\n                if (hbl === -1) {\n                    let e = this._hullStart;\n                    do {\n                        if (this._hullTri[e] === bl) {\n                            this._hullTri[e] = a;\n                            break;\n                        }\n                        e = this._hullPrev[e];\n                    } while (e !== this._hullStart);\n                }\n                this._link(a, hbl);\n                this._link(b, halfedges[ar]);\n                this._link(ar, bl);\n\n                const br = b0 + (b + 1) % 3;\n\n                // don't worry about hitting the cap: it can only happen on extremely degenerate input\n                if (i < EDGE_STACK.length) {\n                    EDGE_STACK[i++] = br;\n                }\n            } else {\n                if (i === 0) break;\n                a = EDGE_STACK[--i];\n            }\n        }\n\n        return ar;\n    }\n\n    _link(a, b) {\n        this._halfedges[a] = b;\n        if (b !== -1) this._halfedges[b] = a;\n    }\n\n    // add a new triangle given vertex indices and adjacent half-edge ids\n    _addTriangle(i0, i1, i2, a, b, c) {\n        const t = this.trianglesLen;\n\n        this._triangles[t] = i0;\n        this._triangles[t + 1] = i1;\n        this._triangles[t + 2] = i2;\n\n        this._link(t, a);\n        this._link(t + 1, b);\n        this._link(t + 2, c);\n\n        this.trianglesLen += 3;\n\n        return t;\n    }\n}\n\n// monotonically increases with real angle, but doesn't need expensive trigonometry\nfunction pseudoAngle(dx, dy) {\n    const p = dx / (Math.abs(dx) + Math.abs(dy));\n    return (dy > 0 ? 3 - p : 1 + p) / 4; // [0..1]\n}\n\nfunction dist(ax, ay, bx, by) {\n    const dx = ax - bx;\n    const dy = ay - by;\n    return dx * dx + dy * dy;\n}\n\n// return 2d orientation sign if we're confident in it through J. Shewchuk's error bound check\nfunction orientIfSure(px, py, rx, ry, qx, qy) {\n    const l = (ry - py) * (qx - px);\n    const r = (rx - px) * (qy - py);\n    return Math.abs(l - r) >= 3.3306690738754716e-16 * Math.abs(l + r) ? l - r : 0;\n}\n\n// a more robust orientation test that's stable in a given triangle (to fix robustness issues)\nfunction orient(rx, ry, qx, qy, px, py) {\n    const sign = orientIfSure(px, py, rx, ry, qx, qy) ||\n    orientIfSure(rx, ry, qx, qy, px, py) ||\n    orientIfSure(qx, qy, px, py, rx, ry);\n    return sign < 0;\n}\n\nfunction inCircle(ax, ay, bx, by, cx, cy, px, py) {\n    const dx = ax - px;\n    const dy = ay - py;\n    const ex = bx - px;\n    const ey = by - py;\n    const fx = cx - px;\n    const fy = cy - py;\n\n    const ap = dx * dx + dy * dy;\n    const bp = ex * ex + ey * ey;\n    const cp = fx * fx + fy * fy;\n\n    return dx * (ey * cp - bp * fy) -\n           dy * (ex * cp - bp * fx) +\n           ap * (ex * fy - ey * fx) < 0;\n}\n\nfunction circumradius(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = (ey * bl - dy * cl) * d;\n    const y = (dx * cl - ex * bl) * d;\n\n    return x * x + y * y;\n}\n\nfunction circumcenter(ax, ay, bx, by, cx, cy) {\n    const dx = bx - ax;\n    const dy = by - ay;\n    const ex = cx - ax;\n    const ey = cy - ay;\n\n    const bl = dx * dx + dy * dy;\n    const cl = ex * ex + ey * ey;\n    const d = 0.5 / (dx * ey - dy * ex);\n\n    const x = ax + (ey * bl - dy * cl) * d;\n    const y = ay + (dx * cl - ex * bl) * d;\n\n    return {x, y};\n}\n\nfunction quicksort(ids, dists, left, right) {\n    if (right - left <= 20) {\n        for (let i = left + 1; i <= right; i++) {\n            const temp = ids[i];\n            const tempDist = dists[temp];\n            let j = i - 1;\n            while (j >= left && dists[ids[j]] > tempDist) ids[j + 1] = ids[j--];\n            ids[j + 1] = temp;\n        }\n    } else {\n        const median = (left + right) >> 1;\n        let i = left + 1;\n        let j = right;\n        swap(ids, median, i);\n        if (dists[ids[left]] > dists[ids[right]]) swap(ids, left, right);\n        if (dists[ids[i]] > dists[ids[right]]) swap(ids, i, right);\n        if (dists[ids[left]] > dists[ids[i]]) swap(ids, left, i);\n\n        const temp = ids[i];\n        const tempDist = dists[temp];\n        while (true) {\n            do i++; while (dists[ids[i]] < tempDist);\n            do j--; while (dists[ids[j]] > tempDist);\n            if (j < i) break;\n            swap(ids, i, j);\n        }\n        ids[left + 1] = ids[j];\n        ids[j] = temp;\n\n        if (right - i + 1 >= j - left) {\n            quicksort(ids, dists, i, right);\n            quicksort(ids, dists, left, j - 1);\n        } else {\n            quicksort(ids, dists, left, j - 1);\n            quicksort(ids, dists, i, right);\n        }\n    }\n}\n\nfunction swap(arr, i, j) {\n    const tmp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = tmp;\n}\n\nfunction defaultGetX(p) {\n    return p[0];\n}\nfunction defaultGetY(p) {\n    return p[1];\n}\n","const epsilon = 1e-6;\n\nexport default class Path {\n  constructor() {\n    this._x0 = this._y0 = // start of current subpath\n    this._x1 = this._y1 = null; // end of current subpath\n    this._ = \"\";\n  }\n  moveTo(x, y) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}`;\n  }\n  closePath() {\n    if (this._x1 !== null) {\n      this._x1 = this._x0, this._y1 = this._y0;\n      this._ += \"Z\";\n    }\n  }\n  lineTo(x, y) {\n    this._ += `L${this._x1 = +x},${this._y1 = +y}`;\n  }\n  arc(x, y, r) {\n    x = +x, y = +y, r = +r;\n    const x0 = x + r;\n    const y0 = y;\n    if (r < 0) throw new Error(\"negative radius\");\n    if (this._x1 === null) this._ += `M${x0},${y0}`;\n    else if (Math.abs(this._x1 - x0) > epsilon || Math.abs(this._y1 - y0) > epsilon) this._ += \"L\" + x0 + \",\" + y0;\n    if (!r) return;\n    this._ += `A${r},${r},0,1,1,${x - r},${y}A${r},${r},0,1,1,${this._x1 = x0},${this._y1 = y0}`;\n  }\n  rect(x, y, w, h) {\n    this._ += `M${this._x0 = this._x1 = +x},${this._y0 = this._y1 = +y}h${+w}v${+h}h${-w}Z`;\n  }\n  value() {\n    return this._ || null;\n  }\n}\n","export default class Polygon {\n  constructor() {\n    this._ = [];\n  }\n  moveTo(x, y) {\n    this._.push([x, y]);\n  }\n  closePath() {\n    this._.push(this._[0].slice());\n  }\n  lineTo(x, y) {\n    this._.push([x, y]);\n  }\n  value() {\n    return this._.length ? this._ : null;\n  }\n}\n","import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const bl = dx * dx + dy * dy;\n      const cl = ex * ex + ey * ey;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (!ab) {\n        // degenerate case (collinear diagram)\n        x = (x1 + x3) / 2 - 1e8 * ey;\n        y = (y1 + y3) / 2 + 1e8 * ex;\n      }\n      else if (Math.abs(ab) < 1e-8) {\n        // almost equal points (degenerate triangle)\n        x = (x1 + x3) / 2;\n        y = (y1 + y3) / 2;\n      } else {\n        const d = 1 / ab;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] == cj[aj]\n          && ci[ai + 1] == cj[aj + 1]\n          && ci[(ai + 2) % li] == cj[(aj + lj - 2) % lj]\n          && ci[(ai + 3) % li] == cj[(aj + lj - 1) % lj]\n          ) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points);\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    while (true) {\n      if (c0 === 0 && c1 === 0) return [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    if (P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k]\n        || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1])\n          P.splice(j, 2), i -= 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n}\n","import Delaunator from \"delaunator\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nimport Voronoi from \"./voronoi.js\";\n\nconst tau = 2 * Math.PI, pow = Math.pow;\n\nfunction pointX(p) {\n  return p[0];\n}\n\nfunction pointY(p) {\n  return p[1];\n}\n\n// A triangulation is collinear if all its triangles have a non-null area\nfunction collinear(d) {\n  const {triangles, coords} = d;\n  for (let i = 0; i < triangles.length; i += 3) {\n    const a = 2 * triangles[i],\n          b = 2 * triangles[i + 1],\n          c = 2 * triangles[i + 2],\n          cross = (coords[c] - coords[a]) * (coords[b + 1] - coords[a + 1])\n                - (coords[b] - coords[a]) * (coords[c + 1] - coords[a + 1]);\n    if (cross > 1e-10) return false;\n  }\n  return true;\n}\n\nfunction jitter(x, y, r) {\n  return [x + Math.sin(x + y) * r, y + Math.cos(x - y) * r];\n}\n\nexport default class Delaunay {\n  static from(points, fx = pointX, fy = pointY, that) {\n    return new Delaunay(\"length\" in points\n        ? flatArray(points, fx, fy, that)\n        : Float64Array.from(flatIterable(points, fx, fy, that)));\n  }\n  constructor(points) {\n    this._delaunator = new Delaunator(points);\n    this.inedges = new Int32Array(points.length / 2);\n    this._hullIndex = new Int32Array(points.length / 2);\n    this.points = this._delaunator.coords;\n    this._init();\n  }\n  update() {\n    this._delaunator.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const d = this._delaunator, points = this.points;\n\n    // check for collinear\n    if (d.hull && d.hull.length > 2 && collinear(d)) {\n      this.collinear = Int32Array.from({length: points.length/2}, (_,i) => i)\n        .sort((i, j) => points[2 * i] - points[2 * j] || points[2 * i + 1] - points[2 * j + 1]); // for exact neighbors\n      const e = this.collinear[0], f = this.collinear[this.collinear.length - 1],\n        bounds = [ points[2 * e], points[2 * e + 1], points[2 * f], points[2 * f + 1] ],\n        r = 1e-8 * Math.hypot(bounds[3] - bounds[1], bounds[2] - bounds[0]);\n      for (let i = 0, n = points.length / 2; i < n; ++i) {\n        const p = jitter(points[2 * i], points[2 * i + 1], r);\n        points[2 * i] = p[0];\n        points[2 * i + 1] = p[1];\n      }\n      this._delaunator = new Delaunator(points);\n    } else {\n      delete this.collinear;\n    }\n\n    const halfedges = this.halfedges = this._delaunator.halfedges;\n    const hull = this.hull = this._delaunator.hull;\n    const triangles = this.triangles = this._delaunator.triangles;\n    const inedges = this.inedges.fill(-1);\n    const hullIndex = this._hullIndex.fill(-1);\n\n    // Compute an index from each point to an (arbitrary) incoming halfedge\n    // Used to give the first neighbor of each point; for this reason,\n    // on the hull we give priority to exterior halfedges\n    for (let e = 0, n = halfedges.length; e < n; ++e) {\n      const p = triangles[e % 3 === 2 ? e - 2 : e + 1];\n      if (halfedges[e] === -1 || inedges[p] === -1) inedges[p] = e;\n    }\n    for (let i = 0, n = hull.length; i < n; ++i) {\n      hullIndex[hull[i]] = i;\n    }\n\n    // degenerate case: 1 or 2 (distinct) points\n    if (hull.length <= 2 && hull.length > 0) {\n      this.triangles = new Int32Array(3).fill(-1);\n      this.halfedges = new Int32Array(3).fill(-1);\n      this.triangles[0] = hull[0];\n      this.triangles[1] = hull[1];\n      this.triangles[2] = hull[1];\n      inedges[hull[0]] = 1;\n      if (hull.length === 2) inedges[hull[1]] = 0;\n    }\n  }\n  voronoi(bounds) {\n    return new Voronoi(this, bounds);\n  }\n  *neighbors(i) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, collinear} = this;\n\n    // degenerate case with several collinear points\n    if (collinear) {\n      const l = collinear.indexOf(i);\n      if (l > 0) yield collinear[l - 1];\n      if (l < collinear.length - 1) yield collinear[l + 1];\n      return;\n    }\n\n    const e0 = inedges[i];\n    if (e0 === -1) return; // coincident point\n    let e = e0, p0 = -1;\n    do {\n      yield p0 = triangles[e];\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) return; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        const p = hull[(_hullIndex[i] + 1) % hull.length];\n        if (p !== p0) yield p;\n        return;\n      }\n    } while (e !== e0);\n  }\n  find(x, y, i = 0) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return -1;\n    const i0 = i;\n    let c;\n    while ((c = this._step(i, x, y)) >= 0 && c !== i && c !== i0) i = c;\n    return c;\n  }\n  _step(i, x, y) {\n    const {inedges, hull, _hullIndex, halfedges, triangles, points} = this;\n    if (inedges[i] === -1 || !points.length) return (i + 1) % (points.length >> 1);\n    let c = i;\n    let dc = pow(x - points[i * 2], 2) + pow(y - points[i * 2 + 1], 2);\n    const e0 = inedges[i];\n    let e = e0;\n    do {\n      let t = triangles[e];\n      const dt = pow(x - points[t * 2], 2) + pow(y - points[t * 2 + 1], 2);\n      if (dt < dc) dc = dt, c = t;\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n      if (e === -1) {\n        e = hull[(_hullIndex[i] + 1) % hull.length];\n        if (e !== t) {\n          if (pow(x - points[e * 2], 2) + pow(y - points[e * 2 + 1], 2) < dc) return e;\n        }\n        break;\n      }\n    } while (e !== e0);\n    return c;\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, halfedges, triangles} = this;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = triangles[i] * 2;\n      const tj = triangles[j] * 2;\n      context.moveTo(points[ti], points[ti + 1]);\n      context.lineTo(points[tj], points[tj + 1]);\n    }\n    this.renderHull(context);\n    return buffer && buffer.value();\n  }\n  renderPoints(context, r = 2) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points} = this;\n    for (let i = 0, n = points.length; i < n; i += 2) {\n      const x = points[i], y = points[i + 1];\n      context.moveTo(x + r, y);\n      context.arc(x, y, r, 0, tau);\n    }\n    return buffer && buffer.value();\n  }\n  renderHull(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {hull, points} = this;\n    const h = hull[0] * 2, n = hull.length;\n    context.moveTo(points[h], points[h + 1]);\n    for (let i = 1; i < n; ++i) {\n      const h = 2 * hull[i];\n      context.lineTo(points[h], points[h + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  hullPolygon() {\n    const polygon = new Polygon;\n    this.renderHull(polygon);\n    return polygon.value();\n  }\n  renderTriangle(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {points, triangles} = this;\n    const t0 = triangles[i *= 3] * 2;\n    const t1 = triangles[i + 1] * 2;\n    const t2 = triangles[i + 2] * 2;\n    context.moveTo(points[t0], points[t0 + 1]);\n    context.lineTo(points[t1], points[t1 + 1]);\n    context.lineTo(points[t2], points[t2 + 1]);\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *trianglePolygons() {\n    const {triangles} = this;\n    for (let i = 0, n = triangles.length / 3; i < n; ++i) {\n      yield this.trianglePolygon(i);\n    }\n  }\n  trianglePolygon(i) {\n    const polygon = new Polygon;\n    this.renderTriangle(i, polygon);\n    return polygon.value();\n  }\n}\n\nfunction flatArray(points, fx, fy, that) {\n  const n = points.length;\n  const array = new Float64Array(n * 2);\n  for (let i = 0; i < n; ++i) {\n    const p = points[i];\n    array[i * 2] = fx.call(that, p, i, points);\n    array[i * 2 + 1] = fy.call(that, p, i, points);\n  }\n  return array;\n}\n\nfunction* flatIterable(points, fx, fy, that) {\n  let i = 0;\n  for (const p of points) {\n    yield fx.call(that, p, i, points);\n    yield fy.call(that, p, i, points);\n    ++i;\n  }\n}\n","import React from 'react'\nimport { Delaunay } from 'd3-delaunay'\n\n//\nimport { Axis, Datum } from '../types'\nimport { translate } from '../utils/Utils'\nimport useChartContext from '../utils/chartContext'\nimport { line } from 'd3-shape'\nimport { getPrimaryGroupLength, getPrimaryLength } from '../seriesTypes/Bar'\n\nexport default function Voronoi<TDatum>() {\n  const { getOptions, focusedDatumState, isInteractingState } =\n    useChartContext<TDatum>()\n\n  const [, setFocusedDatum] = focusedDatumState\n  const [isInteracting] = isInteractingState\n\n  const {\n    onFocusDatum,\n    onClickDatum,\n    tooltip,\n    primaryCursor,\n    secondaryCursor,\n    showVoronoi,\n    interactionMode,\n  } = getOptions()\n\n  const handleFocus = React.useCallback(\n    (datum: Datum<TDatum> | null) => {\n      getOptions().onFocusDatum?.(datum)\n      setFocusedDatum(datum)\n    },\n    [getOptions, setFocusedDatum]\n  )\n\n  const needsVoronoi =\n    isInteracting &&\n    (showVoronoi ||\n      onFocusDatum ||\n      onClickDatum ||\n      tooltip ||\n      primaryCursor ||\n      secondaryCursor)\n\n  if (!needsVoronoi) {\n    return null\n  }\n\n  const props = {\n    handleFocus,\n  }\n\n  if (interactionMode === 'closest') {\n    return <SingleVoronoi {...props} />\n  }\n\n  return <PrimaryVoronoi {...props} />\n}\n\nfunction PrimaryVoronoi<TDatum>({\n  handleFocus,\n}: {\n  handleFocus: (datum: Datum<TDatum> | null) => void\n}) {\n  const {\n    primaryAxis,\n    secondaryAxes,\n    getOptions,\n    gridDimensions,\n    datumsByInteractionGroup,\n  } = useChartContext<TDatum>()\n\n  const stackedVoronoi = secondaryAxes.length === 1 && secondaryAxes[0].stacked\n\n  const useBarPx = secondaryAxes.every(\n    d => d.elementType === 'bar' && !d.stacked\n  )\n\n  return React.useMemo(() => {\n    let preColumns = Array.from(datumsByInteractionGroup.entries())\n      .map(([_, datums]) => datums)\n      .filter(datums => {\n        const datum = datums[0]\n\n        if (!datum) {\n          return\n        }\n\n        const primaryValue = datum.primaryValue\n        return primaryValue !== 'undefined' && primaryValue !== null\n      })\n      .sort((a, b) => {\n        const aAxis = secondaryAxes.find(d => d.id === a[0].secondaryAxisId)!\n        const bAxis = secondaryAxes.find(d => d.id === b[0].secondaryAxisId)!\n\n        const aPx = getPrimary(a[0], primaryAxis, aAxis, useBarPx)\n        const bPx = getPrimary(b[0], primaryAxis, bAxis, useBarPx)\n\n        return aPx - bPx\n      })\n\n    if (primaryAxis.isVertical) {\n      preColumns.reverse()\n    }\n\n    const columns = preColumns.map((datums, i, all) => {\n      const datum = datums[0]\n\n      const prev = all[i - 1]\n      const next = all[i + 1]\n\n      const secondaryAxis = secondaryAxes.find(\n        d => d.id === datum.secondaryAxisId\n      )!\n      const primaryPx = getPrimary(datum, primaryAxis, secondaryAxis, useBarPx)\n\n      let range = primaryAxis?.scale.range() ?? [0, 0]\n\n      let [primaryStart, primaryEnd] = range\n\n      if (prev) {\n        const secondaryAxis = secondaryAxes.find(\n          d => d.id === prev[0].secondaryAxisId\n        )!\n        const prevPx = getPrimary(prev[0], primaryAxis, secondaryAxis, useBarPx)\n        primaryStart = primaryPx - (primaryPx - prevPx) / 2\n      }\n\n      if (next) {\n        const secondaryAxis = secondaryAxes.find(\n          d => d.id === next[0].secondaryAxisId\n        )!\n        const nextPx = getPrimary(next[0], primaryAxis, secondaryAxis, useBarPx)\n        primaryEnd = primaryPx + (nextPx - primaryPx) / 2\n      }\n\n      return {\n        primaryStart,\n        primaryEnd,\n        primaryPx,\n        datumBoundaries: datums\n          .filter(datum => {\n            const secondaryValue = datum.secondaryValue\n            return (\n              typeof secondaryValue !== 'undefined' && secondaryValue !== null\n            )\n          })\n          .map((datum, i, all) => {\n            const prev = all[i - 1]\n            const next = all[i + 1]\n\n            const secondaryAxis = secondaryAxes.find(\n              d => d.id === datum.secondaryAxisId\n            )\n\n            if (stackedVoronoi) {\n              let range = secondaryAxis?.scale.range() ?? [0, 0]\n\n              let stackData = [datum.stackData?.[0], datum.stackData?.[1]]\n\n              if (secondaryAxis?.isVertical) {\n                range.reverse()\n                stackData.reverse()\n              }\n\n              let [secondaryStart, secondaryEnd] = range\n\n              if (prev) {\n                secondaryStart =\n                  secondaryAxis?.scale(stackData[0] ?? NaN) ?? NaN\n              }\n\n              if (next) {\n                secondaryEnd = secondaryAxis?.scale(stackData[1] ?? NaN) ?? NaN\n              }\n\n              return {\n                secondaryStart,\n                secondaryEnd,\n                datum,\n              }\n            }\n\n            const value =\n              secondaryAxis?.scale(\n                secondaryAxis.stacked\n                  ? datum.stackData?.[1]\n                  : datum.secondaryValue\n              ) ?? NaN\n\n            let range = secondaryAxis?.scale.range() ?? [0, 0]\n\n            if (secondaryAxis?.isVertical) {\n              range.reverse()\n            }\n\n            let [secondaryStart, secondaryEnd] = range\n\n            if (prev) {\n              const prevAxis = secondaryAxes.find(\n                d => d.id === prev?.secondaryAxisId\n              )\n              const prevValue =\n                prevAxis?.scale(\n                  prevAxis.stacked ? prev.stackData?.[1] : prev.secondaryValue\n                ) ?? NaN\n              secondaryStart = value - (value - prevValue) / 2\n            }\n\n            if (next) {\n              const nextAxis = secondaryAxes.find(\n                d => d.id === next?.secondaryAxisId\n              )\n              const nextValue =\n                nextAxis?.scale(\n                  nextAxis.stacked ? next.stackData?.[1] : next.secondaryValue\n                ) ?? NaN\n              secondaryEnd = value + (nextValue - value) / 2\n            }\n\n            return {\n              secondaryStart,\n              secondaryEnd,\n              datum,\n            }\n          }),\n      }\n    })\n\n    return (\n      <g\n        {...{\n          onMouseLeave: () => handleFocus(null),\n          style: {\n            transform: translate(gridDimensions.left, gridDimensions.top),\n          },\n        }}\n      >\n        {columns.map((column, i) => {\n          return (\n            <g key={`${column.primaryPx}_${i}`}>\n              {column.datumBoundaries.map((datumBoundary, i) => {\n                const x1 = !primaryAxis.isVertical\n                  ? column.primaryStart\n                  : datumBoundary.secondaryStart\n                const x2 = !primaryAxis.isVertical\n                  ? column.primaryEnd\n                  : datumBoundary.secondaryEnd\n                const y1 = !primaryAxis.isVertical\n                  ? datumBoundary.secondaryStart\n                  : column.primaryStart\n                const y2 = !primaryAxis.isVertical\n                  ? datumBoundary.secondaryEnd\n                  : column.primaryEnd\n\n                const x = Math.min(x1, x2)\n                const y = Math.min(y1, y2)\n                const xEnd = Math.max(x1, x2)\n                const yEnd = Math.max(y1, y2)\n\n                const height = Math.max(yEnd - y, 0)\n                const width = Math.max(xEnd - x, 0)\n\n                return (\n                  <rect\n                    {...{\n                      key: i,\n                      x,\n                      y,\n                      width,\n                      height,\n                      className: 'action-voronoi',\n                      onMouseEnter: () => handleFocus(datumBoundary.datum),\n                      style: {\n                        fill: getOptions().dark\n                          ? '#ffffff33'\n                          : 'rgba(0,0,0,0.2)',\n                        strokeWidth: 1,\n                        stroke: getOptions().dark ? 'white' : 'black',\n                        opacity: getOptions().showVoronoi ? 1 : 0,\n                      },\n                    }}\n                  />\n                )\n              })}\n            </g>\n          )\n        })}\n      </g>\n    )\n  }, [\n    datumsByInteractionGroup,\n    primaryAxis,\n    gridDimensions.left,\n    gridDimensions.top,\n    secondaryAxes,\n    useBarPx,\n    stackedVoronoi,\n    handleFocus,\n    getOptions,\n  ])\n}\n\nconst delaunayLineFn = line()\n\nfunction SingleVoronoi<TDatum>({\n  handleFocus,\n}: {\n  handleFocus: (datum: Datum<TDatum> | null) => void\n}) {\n  const {\n    primaryAxis,\n    series,\n    secondaryAxes,\n    getOptions,\n    gridDimensions,\n    // datumsByInteractionGroup,\n  } = useChartContext<TDatum>()\n\n  let polygons = null\n\n  const voronoiData: { x: number; y: number; datum: Datum<TDatum> }[] = []\n\n  const useBarPx = secondaryAxes.every(\n    d => d.elementType === 'bar' && !d.stacked\n  )\n\n  series.forEach(serie => {\n    serie.datums\n      .filter(datum => {\n        const primaryValue = datum.primaryValue\n        const secondaryValue = datum.secondaryValue\n        return (\n          primaryValue !== 'undefined' &&\n          primaryValue !== null &&\n          secondaryValue !== 'undefined' &&\n          secondaryValue !== null\n        )\n      })\n      .forEach(datum => {\n        const secondaryAxis = secondaryAxes.find(\n          d => d.id === datum.secondaryAxisId\n        )\n        const x = getX(datum, primaryAxis, secondaryAxis!, useBarPx)\n        const y = getY(datum, primaryAxis, secondaryAxis!, useBarPx)\n\n        if (\n          typeof x !== 'number' ||\n          typeof y !== 'number' ||\n          Number.isNaN(y) ||\n          Number.isNaN(x)\n        ) {\n          return\n        }\n\n        voronoiData.push({\n          x,\n          y,\n          datum,\n        })\n      })\n  })\n\n  const delaunay = Delaunay.from(\n    voronoiData,\n    d => Math.max(d.x, 0),\n    d => Math.max(d.y, 0)\n  )\n\n  const voronoi = delaunay.voronoi([\n    0,\n    0,\n    gridDimensions.width,\n    gridDimensions.height,\n  ])\n\n  polygons = voronoi.cellPolygons()\n\n  polygons = Array.from(polygons)\n\n  return (\n    <g\n      {...{\n        onMouseLeave: () => handleFocus(null),\n        style: {\n          transform: translate(gridDimensions.left, gridDimensions.top),\n        },\n      }}\n    >\n      {polygons.map((points, i) => {\n        const index = points.index\n        const datum = voronoiData[index].datum\n        const path = delaunayLineFn(points as any) || undefined\n        return (\n          <path\n            {...{\n              key: i,\n              d: path,\n              className: 'action-voronoi',\n              onMouseEnter: () => handleFocus(datum),\n              style: {\n                fill: getOptions().dark ? '#ffffff33' : 'rgba(0,0,0,0.2)',\n                strokeWidth: 1,\n                stroke: getOptions().dark ? 'white' : 'black',\n                opacity: getOptions().showVoronoi ? 1 : 0,\n              },\n            }}\n          />\n        )\n      })}\n    </g>\n  )\n}\n\nfunction getX<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>,\n  useBarPx: boolean\n): number {\n  return primaryAxis.isVertical\n    ? getSecondary(datum, secondaryAxis)\n    : getPrimary(datum, primaryAxis, secondaryAxis, useBarPx)\n}\n\nfunction getY<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>,\n  useBarPx: boolean\n): number {\n  return primaryAxis.isVertical\n    ? getPrimary(datum, primaryAxis, secondaryAxis, useBarPx)\n    : getSecondary(datum, secondaryAxis)\n}\n\nfunction getPrimary<TDatum>(\n  datum: Datum<TDatum>,\n  primaryAxis: Axis<TDatum>,\n  secondaryAxis: Axis<TDatum>,\n  useBarPx: boolean\n): number {\n  let primary = primaryAxis.scale(datum.primaryValue) ?? NaN\n\n  if (useBarPx && secondaryAxis.elementType === 'bar') {\n    if (!secondaryAxis.stacked) {\n      primary += primaryAxis.seriesBandScale!(datum.seriesIndex) ?? NaN\n      primary += getPrimaryLength(datum, primaryAxis, secondaryAxis) / 2\n    } else {\n      primary += getPrimaryGroupLength(datum, primaryAxis) / 2\n    }\n  }\n\n  return primary\n}\n\nfunction getSecondary<TDatum>(\n  datum: Datum<TDatum>,\n  secondaryAxis: Axis<TDatum>\n): number {\n  if (secondaryAxis.stacked) {\n    return secondaryAxis.scale(datum.stackData?.[1] ?? NaN) ?? NaN\n  }\n\n  return secondaryAxis.scale(datum.secondaryValue) ?? NaN\n}\n","import { groups, sort, sum } from 'd3-array'\nimport React, { ComponentPropsWithoutRef } from 'react'\n\nimport useGetLatest from '../hooks/useGetLatest'\nimport useIsomorphicLayoutEffect from '../hooks/useIsomorphicLayoutEffect'\nimport Bar, { getPrimary } from '../seriesTypes/Bar'\nimport Line from '../seriesTypes/Line'\n//\nimport {\n  Axis,\n  AxisDimensions,\n  AxisOptions,\n  AxisOptionsWithScaleType,\n  BuildAxisOptions,\n  ChartContextValue,\n  ChartOptions,\n  Datum,\n  GridDimensions,\n  RequiredChartOptions,\n  Series,\n  UserSerie,\n} from '../types'\nimport {\n  materializeStyles,\n  getSeriesStatus,\n  getDatumStatus,\n} from '../utils/Utils'\nimport buildAxisLinear from '../utils/buildAxis.linear'\nimport { ChartContextProvider } from '../utils/chartContext'\nimport AxisLinear from './AxisLinear'\n// import Brush from './Brush'\nimport Cursors from './Cursors'\nimport Tooltip, { defaultTooltip } from './Tooltip'\nimport Voronoi from './Voronoi'\n\n//\n\n//\n\nconst defaultColorScheme = [\n  '#0f83ab',\n  '#faa43a',\n  '#fd6868',\n  '#53cfc9',\n  '#a2d925',\n  '#decf3f',\n  '#734fe9',\n  '#cd82ad',\n  '#006d92',\n  '#de7c00',\n  '#f33232',\n  '#3f9a80',\n  '#53c200',\n  '#d7af00',\n  '#4c26c9',\n  '#d44d99',\n]\n\nconst defaultPadding = 5\n\nfunction defaultChartOptions<TDatum>(\n  options: ChartOptions<TDatum>\n): RequiredChartOptions<TDatum> {\n  return {\n    ...options,\n    initialWidth: options.initialWidth ?? 300,\n    initialHeight: options.initialHeight ?? 200,\n    getSeriesOrder:\n      options.getSeriesOrder ?? ((series: Series<TDatum>[]) => series),\n    interactionMode: options.interactionMode ?? 'primary',\n    showVoronoi: options.showVoronoi ?? false,\n    defaultColors: options.defaultColors ?? defaultColorScheme,\n    useIntersectionObserver: options.useIntersectionObserver ?? false,\n    intersectionObserverRootMargin:\n      options.intersectionObserverRootMargin ?? '1000px',\n    primaryCursor: options.primaryCursor ?? true,\n    secondaryCursor: options.secondaryCursor ?? true,\n    padding: options.padding ?? defaultPadding,\n  }\n}\n\nexport function Chart<TDatum>({\n  options: userOptions,\n  className,\n  style = {},\n  ...rest\n}: ComponentPropsWithoutRef<'div'> & { options: ChartOptions<TDatum> }) {\n  const options = defaultChartOptions(userOptions)\n  const [chartElement, setContainerElement] =\n    React.useState<HTMLDivElement | null>(null)\n\n  const containerEl = chartElement?.parentElement\n\n  const nearestScrollableParent = React.useMemo(() => {\n    const run = (el?: Element | null): Element | null => {\n      if (!el) {\n        return null\n      }\n\n      const grandParent = el.parentElement\n\n      if (!grandParent) {\n        return null\n      }\n\n      if (grandParent.scrollHeight > grandParent.clientHeight) {\n        const { overflow } = window.getComputedStyle(grandParent)\n\n        if (overflow.includes('scroll') || overflow.includes('auto')) {\n          return grandParent\n        }\n      }\n\n      return run(grandParent)\n    }\n\n    return run(containerEl)\n  }, [containerEl])\n\n  const [{ width, height }, setDims] = React.useState({\n    width: options.initialWidth,\n    height: options.initialHeight,\n  })\n\n  useIsomorphicLayoutEffect(() => {\n    if (containerEl) {\n      const computed = window.getComputedStyle(containerEl)\n\n      if (!['relative', 'absolute', 'fixed'].includes(computed.position)) {\n        containerEl.style.position = 'relative'\n      }\n    }\n  }, [containerEl])\n\n  React.useEffect(() => {\n    if (!containerEl) {\n      return\n    }\n\n    const observer = new ResizeObserver(() => {\n      const rect = containerEl?.getBoundingClientRect()\n      const styles = window.getComputedStyle(containerEl)\n\n      if (rect) {\n        setDims({\n          width:\n            rect.width -\n            parseInt(styles.borderLeftWidth) -\n            parseInt(styles.borderRightWidth),\n          height:\n            rect.height -\n            parseInt(styles.borderTopWidth) -\n            parseInt(styles.borderBottomWidth),\n        })\n      }\n    })\n\n    observer.observe(containerEl)\n\n    return () => {\n      observer.unobserve(containerEl)\n    }\n  }, [containerEl])\n\n  const [isIntersecting, setIsIntersecting] = React.useState(true)\n\n  React.useEffect(() => {\n    if (!containerEl || !options.useIntersectionObserver) return\n\n    let observer = new IntersectionObserver(\n      entries => {\n        for (let entry of entries) {\n          if (entry.isIntersecting) {\n            setIsIntersecting(true)\n          } else {\n            setIsIntersecting(false)\n          }\n        }\n      },\n      {\n        root: nearestScrollableParent,\n        rootMargin: options.intersectionObserverRootMargin,\n      }\n    )\n\n    observer.observe(containerEl)\n\n    return () => {\n      observer.unobserve(containerEl)\n    }\n  }, [\n    containerEl,\n    nearestScrollableParent,\n    options.intersectionObserverRootMargin,\n    options.useIntersectionObserver,\n  ])\n\n  return (\n    <div\n      ref={setContainerElement}\n      {...rest}\n      className={`ReactChart ${className || ''}`}\n      style={{\n        fontFamily: 'sans-serif',\n        ...style,\n        position: 'absolute',\n        width,\n        height,\n      }}\n    >\n      {options.useIntersectionObserver && !isIntersecting ? null : (\n        <ChartInner options={options} {...{ width, height }} />\n      )}\n    </div>\n  )\n}\n\nfunction ChartInner<TDatum>({\n  options,\n  width,\n  height,\n}: {\n  options: RequiredChartOptions<TDatum>\n  width: number\n  height: number\n}) {\n  if (!options.primaryAxis) {\n    throw new Error('A primaryAxis is required')\n  }\n\n  if (!options.secondaryAxes.length) {\n    throw new Error('At least one secondaryAxis is required')\n  }\n\n  const primaryAxisOptions = React.useMemo((): BuildAxisOptions<TDatum> => {\n    const firstValue = getFirstDefinedValue(options.primaryAxis, options.data)\n    const axisOptions = axisOptionsWithScaleType(\n      options.primaryAxis,\n      firstValue\n    )\n\n    return { position: 'bottom', ...axisOptions }\n  }, [options.data, options.primaryAxis])\n\n  const secondaryAxesOptions = React.useMemo(() => {\n    return options.secondaryAxes.map(\n      (secondaryAxis, i): BuildAxisOptions<TDatum> => {\n        const firstValue = getFirstDefinedValue(secondaryAxis, options.data)\n\n        const axisOptions = axisOptionsWithScaleType(secondaryAxis, firstValue)\n\n        if (!axisOptions.elementType) {\n          if (primaryAxisOptions.scaleType === 'band') {\n            axisOptions.elementType = 'bar'\n          } else if (axisOptions.stacked) {\n            axisOptions.elementType = 'area'\n          }\n        }\n\n        if (\n          typeof axisOptions.stacked === 'undefined' &&\n          axisOptions.elementType &&\n          ['area'].includes(axisOptions.elementType)\n        ) {\n          axisOptions.stacked = true\n        }\n\n        return {\n          position: !i ? 'left' : 'right',\n          ...axisOptions,\n        }\n      }\n    )\n  }, [options.data, options.secondaryAxes, primaryAxisOptions])\n\n  // Resolve Tooltip Option\n  const tooltipOptions = React.useMemo(() => {\n    const tooltipOptions = defaultTooltip(options?.tooltip)\n    tooltipOptions.groupingMode =\n      tooltipOptions.groupingMode ??\n      (() => {\n        if (options.interactionMode === 'closest') {\n          return 'single'\n        }\n        return 'primary'\n      })()\n\n    return tooltipOptions\n  }, [options.interactionMode, options?.tooltip])\n\n  options = {\n    ...options,\n    tooltip: tooltipOptions,\n  }\n\n  //\n\n  const svgRef = React.useRef<SVGSVGElement>(null)\n  const getOptions = useGetLatest({ ...options, tooltip: tooltipOptions })\n\n  const axisDimensionsState = React.useState<AxisDimensions>({\n    left: {},\n    right: {},\n    top: {},\n    bottom: {},\n  })\n\n  const [axisDimensions] = axisDimensionsState\n\n  const isInteractingState = React.useState<boolean>(false)\n  const [isInteracting] = isInteractingState\n\n  const focusedDatumState = React.useState<Datum<TDatum> | null>(null)\n  const [focusedDatum] = focusedDatumState\n\n  // useAtom<Datum<TDatum> | null>(focusedDatumAtom)\n\n  const gridDimensions = React.useMemo((): GridDimensions => {\n    const padding = {\n      left:\n        typeof options.padding === 'object'\n          ? options.padding.left ?? defaultPadding\n          : options.padding,\n      right:\n        typeof options.padding === 'object'\n          ? options.padding.right ?? defaultPadding\n          : options.padding,\n      bottom:\n        typeof options.padding === 'object'\n          ? options.padding.bottom ?? defaultPadding\n          : options.padding,\n      top:\n        typeof options.padding === 'object'\n          ? options.padding.top ?? defaultPadding\n          : options.padding,\n    }\n\n    const left =\n      padding.left +\n      Math.max(\n        sum(Object.values(axisDimensions.left), d => d.width),\n        sum(Object.values(axisDimensions.top), d => d.paddingLeft),\n        sum(Object.values(axisDimensions.bottom), d => d.paddingLeft)\n      )\n\n    const top =\n      padding.top +\n      Math.max(\n        sum(Object.values(axisDimensions.top), d => d.height),\n        sum(Object.values(axisDimensions.left), d => d.paddingTop),\n        sum(Object.values(axisDimensions.right), d => d.paddingTop)\n      )\n\n    const right =\n      padding.right +\n      Math.max(\n        sum(Object.values(axisDimensions.right), d => d.width),\n        sum(Object.values(axisDimensions.top), d => d.paddingRight),\n        sum(Object.values(axisDimensions.bottom), d => d.paddingRight)\n      )\n\n    const bottom =\n      padding.bottom +\n      Math.max(\n        sum(Object.values(axisDimensions.bottom), d => d.height),\n        sum(Object.values(axisDimensions.left), d => d.paddingBottom),\n        sum(Object.values(axisDimensions.right), d => d.paddingBottom)\n      )\n\n    const gridWidth = Math.max(0, width - left - right)\n    const gridHeight = Math.max(0, height - top - bottom)\n\n    return { left, top, right, bottom, width: gridWidth, height: gridHeight }\n  }, [\n    options.padding,\n    axisDimensions.left,\n    axisDimensions.top,\n    axisDimensions.bottom,\n    axisDimensions.right,\n    width,\n    height,\n  ])\n\n  const series = React.useMemo(() => {\n    const series: Series<TDatum>[] = []\n\n    const indicesByAxisId: Record<string, number> = {}\n\n    for (\n      let seriesIndex = 0;\n      seriesIndex < options.data.length;\n      seriesIndex++\n    ) {\n      const originalSeries = options.data[seriesIndex]\n      const seriesId = originalSeries.id ?? seriesIndex + ''\n      const seriesLabel = originalSeries.label ?? `Series ${seriesIndex + 1}`\n      const secondaryAxisId = originalSeries.secondaryAxisId\n      const originalDatums = originalSeries.data\n      const datums = []\n\n      indicesByAxisId[`${secondaryAxisId}`] =\n        indicesByAxisId[`${secondaryAxisId}`] ?? 0\n      const seriesIndexPerAxis = indicesByAxisId[`${secondaryAxisId}`]\n\n      indicesByAxisId[`${secondaryAxisId}`]++\n\n      for (\n        let datumIndex = 0;\n        datumIndex < originalDatums.length;\n        datumIndex++\n      ) {\n        const originalDatum = originalDatums[datumIndex]\n        datums[datumIndex] = {\n          originalSeries,\n          seriesIndex,\n          seriesIndexPerAxis,\n          seriesId,\n          seriesLabel,\n          secondaryAxisId,\n          index: datumIndex,\n          originalDatum,\n        }\n      }\n\n      series[seriesIndex] = {\n        originalSeries,\n        index: seriesIndex,\n        id: seriesId,\n        label: seriesLabel,\n        indexPerAxis: seriesIndexPerAxis,\n        secondaryAxisId,\n        datums,\n      }\n    }\n\n    return series\n  }, [options.data])\n\n  let allDatums = React.useMemo(() => {\n    return series.map(s => s.datums).flat(2)\n  }, [series])\n\n  const primaryAxis = React.useMemo(() => {\n    return buildAxisLinear<TDatum>(\n      true,\n      primaryAxisOptions,\n      series,\n      allDatums,\n      gridDimensions,\n      width,\n      height\n    )\n  }, [allDatums, gridDimensions, height, primaryAxisOptions, series, width])\n\n  const secondaryAxes = React.useMemo(() => {\n    return secondaryAxesOptions.map(secondaryAxis => {\n      return buildAxisLinear<TDatum>(\n        false,\n        secondaryAxis,\n        series,\n        allDatums,\n        gridDimensions,\n        width,\n        height\n      )\n    })\n  }, [allDatums, gridDimensions, height, secondaryAxesOptions, series, width])\n\n  const [datumsByInteractionGroup, datumsByTooltipGroup] = React.useMemo(() => {\n    if (!isInteracting) {\n      return [new Map(), new Map()]\n    }\n\n    const datumsByInteractionGroup = new Map<any, Datum<TDatum>[]>()\n    const datumsByTooltipGroup = new Map<any, Datum<TDatum>[]>()\n\n    const allBarAndNotStacked = secondaryAxes.every(\n      d => d.elementType === 'bar' && !d.stacked\n    )\n\n    let getInteractionPrimary = (datum: Datum<TDatum>) => {\n      if (allBarAndNotStacked) {\n        const secondaryAxis = secondaryAxes.find(\n          d => d.id === datum.secondaryAxisId\n        )!\n\n        if (secondaryAxis.elementType === 'bar' && !secondaryAxis.stacked) {\n          return getPrimary(datum, primaryAxis, secondaryAxis)\n        }\n      }\n\n      return datum.primaryValue\n    }\n\n    let getInteractionKey = (datum: Datum<TDatum>) =>\n      `${getInteractionPrimary(datum)}`\n    let getTooltipKey = (datum: Datum<TDatum>) => `${datum.primaryValue}`\n\n    if (options.interactionMode === 'closest') {\n      getInteractionKey = datum =>\n        `${getInteractionPrimary(datum)}_${datum.secondaryValue}`\n    }\n\n    if (tooltipOptions.groupingMode === 'single') {\n      getTooltipKey = datum => `${datum.primaryValue}_${datum.secondaryValue}`\n    } else if (tooltipOptions.groupingMode === 'secondary') {\n      getTooltipKey = datum => `${datum.secondaryValue}`\n    } else if (tooltipOptions.groupingMode === 'series') {\n      getTooltipKey = datum => `${datum.seriesIndex}`\n    }\n\n    allDatums.forEach(datum => {\n      const interactionKey = (getInteractionKey as Function)(datum)\n      const tooltipKey = (getTooltipKey as Function)(datum)\n\n      if (!datumsByInteractionGroup.has(interactionKey)) {\n        datumsByInteractionGroup.set(interactionKey, [])\n      }\n\n      if (!datumsByTooltipGroup.has(tooltipKey)) {\n        datumsByTooltipGroup.set(tooltipKey, [])\n      }\n\n      datumsByInteractionGroup.get(interactionKey)!.push(datum)\n      datumsByTooltipGroup.get(tooltipKey)!.push(datum)\n    })\n\n    datumsByInteractionGroup.forEach((value, key) => {\n      datumsByInteractionGroup.set(\n        key,\n        sortDatumsBySecondaryPx(value, secondaryAxes)\n      )\n    })\n\n    datumsByTooltipGroup.forEach((value, key) => {\n      datumsByTooltipGroup.set(\n        key,\n        sortDatumsBySecondaryPx(value, secondaryAxes)\n      )\n    })\n\n    allDatums.forEach(datum => {\n      const interactionKey = (getInteractionKey as Function)(datum)\n      const tooltipKey = (getTooltipKey as Function)(datum)\n      datum.interactiveGroup = datumsByInteractionGroup.get(interactionKey)\n      datum.tooltipGroup = datumsByTooltipGroup.get(tooltipKey)\n    })\n\n    return [datumsByInteractionGroup, datumsByTooltipGroup]\n  }, [\n    isInteracting,\n    allDatums,\n    options.interactionMode,\n    primaryAxis,\n    secondaryAxes,\n    tooltipOptions.groupingMode,\n  ])\n\n  const getSeriesStatusStyle = React.useCallback(\n    (series: Series<TDatum>, focusedDatum: Datum<TDatum> | null) => {\n      const base = {\n        color:\n          getOptions().defaultColors[\n            series.index % getOptions().defaultColors.length\n          ],\n      }\n\n      const status = getSeriesStatus(series, focusedDatum)\n      const statusStyles = getOptions().getSeriesStyle?.(series, status) ?? {}\n      series.style = materializeStyles(statusStyles, base)\n      return series.style\n    },\n    [getOptions]\n  )\n\n  const getDatumStatusStyle = React.useCallback(\n    (datum: Datum<TDatum>, focusedDatum: Datum<TDatum> | null) => {\n      const base = {\n        ...series[datum.seriesIndex]?.style,\n        color:\n          getOptions().defaultColors[\n            datum.seriesIndex % getOptions().defaultColors.length\n          ],\n      }\n\n      const status = getDatumStatus(datum as Datum<TDatum>, focusedDatum)\n      const statusStyles =\n        getOptions().getDatumStyle?.(datum as Datum<TDatum>, status) ?? {}\n\n      datum.style = materializeStyles(statusStyles, base)\n\n      return datum.style\n    },\n    [getOptions, series]\n  )\n\n  // Reverse the stack order for proper z-indexing\n  let orderedSeries = React.useMemo(() => {\n    const reversedSeries = [...series].reverse()\n\n    return getOptions().getSeriesOrder(reversedSeries)\n  }, [getOptions, series])\n\n  useIsomorphicLayoutEffect(() => {\n    if (\n      svgRef.current &&\n      svgRef.current.parentElement &&\n      !svgRef.current.parentElement.style.position\n    ) {\n      svgRef.current.parentElement.style.position = 'relative'\n    }\n  })\n\n  const contextValue: ChartContextValue<TDatum> = {\n    getOptions,\n    gridDimensions,\n    primaryAxis,\n    secondaryAxes,\n    series,\n    orderedSeries,\n    datumsByInteractionGroup,\n    datumsByTooltipGroup,\n    width,\n    height,\n    getSeriesStatusStyle,\n    getDatumStatusStyle,\n    axisDimensionsState,\n    focusedDatumState,\n    svgRef,\n    isInteractingState,\n  }\n\n  const seriesByAxisId = React.useMemo(\n    () =>\n      sort(\n        groups(orderedSeries, d => d.secondaryAxisId),\n        ([key]) => secondaryAxes.findIndex(axis => axis.id === key)\n      ),\n    [orderedSeries, secondaryAxes]\n  )\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  let getSeriesInfo = () => ({\n    primaryAxis,\n    secondaryAxes,\n    seriesByAxisId,\n  })\n\n  let getMemoizedSeriesInfo = React.useCallback(\n    () => ({\n      primaryAxis,\n      secondaryAxes,\n      seriesByAxisId,\n    }),\n    [primaryAxis, secondaryAxes, seriesByAxisId]\n  )\n\n  if (options.memoizeSeries) {\n    getSeriesInfo = getMemoizedSeriesInfo\n  }\n\n  const seriesEl = React.useMemo(() => {\n    const { primaryAxis, secondaryAxes, seriesByAxisId } = getSeriesInfo()\n    return seriesByAxisId.map(([axisId, series]) => {\n      const secondaryAxis = secondaryAxes.find(d => d.id === axisId)\n\n      if (!secondaryAxis) {\n        return null\n      }\n\n      const { elementType } = secondaryAxis\n      const Component = (() => {\n        if (\n          elementType === 'line' ||\n          elementType === 'bubble' ||\n          elementType === 'area'\n        ) {\n          return Line\n        }\n        if (elementType === 'bar') {\n          return Bar\n        }\n        throw new Error('Invalid elementType')\n      })()\n\n      if (primaryAxis.isInvalid || secondaryAxis.isInvalid) {\n        return null\n      }\n\n      return (\n        <Component\n          key={axisId ?? '__default__'}\n          primaryAxis={primaryAxis}\n          secondaryAxis={secondaryAxis}\n          series={series}\n        />\n      )\n    })\n  }, [getSeriesInfo])\n\n  return (\n    <ChartContextProvider value={useGetLatest(contextValue)}>\n      <div>\n        <svg\n          ref={svgRef}\n          style={{\n            width,\n            height,\n            overflow: options.brush ? 'hidden' : 'visible',\n          }}\n          onClick={e => options.onClickDatum?.(focusedDatum, e)}\n          onMouseEnter={() => {\n            isInteractingState[1](true)\n          }}\n          onMouseLeave={() => {\n            isInteractingState[1](false)\n          }}\n        >\n          <g className=\"axes\">\n            {[primaryAxis, ...secondaryAxes].map(axis => (\n              <AxisLinear key={[axis.position, axis.id].join('')} {...axis} />\n            ))}\n          </g>\n          <g\n            className=\"Series\"\n            style={{\n              pointerEvents: 'none',\n            }}\n          >\n            {seriesEl}\n          </g>\n          <Voronoi />\n          {options.renderSVG?.() ?? null}\n        </svg>\n        <Cursors />\n        <Tooltip />\n      </div>\n    </ChartContextProvider>\n  )\n}\n\nfunction getFirstDefinedValue<TDatum>(\n  options: AxisOptions<TDatum>,\n  data: UserSerie<TDatum>[]\n) {\n  let firstDefinedValue: Date | number | string | undefined\n\n  data.some(serie => {\n    return serie.data.some(originalDatum => {\n      const value = options.getValue(originalDatum)\n      if (value !== null && typeof value !== 'undefined') {\n        firstDefinedValue = value\n        return true\n      }\n    })\n  })\n\n  return firstDefinedValue\n}\n\nfunction axisOptionsWithScaleType<TDatum>(\n  options: AxisOptions<TDatum>,\n  firstValue: Date | number | string | undefined\n): AxisOptionsWithScaleType<TDatum> {\n  let scaleType = options.scaleType\n\n  if (!options.scaleType) {\n    if (typeof firstValue === 'number') {\n      scaleType = 'linear'\n    } else if (typeof (firstValue as Date)?.getMonth === 'function') {\n      scaleType = 'time'\n    } else if (\n      typeof firstValue === 'string' ||\n      typeof firstValue === 'boolean'\n    ) {\n      scaleType = 'band'\n    } else {\n      throw new Error('Invalid scale type: Unable to infer type from data')\n    }\n  }\n\n  return { ...options, scaleType } as AxisOptionsWithScaleType<TDatum>\n}\n\nfunction sortDatumsBySecondaryPx<TDatum>(\n  datums: Datum<TDatum>[],\n  secondaryAxes: Axis<TDatum>[]\n) {\n  if (secondaryAxes.every(d => d.stacked)) {\n    const differingInverts =\n      secondaryAxes.some(d => d.invert) && secondaryAxes.some(d => !d.invert)\n\n    if (!differingInverts) {\n      return datums\n    }\n  }\n\n  return [...datums].sort((a, b) => {\n    const aAxis = secondaryAxes.find(d => d.id === a.secondaryAxisId)\n    const bAxis = secondaryAxes.find(d => d.id === b.secondaryAxisId)\n\n    const aPx =\n      aAxis?.scale(aAxis.stacked ? a.stackData?.[1] : a.secondaryValue) ?? NaN\n\n    const bPx =\n      bAxis?.scale(bAxis.stacked ? b.stackData?.[1] : b.secondaryValue) ?? NaN\n\n    return aPx > bPx ? 1 : aPx < bPx ? -1 : 0\n  })\n}\n"],"names":["_arrayLikeToArray","arr","len","length","i","arr2","Array","_createForOfIteratorHelperLoose","o","allowArrayLike","it","Symbol","iterator","call","next","bind","isArray","minLen","arrayLikeToArray","n","Object","prototype","toString","slice","constructor","name","from","test","unsupportedIterableToArray","done","value","TypeError","_objectWithoutPropertiesLoose","source","excluded","key","target","sourceKeys","keys","indexOf","_extends","assign","arguments","hasOwnProperty","apply","this","a","b","NaN","f","delta","compare","left","x","lo","hi","mid","d","ascending","ascendingComparator","center","right","bisectRight","bisector","values","valueof","min","max","undefined","index","InternMap","Map","entries","keyof","defineProperties","_intern","_key","set","get","super","intern_get","has","intern_set","delete","intern_delete","valueOf","groups","map","reduce","regroup","group","push","nest","identity","sort","F","Uint32Array","j","c","e10","Math","sqrt","e5","e2","start","stop","count","reverse","ticks","step","tickIncrement","isFinite","r0","round","r1","power","floor","log","LN10","error","pow","tickStep","step0","abs","step1","quickselect","array","k","m","z","s","exp","sd","t","swap","quantile","p","Float64Array","numbers","i0","value0","subarray","ceil","range","sum","useGetLatest","obj","ref","React","useRef","getterRef","current","window","useLayoutEffect","useEffect","elementTypes","materializeStyles","style","defaults","stroke","color","fill","normalizeColor","type","translate","y","isDefined","num","Number","isNaN","chartContext","createContext","ChartContextProvider","children","Provider","useChartContext","useContext","BarComponent","primaryAxis","secondaryAxis","allSeries","series","getSeriesStatusStyle","getDatumStatusStyle","focusedDatumState","gridDimensions","focusedDatum","xAxis","isVertical","yAxis","transform","top","datums","datum","dataStyle","clampPxToAxis","getSecondaryStart","getPrimary","getRectX","getSecondaryLength","getPrimaryLength","getWidth","width","getSecondary","getRectY","getHeight","height","el","element","strokeWidth","rectangle","getPrimaryGroupLength","_datum","primaryBandScale","bandwidth","axisFamily","bandWidth","stacked","scale","seriesBandScale","minBandSize","maxBandSize","secondary","primary","primaryValue","seriesIndex","stackData","_datum$stackData","secondaryValue","_datum$stackData2","startPx","lengthPx","axis","safe","safeStart","pi","PI","tau","epsilon","tauEpsilon","Path","_x0","_y0","_x1","_y1","_","path","Linear","context","_context","defined","constant","curve","curveLinear","output","line","data","buffer","defined0","lineStart","lineEnd","point","pointX","pointY","order","s0","s1","stackValue","stackSeries","sign","slope3","that","x2","y2","h0","h1","slope2","h","t0","t1","x0","y0","x1","y1","dx","bezierCurveTo","MonotoneX","moveTo","closePath","lineTo","quadraticCurveTo","arcTo","r","x21","y21","x01","y01","l01_2","Error","x20","y20","l21_2","l20_2","l21","l01","l","tan","acos","t01","t21","arc","a0","a1","ccw","cos","dy","sin","cw","da","rect","w","areaStart","_line","areaEnd","_point","_t0","create","monotoneX","Line","areaPath","elementType","_x","_y2","areaFn","area","x0z","y0z","arealine","lineX0","lineY0","lineY1","lineX1","every","_y","lineFn","linePath","showDatumElements","opacity","radius","show","cx","getX","cy","getY","transition","circle","px","initRange","domain","implicit","ordinal","unknown","copy","band","ordinalRange","paddingInner","paddingOuter","align","rescale","sequence","rangeRound","padding","factory","extend","parent","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","trim","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","rgbConvert","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","Hsl","hslConvert","clamph","clampt","hsl2rgb","m1","m2","define","channels","displayable","formatHex8","formatHsl","clamp","gamma","nogamma","exponential","linear","rgbGamma","end","colorRgb","genericArray","nb","na","Date","setTime","reA","reB","am","bm","bs","bi","lastIndex","q","number","one","zero","join","string","date","ArrayBuffer","isView","DataView","isNumberArray","numberArray","object","unit","normalize","bimap","interpolate","d0","d1","polymap","bisect","transformer","untransform","piecewise","input","interpolateValue","invert","interpolateNumber","interpolateRound","u","continuous","formatDecimalParts","toExponential","coefficient","prefixExponent","re","formatSpecifier","specifier","match","FormatSpecifier","symbol","comma","precision","exponent","toFixed","toLocaleString","replace","toPrecision","formatRounded","toUpperCase","locale","formatPrefix","prefixes","grouping","thousands","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals","String","percent","minus","nan","newFormat","formatTypes","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","formatTrim","charCodeAt","Infinity","e","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","nice","prestep","maxIter","interval","transformLog","transformExp","transformLogn","transformExpn","pow10","reflect","loggish","logs","pows","base","E","log10","log2","logp","powp","v","formatLocale","newInterval","floori","offseti","field","offset","previous","filter","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","getMilliseconds","getUTCSeconds","minute","getSeconds","getMinutes","hour","getHours","day","setHours","setDate","getDate","getTimezoneOffset","weekday","getDay","sunday","monday","thursday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","ticker","week","tickIntervals","tickInterval","utcTicks","utcTickInterval","utcWeek","timeTicks","timeTickInterval","localDate","H","M","S","L","utcDate","UTC","newDate","timeFormat","utcFormat","pads","numberRe","requoteRe","pad","requote","formatRe","names","formatLookup","parseWeekdayNumberSunday","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","percentRe","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","timeDay","timeYear","formatMilliseconds","formatMicroseconds","formatMonthNumber","formatMinutes","formatSeconds","formatWeekdayNumberMonday","formatWeekNumberSunday","timeSunday","dISO","timeThursday","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","timeMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","time","timeMonth","timeWeek","timeHour","timeMinute","timeSecond","utcTime","utcSecond","locale_dateTime","dateTime","locale_date","locale_time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","charAt","newParse","parse","X","utcParse","buildAxisLinear","isPrimary","userOptions","allDatums","options","minTickPaddingForRotation","tickLabelRotationDeg","innerBandPadding","outerBandPadding","innerSeriesBandPadding","outerSeriesBandPadding","shouldNice","defaultAxisOptions","position","outerRange","scaleType","isLocal","scaleFn","scaleTime","scaleUtc","isInvalid","secondaryAxisId","id","autoFormatStr","extent","getValue","originalDatum","minValue","maxValue","units","resolvedTimeFormat","trimFormat","str","contextFormat","hardMin","hardMax","console","info","outerScale","buildPrimaryBandScale","buildSeriesBandScale","primaryBandWidth","padBandRange","bandStart","diff","formatters","defaultFormat","scaleFormat","_options$formatters","tooltipFormat","_options$formatters2","tooltip","cursorFormat","_options$formatters3","cursor","buildTimeAxis","scaleLog","scaleLinear","axisOptions","seriesIndices","orderNone","offsetNone","stack","oz","sz","_series$Number","_series$Number$datums","val","stackOffset","stackOffsetNone","stacker","sIndex","flat","minDomainLength","bottom","_options$formatters4","_options$formatters5","_options$formatters6","buildLinearAxis","scaleBand","Set","_options$formatters7","_options$formatters8","_options$formatters9","buildBandAxis","impliedBandWidth","serie","two","d3Range","find","_series$find","indexPerAxis","defaultLocale","getElBox","getBoundingClientRect","AxisLinearComp","useState","showRotated","setShowRotated","getOptions","dark","showDebugAxes","elRef","axisDimensionsState","axisDimensions","setAxisDimensions","axisDimension","useMemo","_axisDimensions","measureRotation","useCallback","widestLabel","gridSize","staticLabelDims","querySelectorAll","forEach","label","resolvedLabel","smallestTickGap","prev","shouldRotate","measureDimensions","newDimensions","paddingTop","paddingBottom","paddingLeft","paddingRight","currentEl","axisEl","querySelector","domainEl","axisDims","domainDims","some","old","newAxes","useIsomorphicLayoutEffect","requestAnimationFrame","useMeasure","renderAxis","isOuter","isRotated","rangeStart","rangeEnd","resolvedHeight","resolvedWidth","lineFrom","anyAxis","tickCount","autoSpacing","getTicks","tick","getTickPx","to","gridTo","className","pointerEvents","tickLabelX","tickLabelY","fontSize","dominantBaseline","textAnchor","showGrid","usePrevious","useLatestWhen","when","usePortalElement","portalEl","setPortalEl","document","getElementById","createElement","setAttribute","body","append","useRect","enabled","rerender","useReducer","rectRef","measure","cb","addEventListener","removeEventListener","observer","ResizeObserver","observe","unobserve","_setPrototypeOf","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","_construct","Parent","args","Class","isNativeReflectConstruct","instance","Function","almostEqual","almostZero","Spring","init","mass","springConstant","damping","_m","_k","_c","_solution","endPosition","_startTime","dt","getTime","setEnd","velocity","_solve","snap","initial","cmk","c1","c2","r2","useSpring","config","immediate","_debug","springRef","callback","raf","rafCallback","cancelAnimationFrame","useRaf","startRaf","stopRaf","prevRef","changed","getLineBackgroundColor","getBackgroundColor","defaultCursor","showLine","showLabel","Cursors","primaryOptions","primaryCursor","secondaryOptions","secondaryCursor","resolvedPrimaryOptions","resolvedSecondaryOptions","Cursor","props","svgRef","secondaryAxes","getTooltipOptions","latestFocusedDatum","siblingAxis","resolveValue","_d$stackData","datumValue","onChange","alignPctX","alignPctY","latestPropsValue","latestDatumValue","latestValue","siblingRange","bubbleX","bubbleY","lineStartX","lineStartY","lineEndX","lineEndY","lineHeight","lineWidth","formattedValue","svgRect","lineRef","bubbleRef","latestLineStartX","latestLineStartY","latestBubbleX","latestBubbleY","lineXSpring","lineYSpring","bubbleXSpring","bubbleYSpring","ReactDOM","createPortal","fontFamily","background","borderRadius","whiteSpace","sideSchemas","side","startKey","lengthKey","crossStartKey","crossLengthKey","fromEnd","useAnchor","portalDims","anchorDims","anchorEl","tooltipDims","tooltipEl","sides","alignStr","split","JSON","stringify","ready","fit","useLargest","fits","targetStart","fitRatio","crossTargetStart","parentStart","parentLength","crossParentStart","crossParentLength","anchorStart","anchorLength","crossAnchorStart","crossAnchorLength","crossAnchorWidth","targetLength","crossTargetLength","includes","measureFit","fitOnBestSide","visibility","tooltipRenderer","TooltipRenderer","latestFit","anchor","getDatumStyle","groupDatums","_props$focusedDatum","tooltipGroup","activeIndex","findIndex","resolvedShowCount","arrowPosition","triangleStyles","visibleSortedGroupDatums","hasPrevious","hasNext","finalAlign","backgroundColor","borderLeft","borderRight","borderTop","triangleSize","borderBottom","marginBottom","textAlign","groupingMode","seriesLabel","sortedDatum","active","datumSecondaryAxis","fontWeight","display","alignItems","justifyContent","Fragment","Tooltip","setTooltipEl","anchorRect","_latestFocusedDatum$e2","translateX","translateY","previousAnchor","anchorStyle","tooltipRef","tooltipXSpring","tooltipYSpring","render","EPSILON","EDGE_STACK","Delaunator","points","defaultGetX","defaultGetY","coords","maxTriangles","_triangles","_halfedges","Int32Array","_hashSize","_hullPrev","_hullNext","_hullTri","_hullHash","_ids","_dists","update","hullPrev","hullNext","hullTri","hullHash","minX","minY","maxX","maxY","i2","minDist","dist","i0x","i0y","i1x","i1y","minRadius","circumradius","i2x","i2y","quicksort","hull","triangles","halfedges","orient","ax","ay","bx","by","ex","ey","bl","cl","circumcenter","_cx","_cy","_hullStart","hullSize","_hashKey","trianglesLen","_addTriangle","xp","yp","_legalize","pseudoAngle","ar","b0","al","p0","pr","pl","p1","inCircle","hbl","_link","br","orientIfSure","py","rx","ry","qx","qy","fx","fy","bp","cp","ids","dists","temp","tempDist","tmp","Polygon","Voronoi","delaunay","xmin","ymin","xmax","ymax","_circumcenters","vectors","_init","circumcenters","t2","t3","x3","y3","ab","inedges","ti","tj","xi","yi","xj","yj","_renderSegment","_project","renderBounds","renderCell","_clip","cell","cellPolygon","polygon","c0","_regioncode","_clipSegment","contains","_step","ci","neighbors","cj","loop","ai","li","aj","lj","_cell","e0","_clipInfinite","_clipFinite","e1","P","sx0","sy0","sx1","sy1","_edgecode","_edge","vx0","vy0","vxn","vyn","unshift","splice","vx","vy","jitter","Delaunay","flatArray","flatIterable","_delaunator","_hullIndex","collinear","bounds","hypot","hullIndex","voronoi","dc","renderHull","renderPoints","hullPolygon","renderTriangle","trianglePolygon","isInteractingState","setFocusedDatum","isInteracting","onFocusDatum","onClickDatum","showVoronoi","interactionMode","handleFocus","SingleVoronoi","PrimaryVoronoi","datumsByInteractionGroup","stackedVoronoi","useBarPx","preColumns","aAxis","bAxis","columns","all","primaryPx","primaryStart","primaryEnd","datumBoundaries","secondaryStart","secondaryEnd","_datum$stackData3","prevAxis","_prev$stackData","nextAxis","_next$stackData","onMouseLeave","column","datumBoundary","xEnd","yEnd","onMouseEnter","delaunayLineFn","polygons","voronoiData","cellPolygons","_datum$stackData4","defaultColorScheme","ChartInner","primaryAxisOptions","firstValue","getFirstDefinedValue","axisOptionsWithScaleType","secondaryAxesOptions","tooltipOptions","alignPriority","arrowPadding","defaultTooltip","_options","_options2","indicesByAxisId","originalSeries","seriesId","originalDatums","seriesIndexPerAxis","datumIndex","datumsByTooltipGroup","allBarAndNotStacked","getInteractionPrimary","getInteractionKey","getTooltipKey","interactionKey","tooltipKey","sortDatumsBySecondaryPx","interactiveGroup","defaultColors","status","getSeriesStatus","statusStyles","getSeriesStyle","_getOptions$getSeries2","_series$datum$seriesI","_datum$tooltipGroup","groupDatum","getDatumStatus","_getOptions$getDatumS2","orderedSeries","reversedSeries","getSeriesOrder","parentElement","contextValue","seriesByAxisId","getSeriesInfo","getMemoizedSeriesInfo","memoizeSeries","seriesEl","axisId","Component","Bar","overflow","brush","onClick","AxisLinear","renderSVG","firstDefinedValue","aPx","_a$stackData","bPx","_b$stackData","rest","initialWidth","initialHeight","useIntersectionObserver","intersectionObserverRootMargin","defaultChartOptions","chartElement","setContainerElement","containerEl","nearestScrollableParent","run","grandParent","scrollHeight","clientHeight","getComputedStyle","setDims","computed","styles","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","isIntersecting","setIsIntersecting","IntersectionObserver","root","rootMargin"],"mappings":"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"}